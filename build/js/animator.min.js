(function(){!function t(e,n,r){function o(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t){(function(e){"use strict";if(e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");e._babelPolyfill=!0,t("./es6-shim"),t("regenerator-babel/runtime")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./es6-shim":2,"regenerator-babel/runtime":60}],2:[function(t,e){t("core-js/es6"),e.exports=t("core-js/modules/$").core},{"core-js/es6":3,"core-js/modules/$":16}],3:[function(t,e){t("../modules/es6.symbol"),t("../modules/es6.object.assign"),t("../modules/es6.object.is"),t("../modules/es6.object.set-prototype-of"),t("../modules/es6.object.to-string"),t("../modules/es6.object.statics-accept-primitives"),t("../modules/es6.function.name"),t("../modules/es6.number.constructor"),t("../modules/es6.number.statics"),t("../modules/es6.math"),t("../modules/es6.string.from-code-point"),t("../modules/es6.string.raw"),t("../modules/es6.string.iterator"),t("../modules/es6.string.code-point-at"),t("../modules/es6.string.ends-with"),t("../modules/es6.string.includes"),t("../modules/es6.string.repeat"),t("../modules/es6.string.starts-with"),t("../modules/es6.array.from"),t("../modules/es6.array.of"),t("../modules/es6.array.species"),t("../modules/es6.array.iterator"),t("../modules/es6.array.copy-within"),t("../modules/es6.array.fill"),t("../modules/es6.array.find"),t("../modules/es6.array.find-index"),t("../modules/es6.regexp"),t("../modules/es6.promise"),t("../modules/es6.map"),t("../modules/es6.set"),t("../modules/es6.weak-map"),t("../modules/es6.weak-set"),t("../modules/es6.reflect"),e.exports=t("../modules/$").core},{"../modules/$":16,"../modules/es6.array.copy-within":27,"../modules/es6.array.fill":28,"../modules/es6.array.find":30,"../modules/es6.array.find-index":29,"../modules/es6.array.from":31,"../modules/es6.array.iterator":32,"../modules/es6.array.of":33,"../modules/es6.array.species":34,"../modules/es6.function.name":35,"../modules/es6.map":36,"../modules/es6.math":37,"../modules/es6.number.constructor":38,"../modules/es6.number.statics":39,"../modules/es6.object.assign":40,"../modules/es6.object.is":41,"../modules/es6.object.set-prototype-of":42,"../modules/es6.object.statics-accept-primitives":43,"../modules/es6.object.to-string":44,"../modules/es6.promise":45,"../modules/es6.reflect":46,"../modules/es6.regexp":47,"../modules/es6.set":48,"../modules/es6.string.code-point-at":49,"../modules/es6.string.ends-with":50,"../modules/es6.string.from-code-point":51,"../modules/es6.string.includes":52,"../modules/es6.string.iterator":53,"../modules/es6.string.raw":54,"../modules/es6.string.repeat":55,"../modules/es6.string.starts-with":56,"../modules/es6.symbol":57,"../modules/es6.weak-map":58,"../modules/es6.weak-set":59}],4:[function(t,e){"use strict";var n=t("./$"),r=t("./$.ctx");e.exports=function(t){var e=1==t,o=2==t,i=3==t,s=4==t,c=6==t,u=5==t||c;return function(a){for(var f,l,h=Object(n.assertDefined(this)),d=n.ES5Object(h),p=r(a,arguments[1],3),g=n.toLength(d.length),$=0,v=e?Array(g):o?[]:void 0;g>$;$++)if((u||$ in d)&&(f=d[$],l=p(f,$,h),t))if(e)v[$]=l;else if(l)switch(t){case 3:return!0;case 5:return f;case 6:return $;case 2:v.push(f)}else if(s)return!1;return c?-1:i||s?s:v}}},{"./$":16,"./$.ctx":11}],5:[function(t,e){function n(t,e,n){if(!t)throw TypeError(n?e+n:e)}var r=t("./$");n.def=r.assertDefined,n.fn=function(t){if(!r.isFunction(t))throw TypeError(t+" is not a function!");return t},n.obj=function(t){if(!r.isObject(t))throw TypeError(t+" is not an object!");return t},n.inst=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t},e.exports=n},{"./$":16}],6:[function(t,e){var n=t("./$");e.exports=Object.assign||function(t){for(var e=Object(n.assertDefined(t)),r=arguments.length,o=1;r>o;)for(var i,s=n.ES5Object(arguments[o++]),c=n.getKeys(s),u=c.length,a=0;u>a;)e[i=c[a++]]=s[i];return e}},{"./$":16}],7:[function(t,e){function n(t){return i.call(t).slice(8,-1)}var r=t("./$"),o=t("./$.wks")("toStringTag"),i={}.toString;n.classof=function(t){var e,r;return void 0==t?void 0===t?"Undefined":"Null":"string"==typeof(r=(e=Object(t))[o])?r:n(e)},n.set=function(t,e,n){t&&!r.has(t=n?t:t.prototype,o)&&r.hide(t,o,e)},e.exports=n},{"./$":16,"./$.wks":26}],8:[function(t,e){"use strict";function n(t,e){if(!l(t))return("string"==typeof t?"S":"P")+t;if(p(t))return"F";if(!a(t,g)){if(!e)return"E";h(t,g,++w)}return"O"+t[g]}function r(t,e){var r,o=n(e);if("F"!=o)return t[$][o];for(r=t[y];r;r=r.n)if(r.k==e)return r}var o=t("./$"),i=t("./$.ctx"),s=t("./$.uid").safe,c=t("./$.assert"),u=t("./$.iter"),a=o.has,f=o.set,l=o.isObject,h=o.hide,d=u.step,p=Object.isFrozen||o.core.Object.isFrozen,g=s("id"),$=s("O1"),v=s("last"),y=s("first"),m=s("iter"),b=o.DESC?s("size"):"size",w=0;e.exports={getConstructor:function(t,e,n){function s(r){var i=c.inst(this,s,t);f(i,$,o.create(null)),f(i,b,0),f(i,v,void 0),f(i,y,void 0),void 0!=r&&u.forOf(r,e,i[n],i)}return o.mix(s.prototype,{clear:function(){for(var t=this,e=t[$],n=t[y];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t[y]=t[v]=void 0,t[b]=0},"delete":function(t){var e=this,n=r(e,t);if(n){var o=n.n,i=n.p;delete e[$][n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),e[y]==n&&(e[y]=o),e[v]==n&&(e[v]=i),e[b]--}return!!n},forEach:function(t){for(var e,n=i(t,arguments[1],3);e=e?e.n:this[y];)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!r(this,t)}}),o.DESC&&o.setDesc(s.prototype,"size",{get:function(){return c.def(this[b])}}),s},def:function(t,e,o){var i,s,c=r(t,e);return c?c.v=o:(t[v]=c={i:s=n(e,!0),k:e,v:o,p:i=t[v],n:void 0,r:!1},t[y]||(t[y]=c),i&&(i.n=c),t[b]++,"F"!=s&&(t[$][s]=c)),t},getEntry:r,getIterConstructor:function(){return function(t,e){f(this,m,{o:t,k:e})}},next:function(){for(var t=this[m],e=t.k,n=t.l;n&&n.r;)n=n.p;return t.o&&(t.l=n=n?n.n:t.o[y])?"key"==e?d(0,n.k):"value"==e?d(0,n.v):d(0,[n.k,n.v]):(t.o=void 0,d(1))}}},{"./$":16,"./$.assert":5,"./$.ctx":11,"./$.iter":15,"./$.uid":24}],9:[function(t,e){"use strict";function n(t,e){return v.call(t.array,function(t){return t[0]===e})}function r(t){return t[g]||f(t,g,{array:[],get:function(t){var e=n(this,t);return e?e[1]:void 0},has:function(t){return!!n(this,t)},set:function(t,e){var r=n(this,t);r?r[1]=e:this.array.push([t,e])},"delete":function(t){var e=y.call(this.array,function(e){return e[0]===t});return~e&&this.array.splice(e,1),!!~e}})[g]}var o=t("./$"),i=t("./$.uid").safe,s=t("./$.assert"),c=t("./$.iter").forOf,u=o.has,a=o.isObject,f=o.hide,l=Object.isFrozen||o.core.Object.isFrozen,h=0,d=i("id"),p=i("weak"),g=i("leak"),$=t("./$.array-methods"),v=$(5),y=$(6);e.exports={getConstructor:function(t,e,n){function i(r){o.set(s.inst(this,i,t),d,h++),void 0!=r&&c(r,e,this[n],this)}return o.mix(i.prototype,{"delete":function(t){return a(t)?l(t)?r(this)["delete"](t):u(t,p)&&u(t[p],this[d])&&delete t[p][this[d]]:!1},has:function(t){return a(t)?l(t)?r(this).has(t):u(t,p)&&u(t[p],this[d]):!1}}),i},def:function(t,e,n){return l(s.obj(e))?r(t).set(e,n):(u(e,p)||f(e,p,{}),e[p][t[d]]=n),t},leakStore:r,WEAK:p,ID:d}},{"./$":16,"./$.array-methods":4,"./$.assert":5,"./$.iter":15,"./$.uid":24}],10:[function(t,e){"use strict";var n=t("./$"),r=t("./$.def"),o=t("./$.iter"),i=t("./$.assert").inst;e.exports=function(e,s,c,u,a){function f(t,e){var r=p[t];n.FW&&(p[t]=function(t,n){var o=r.call(this,0===t?0:t,n);return e?this:o})}var l=n.g[e],h=l,d=u?"set":"add",p=h&&h.prototype,g={};if(n.isFunction(h)&&(a||!o.BUGGY&&p.forEach&&p.entries)){var $,v=new h,y=v[d](a?{}:-0,1);(o.fail(function(t){new h(t)})||o.DANGER_CLOSING)&&(h=function(t){i(this,h,e);var n=new l;return void 0!=t&&o.forOf(t,u,n[d],n),n},h.prototype=p,n.FW&&(p.constructor=h)),a||v.forEach(function(t,e){$=1/e===-1/0}),$&&(f("delete"),f("has"),u&&f("get")),($||y!==v)&&f(d,!0)}else h=c.getConstructor(e,u,d),n.mix(h.prototype,s);return t("./$.cof").set(h,e),t("./$.species")(h),g[e]=h,r(r.G+r.W+r.F*(h!=l),g),a||o.std(h,e,c.getIterConstructor(),c.next,u?"key+value":"value",!u,!0),h}},{"./$":16,"./$.assert":5,"./$.cof":7,"./$.def":12,"./$.iter":15,"./$.species":21}],11:[function(t,e){var n=t("./$.assert").fn;e.exports=function(t,e,r){if(n(t),~r&&void 0===e)return t;switch(r){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},{"./$.assert":5}],12:[function(t,e){function n(t,e){return function(){return t.apply(e,arguments)}}function r(t,e,u){var a,f,l,h,d=t&r.G,p=d?i:t&r.S?i[e]:(i[e]||{}).prototype,g=d?s:s[e]||(s[e]={});d&&(u=e);for(a in u)f=!(t&r.F)&&p&&a in p,l=(f?p:u)[a],h=t&r.B&&f?n(l,i):t&r.P&&c(l)?n(Function.call,l):l,p&&!f&&(d?p[a]=l:delete p[a]&&o.hide(p,a,l)),g[a]!=l&&o.hide(g,a,h)}var o=t("./$"),i=o.g,s=o.core,c=o.isFunction;i.core=s,r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,e.exports=r},{"./$":16}],13:[function(t,e){e.exports=function(t){return t.FW=!0,t.path=t.g,t}},{}],14:[function(t,e){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3]);case 5:return r?t(e[0],e[1],e[2],e[3],e[4]):t.call(n,e[0],e[1],e[2],e[3],e[4])}return t.apply(n,e)}},{}],15:[function(t,e){"use strict";function n(t,e){c.hide(t,h,e),d in[]&&c.hide(t,d,e)}function r(t,e,r,o){var i=t.prototype,s=i[h]||i[d]||o&&i[o]||r;if(c.FW&&n(i,s),s!==r){var u=c.getProto(s.call(new t));a.set(u,e+" Iterator",!0),c.FW&&c.has(i,d)&&n(u,c.that)}return p[e]=s,p[e+" Iterator"]=c.that,s}function o(t){var e=c.g.Symbol,n=t[e&&e.iterator||d],r=n||t[h]||p[a.classof(t)];return l(r.call(t))}function i(t){var e=t["return"];void 0!==e&&l(e.call(t))}function s(t,e,n,r){try{return r?e(l(n)[0],n[1]):e(n)}catch(o){throw i(t),o}}var c=t("./$"),u=t("./$.ctx"),a=t("./$.cof"),f=t("./$.def"),l=t("./$.assert").obj,h=t("./$.wks")("iterator"),d="@@iterator",p={},g={},$="keys"in[]&&!("next"in[].keys());n(g,c.that);var v=!0;!function(){try{var t=[1].keys();t["return"]=function(){v=!1},Array.from(t,function(){throw 2})}catch(e){}}();var y=e.exports={BUGGY:$,DANGER_CLOSING:v,fail:function(t){var e=!0;try{var n=[[{},1]],r=n[h](),o=r.next;r.next=function(){return e=!1,o.call(this)},n[h]=function(){return r},t(n)}catch(i){}return e},Iterators:p,prototype:g,step:function(t,e){return{value:e,done:!!t}},stepCall:s,close:i,is:function(t){var e=Object(t),n=c.g.Symbol,r=n&&n.iterator||d;return r in e||h in e||c.has(p,a.classof(e))},get:o,set:n,create:function(t,e,n,r){t.prototype=c.create(r||y.prototype,{next:c.desc(1,n)}),a.set(t,e+" Iterator")},define:r,std:function(t,e,n,o,i,s,u){function a(t){return function(){return new n(this,t)}}y.create(n,e,o);var l,h,d=a("key+value"),p=a("value"),g=t.prototype;if("value"==i?p=r(t,e,p,"values"):d=r(t,e,d,"entries"),i&&(l={entries:d,keys:s?p:a("key"),values:p},f(f.P+f.F*$,e,l),u))for(h in l)h in g||c.hide(g,h,l[h])},forOf:function(t,e,n,r){for(var c,a=o(t),f=u(n,r,e?2:1);!(c=a.next()).done;)if(s(a,f,c.value,e)===!1)return i(a)}}},{"./$":16,"./$.assert":5,"./$.cof":7,"./$.ctx":11,"./$.def":12,"./$.wks":26}],16:[function(t,e){"use strict";function n(t){return isNaN(t=+t)?0:(t>0?p:d)(t)}function r(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function o(t,e,n){return t[e]=n,t}function i(t){return v?function(e,n,o){return m.setDesc(e,n,r(t,o))}:o}function s(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function c(t){return"function"==typeof t}function u(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}var a="undefined"!=typeof self?self:Function("return this")(),f={},l=Object.defineProperty,h={}.hasOwnProperty,d=Math.ceil,p=Math.floor,g=Math.max,$=Math.min,v=!!function(){try{return 2==l({},"a",{get:function(){return 2}}).a}catch(t){}}(),y=i(1),m=e.exports=t("./$.fw")({g:a,core:f,html:a.document&&document.documentElement,isObject:s,isFunction:c,it:function(t){return t},that:function(){return this},toInteger:n,toLength:function(t){return t>0?$(n(t),9007199254740991):0},toIndex:function(t,e){return t=n(t),0>t?g(t+e,0):$(t,e)},has:function(t,e){return h.call(t,e)},create:Object.create,getProto:Object.getPrototypeOf,DESC:v,desc:r,getDesc:Object.getOwnPropertyDescriptor,setDesc:l,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:u,ES5Object:Object,toObject:function(t){return m.ES5Object(u(t))},hide:y,def:i(0),set:a.Symbol?o:y,mix:function(t,e){for(var n in e)y(t,n,e[n]);return t},each:[].forEach});"undefined"!=typeof __e&&(__e=f),"undefined"!=typeof __g&&(__g=a)},{"./$.fw":13}],17:[function(t,e){var n=t("./$");e.exports=function(t,e){for(var r,o=n.toObject(t),i=n.getKeys(o),s=i.length,c=0;s>c;)if(o[r=i[c++]]===e)return r}},{"./$":16}],18:[function(t,e){var n=t("./$"),r=t("./$.assert").obj;e.exports=function(t){return r(t),n.getSymbols?n.getNames(t).concat(n.getSymbols(t)):n.getNames(t)}},{"./$":16,"./$.assert":5}],19:[function(t,e){"use strict";e.exports=function(t,e,n){var r=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(n?e:this).replace(t,r)}}},{}],20:[function(t,e){var n=t("./$"),r=t("./$.assert");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(e,o){try{o=t("./$.ctx")(Function.call,n.getDesc(Object.prototype,"__proto__").set,2),o({},[])}catch(i){e=!0}return function(t,i){return r.obj(t),r(null===i||n.isObject(i),i,": can't set as prototype!"),e?t.__proto__=i:o(t,i),t}}():void 0)},{"./$":16,"./$.assert":5,"./$.ctx":11}],21:[function(t,e){var n=t("./$");e.exports=function(e){n.DESC&&n.FW&&n.setDesc(e,t("./$.wks")("species"),{configurable:!0,get:n.that})}},{"./$":16,"./$.wks":26}],22:[function(t,e){"use strict";var n=t("./$");e.exports=function(t){return function(e){var r,o,i=String(n.assertDefined(this)),s=n.toInteger(e),c=i.length;return 0>s||s>=c?t?"":void 0:(r=i.charCodeAt(s),55296>r||r>56319||s+1===c||(o=i.charCodeAt(s+1))<56320||o>57343?t?i.charAt(s):r:t?i.slice(s,s+2):(r-55296<<10)+(o-56320)+65536)}}},{"./$":16}],23:[function(t,e){"use strict";function n(){var t=+this;if(c.has(m,t)){var e=m[t];delete m[t],e()}}function r(t){n.call(t.data)}var o,i,s,c=t("./$"),u=t("./$.ctx"),a=t("./$.cof"),f=t("./$.invoke"),l=c.g,h=c.isFunction,d=l.setImmediate,p=l.clearImmediate,g=l.postMessage,$=l.addEventListener,v=l.MessageChannel,y=0,m={},b="onreadystatechange";h(d)&&h(p)||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){f(h(t)?t:Function(t),e)},o(y),y},p=function(t){delete m[t]},"process"==a(l.process)?o=function(t){l.process.nextTick(u(n,t,1))}:$&&h(g)&&!c.g.importScripts?(o=function(t){g(t,"*")},$("message",r,!1)):h(v)?(i=new v,s=i.port2,i.port1.onmessage=r,o=u(s.postMessage,s,1)):o=c.g.document&&b in document.createElement("script")?function(t){c.html.appendChild(document.createElement("script"))[b]=function(){c.html.removeChild(this),n.call(t)}}:function(t){setTimeout(u(n,t,1),0)}),e.exports={set:d,clear:p}},{"./$":16,"./$.cof":7,"./$.ctx":11,"./$.invoke":14}],24:[function(t,e){function n(t){return"Symbol("+t+")_"+(++r+Math.random()).toString(36)}var r=0;n.safe=t("./$").g.Symbol||n,e.exports=n},{"./$":16}],25:[function(t,e){var n=t("./$"),r=t("./$.wks")("unscopables");!n.FW||r in[]||n.hide(Array.prototype,r,{}),e.exports=function(t){n.FW&&([][r][t]=!0)}},{"./$":16,"./$.wks":26}],26:[function(t,e){var n=t("./$").g,r={};e.exports=function(e){return r[e]||(r[e]=n.Symbol&&n.Symbol[e]||t("./$.uid").safe("Symbol."+e))}},{"./$":16,"./$.uid":24}],27:[function(t){"use strict";var e=t("./$"),n=t("./$.def"),r=e.toIndex;n(n.P,"Array",{copyWithin:function(t,n){var o=Object(e.assertDefined(this)),i=e.toLength(o.length),s=r(t,i),c=r(n,i),u=arguments[2],a=void 0===u?i:r(u,i),f=Math.min(a-c,i-s),l=1;for(s>c&&c+f>s&&(l=-1,c=c+f-1,s=s+f-1);f-->0;)c in o?o[s]=o[c]:delete o[s],s+=l,c+=l;return o}}),t("./$.unscope")("copyWithin")},{"./$":16,"./$.def":12,"./$.unscope":25}],28:[function(t){"use strict";var e=t("./$"),n=t("./$.def"),r=e.toIndex;n(n.P,"Array",{fill:function(t){for(var n=Object(e.assertDefined(this)),o=e.toLength(n.length),i=r(arguments[1],o),s=arguments[2],c=void 0===s?o:r(s,o);c>i;)n[i++]=t;return n}}),t("./$.unscope")("fill")},{"./$":16,"./$.def":12,"./$.unscope":25}],29:[function(t){var e=t("./$.def");e(e.P,"Array",{findIndex:t("./$.array-methods")(6)}),t("./$.unscope")("findIndex")},{"./$.array-methods":4,"./$.def":12,"./$.unscope":25}],30:[function(t){var e=t("./$.def");e(e.P,"Array",{find:t("./$.array-methods")(5)}),t("./$.unscope")("find")},{"./$.array-methods":4,"./$.def":12,"./$.unscope":25}],31:[function(t){var e=t("./$"),n=t("./$.ctx"),r=t("./$.def"),o=t("./$.iter"),i=o.stepCall;r(r.S+r.F*o.DANGER_CLOSING,"Array",{from:function(t){var r,s,c,u,a=Object(e.assertDefined(t)),f=arguments[1],l=void 0!==f,h=l?n(f,arguments[2],2):void 0,d=0;if(o.is(a))for(u=o.get(a),s=new("function"==typeof this?this:Array);!(c=u.next()).done;d++)s[d]=l?i(u,h,[c.value,d],!0):c.value;else for(s=new("function"==typeof this?this:Array)(r=e.toLength(a.length));r>d;d++)s[d]=l?h(a[d],d):a[d];return s.length=d,s}})},{"./$":16,"./$.ctx":11,"./$.def":12,"./$.iter":15}],32:[function(t){var e=t("./$"),n=t("./$.unscope"),r=t("./$.uid").safe("iter"),o=t("./$.iter"),i=o.step,s=o.Iterators;o.std(Array,"Array",function(t,n){e.set(this,r,{o:e.toObject(t),i:0,k:n})},function(){var t=this[r],e=t.o,n=t.k,o=t.i++;return!e||o>=e.length?(t.o=void 0,i(1)):"key"==n?i(0,o):"value"==n?i(0,e[o]):i(0,[o,e[o]])},"value"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./$":16,"./$.iter":15,"./$.uid":24,"./$.unscope":25}],33:[function(t){var e=t("./$.def");e(e.S,"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)n[t]=arguments[t++];return n.length=e,n}})},{"./$.def":12}],34:[function(t){t("./$.species")(Array)},{"./$.species":21}],35:[function(t){"use strict";var e=t("./$"),n="name",r=e.setDesc,o=Function.prototype;n in o||e.FW&&e.DESC&&r(o,n,{configurable:!0,get:function(){var t=String(this).match(/^\s*function ([^ (]*)/),o=t?t[1]:"";return e.has(this,n)||r(this,n,e.desc(5,o)),o},set:function(t){e.has(this,n)||r(this,n,e.desc(0,t))}})},{"./$":16}],36:[function(t){"use strict";var e=t("./$.collection-strong");t("./$.collection")("Map",{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},{"./$.collection":10,"./$.collection-strong":8}],37:[function(t){function e(t){return isFinite(t=+t)&&0!=t?0>t?-e(-t):a(t+f(t*t+1)):t}function n(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:u(t)-1}var r=1/0,o=t("./$.def"),i=Math.E,s=Math.pow,c=Math.abs,u=Math.exp,a=Math.log,f=Math.sqrt,l=Math.ceil,h=Math.floor,d=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1};o(o.S,"Math",{acosh:function(t){return(t=+t)<1?0/0:isFinite(t)?a(t/i+f(t+1)*f(t-1)/i)+1:t},asinh:e,atanh:function(t){return 0==(t=+t)?t:a((1+t)/(1-t))/2},cbrt:function(t){return d(t=+t)*s(c(t),1/3)},clz32:function(t){return(t>>>=0)?32-t.toString(2).length:32},cosh:function(t){return(u(t=+t)+u(-t))/2},expm1:n,fround:function(t){return new Float32Array([t])[0]},hypot:function(){for(var t,e=0,n=arguments.length,o=n,i=Array(n),c=-r;n--;){if(t=i[n]=+arguments[n],t==r||t==-r)return r;t>c&&(c=t)}for(c=t||1;o--;)e+=s(i[o]/c,2);return c*f(e)},imul:function(t,e){var n=65535,r=+t,o=+e,i=n&r,s=n&o;return 0|i*s+((n&r>>>16)*s+i*(n&o>>>16)<<16>>>0)},log1p:function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:a(1+t)},log10:function(t){return a(t)/Math.LN10},log2:function(t){return a(t)/Math.LN2},sign:d,sinh:function(t){return c(t=+t)<1?(n(t)-n(-t))/2:(u(t-1)-u(-t-1))*(i/2)},tanh:function(t){var e=n(t=+t),o=n(-t);return e==r?1:o==r?-1:(e-o)/(u(t)+u(-t))},trunc:function(t){return(t>0?h:l)(t)}})},{"./$.def":12}],38:[function(t){"use strict";function e(t){var e,n;if(i(e=t.valueOf)&&!o(n=e.call(t)))return n;if(i(e=t.toString)&&!o(n=e.call(t)))return n;throw TypeError("Can't convert object to number")}function n(t){if(o(t)&&(t=e(t)),"string"==typeof t&&t.length>2&&48==t.charCodeAt(0)){var n=!1;switch(t.charCodeAt(1)){case 66:case 98:n=!0;case 79:case 111:return parseInt(t.slice(2),n?2:8)}}return+t}var r=t("./$"),o=r.isObject,i=r.isFunction,s="Number",c=r.g[s],u=c,a=c.prototype;!r.FW||c("0o1")&&c("0b1")||(c=function f(t){return this instanceof f?new u(n(t)):n(t)},r.each.call(r.DESC?r.getNames(u):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(t){r.has(u,t)&&!r.has(c,t)&&r.setDesc(c,t,r.getDesc(u,t))}),c.prototype=a,a.constructor=c,r.hide(r.g,s,c))},{"./$":16}],39:[function(t){function e(t){return!n.isObject(t)&&isFinite(t)&&i(t)===t}var n=t("./$"),r=t("./$.def"),o=Math.abs,i=Math.floor,s=9007199254740991;r(r.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(t){return"number"==typeof t&&isFinite(t)},isInteger:e,isNaN:function(t){return t!=t},isSafeInteger:function(t){return e(t)&&o(t)<=s},MAX_SAFE_INTEGER:s,MIN_SAFE_INTEGER:-s,parseFloat:parseFloat,parseInt:parseInt})},{"./$":16,"./$.def":12}],40:[function(t){var e=t("./$.def");e(e.S,"Object",{assign:t("./$.assign")})},{"./$.assign":6,"./$.def":12}],41:[function(t){var e=t("./$.def");e(e.S,"Object",{is:function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}})},{"./$.def":12}],42:[function(t){var e=t("./$.def");e(e.S,"Object",{setPrototypeOf:t("./$.set-proto")})},{"./$.def":12,"./$.set-proto":20}],43:[function(t){function e(t,e){var s=(n.core.Object||{})[t]||Object[t],c=0,u={};u[t]=1==e?function(t){return o(t)?s(t):t}:2==e?function(t){return o(t)?s(t):!0}:3==e?function(t){return o(t)?s(t):!1}:4==e?function(t,e){return s(i(t),e)}:5==e?function(t){return s(Object(n.assertDefined(t)))}:function(t){return s(i(t))};try{s("z")}catch(a){c=1}r(r.S+r.F*c,"Object",u)}var n=t("./$"),r=t("./$.def"),o=n.isObject,i=n.toObject;e("freeze",1),e("seal",1),e("preventExtensions",1),e("isFrozen",2),e("isSealed",2),e("isExtensible",3),e("getOwnPropertyDescriptor",4),e("getPrototypeOf",5),e("keys"),e("getOwnPropertyNames")},{"./$":16,"./$.def":12}],44:[function(t){"use strict";var e=t("./$"),n=t("./$.cof"),r={};r[t("./$.wks")("toStringTag")]="z",e.FW&&"z"!=n(r)&&e.hide(Object.prototype,"toString",function(){return"[object "+n.classof(this)+"]"})},{"./$":16,"./$.cof":7,"./$.wks":26}],45:[function(t){"use strict";function e(t){var e=w(t)[a];return void 0!=e?e:t}var n,r=t("./$"),o=t("./$.ctx"),i=t("./$.cof"),s=t("./$.def"),c=t("./$.assert"),u=t("./$.iter"),a=t("./$.wks")("species"),f=t("./$.uid").safe("record"),l=u.forOf,h="Promise",d=r.g,p=d.process,g=p&&p.nextTick||t("./$.task").set,$=d[h],v=$,y=r.isFunction,m=r.isObject,b=c.fn,w=c.obj;y($)&&y($.resolve)&&$.resolve(n=new $(function(){}))==n||function(){function t(t){var e;return m(t)&&(e=t.then),y(e)?e:!1}function e(t){var n,r=t[f],o=r.c,i=0;if(r.h)return!0;for(;o.length>i;)if(n=o[i++],n.fail||e(n.P))return!0}function n(n,r){var o=n.c;(r||o.length)&&g(function(){var s=n.p,c=n.v,u=1==n.s,a=0;if(r&&!e(s))setTimeout(function(){e(s)||("process"==i(p)?p.emit("unhandledRejection",c,s):d.console&&y(console.error)&&console.error("Unhandled promise rejection",c))},1e3);else for(;o.length>a;)!function(e){var r,o,i=u?e.ok:e.fail;try{i?(u||(n.h=!0),r=i===!0?c:i(c),r===e.P?e.rej(TypeError(h+"-chain cycle")):(o=t(r))?o.call(r,e.res,e.rej):e.res(r)):e.rej(c)}catch(s){e.rej(s)}}(o[a++]);o.length=0})}function s(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,n(e,!0))}function u(e){var r,i,c=this;if(!c.d){c.d=!0,c=c.r||c;try{(r=t(e))?(i={r:c,d:!1},r.call(e,o(u,i,1),o(s,i,1))):(c.v=e,c.s=1,n(c))}catch(a){s.call(i||{r:c,d:!1},a)}}}$=function(t){b(t);var e={p:c.inst(this,$,h),c:[],s:0,d:!1,v:void 0,h:!1};r.hide(this,f,e);try{t(o(u,e,1),o(s,e,1))}catch(n){s.call(e,n)}},r.mix($.prototype,{then:function(t,e){var r=w(w(this).constructor)[a],o={ok:y(t)?t:!0,fail:y(e)?e:!1},i=o.P=new(void 0!=r?r:$)(function(t,e){o.res=b(t),o.rej=b(e)}),s=this[f];return s.c.push(o),s.s&&n(s),i},"catch":function(t){return this.then(void 0,t)}})}(),s(s.G+s.W+s.F*($!=v),{Promise:$}),s(s.S,h,{reject:function(t){return new(e(this))(function(e,n){n(t)})},resolve:function(t){return m(t)&&f in t&&r.getProto(t)===this.prototype?t:new(e(this))(function(e){e(t)})}}),s(s.S+s.F*(u.fail(function(t){$.all(t)["catch"](function(){})})||u.DANGER_CLOSING),h,{all:function(t){var n=e(this),o=[];return new n(function(e,i){l(t,!1,o.push,o);var s=o.length,c=Array(s);s?r.each.call(o,function(t,r){n.resolve(t).then(function(t){c[r]=t,--s||e(c)},i)}):e(c)})},race:function(t){var n=e(this);return new n(function(e,r){l(t,!1,function(t){n.resolve(t).then(e,r)})})}}),i.set($,h),t("./$.species")($)},{"./$":16,"./$.assert":5,"./$.cof":7,"./$.ctx":11,"./$.def":12,"./$.iter":15,"./$.species":21,"./$.task":23,"./$.uid":24,"./$.wks":26}],46:[function(t){function e(t){var e,n=[];for(e in t)n.push(e);i.set(this,a,{o:t,a:n,i:0})}function n(t){return function(e){v(e);try{return t.apply(void 0,arguments),!0}catch(n){return!1}}}function r(t,e){var n,o=arguments.length<3?t:arguments[2],s=d(v(t),e);return s?i.has(s,"value")?s.value:void 0===s.get?void 0:s.get.call(o):h(n=g(t))?r(n,e,o):void 0}function o(t,e,n){var r,s,c=arguments.length<4?t:arguments[3],u=d(v(t),e);if(!u){if(h(s=g(t)))return o(s,e,n,c);u=i.desc(0)}return i.has(u,"value")?u.writable!==!1&&h(c)?(r=d(c,e)||i.desc(0),r.value=n,p(c,e,r),!0):!1:void 0===u.set?!1:(u.set.call(c,n),!0)}var i=t("./$"),s=t("./$.def"),c=t("./$.set-proto"),u=t("./$.iter"),a=t("./$.uid").safe("iter"),f=u.step,l=t("./$.assert"),h=i.isObject,d=i.getDesc,p=i.setDesc,g=i.getProto,$=Function.apply,v=l.obj,y=Object.isExtensible||i.it;u.create(e,"Object",function(){var t,e=this[a],n=e.a;do if(e.i>=n.length)return f(1);while(!((t=n[e.i++])in e.o));return f(0,t)});var m={apply:t("./$.ctx")(Function.call,$,3),construct:function(t,e){var n=l.fn(arguments.length<3?t:arguments[2]).prototype,r=i.create(h(n)?n:Object.prototype),o=$.call(t,r,e);return h(o)?o:r},defineProperty:n(p),deleteProperty:function(t,e){var n=d(v(t),e);return n&&!n.configurable?!1:delete t[e]},enumerate:function(t){return new e(v(t))},get:r,getOwnPropertyDescriptor:function(t,e){return d(v(t),e)},getPrototypeOf:function(t){return g(v(t))},has:function(t,e){return e in t},isExtensible:function(t){return!!y(v(t))},ownKeys:t("./$.own-keys"),preventExtensions:n(Object.preventExtensions||i.it),set:o};c&&(m.setPrototypeOf=function(t,e){return c(v(t),e),!0}),s(s.G,{Reflect:{}}),s(s.S,"Reflect",m)},{"./$":16,"./$.assert":5,"./$.ctx":11,"./$.def":12,"./$.iter":15,"./$.own-keys":18,"./$.set-proto":20,"./$.uid":24}],47:[function(t){var e=t("./$"),n=t("./$.cof"),r=e.g.RegExp,o=r,i=r.prototype;e.FW&&e.DESC&&(function(){try{return"/a/i"==r(/a/g,"i")}catch(t){}}()||(r=function(t,e){return new o("RegExp"==n(t)&&void 0!==e?t.source:t,e)},e.each.call(e.getNames(o),function(t){t in r||e.setDesc(r,t,{configurable:!0,get:function(){return o[t]},set:function(e){o[t]=e}})}),i.constructor=r,r.prototype=i,e.hide(e.g,"RegExp",r)),"g"!=/./g.flags&&e.setDesc(i,"flags",{configurable:!0,get:t("./$.replacer")(/^.*\/(\w*)$/,"$1")})),t("./$.species")(r)},{"./$":16,"./$.cof":7,"./$.replacer":19,"./$.species":21}],48:[function(t){"use strict";var e=t("./$.collection-strong");t("./$.collection")("Set",{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},{"./$.collection":10,"./$.collection-strong":8}],49:[function(t){var e=t("./$.def");e(e.P,"String",{codePointAt:t("./$.string-at")(!1)})},{"./$.def":12,"./$.string-at":22}],50:[function(t){"use strict";var e=t("./$"),n=t("./$.cof"),r=t("./$.def"),o=e.toLength;r(r.P,"String",{endsWith:function(t){if("RegExp"==n(t))throw TypeError();var r=String(e.assertDefined(this)),i=arguments[1],s=o(r.length),c=void 0===i?s:Math.min(o(i),s);return t+="",r.slice(c-t.length,c)===t}})},{"./$":16,"./$.cof":7,"./$.def":12}],51:[function(t){var e=t("./$.def"),n=t("./$").toIndex,r=String.fromCharCode;e(e.S,"String",{fromCodePoint:function(){for(var t,e=[],o=arguments.length,i=0;o>i;){if(t=+arguments[i++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");e.push(65536>t?r(t):r(((t-=65536)>>10)+55296,t%1024+56320))}return e.join("")}})},{"./$":16,"./$.def":12}],52:[function(t){"use strict";var e=t("./$"),n=t("./$.cof"),r=t("./$.def");r(r.P,"String",{includes:function(t){if("RegExp"==n(t))throw TypeError();return!!~String(e.assertDefined(this)).indexOf(t,arguments[1])}})},{"./$":16,"./$.cof":7,"./$.def":12}],53:[function(t){var e=t("./$").set,n=t("./$.string-at")(!0),r=t("./$.uid").safe("iter"),o=t("./$.iter"),i=o.step;o.std(String,"String",function(t){e(this,r,{o:String(t),i:0})},function(){var t,e=this[r],o=e.o,s=e.i;return s>=o.length?i(1):(t=n.call(o,s),e.i+=t.length,i(0,t))})},{"./$":16,"./$.iter":15,"./$.string-at":22,"./$.uid":24}],54:[function(t){var e=t("./$"),n=t("./$.def");n(n.S,"String",{raw:function(t){for(var n=e.toObject(t.raw),r=e.toLength(n.length),o=arguments.length,i=[],s=0;r>s;)i.push(String(n[s++])),o>s&&i.push(String(arguments[s]));return i.join("")}})},{"./$":16,"./$.def":12}],55:[function(t){"use strict";var e=t("./$"),n=t("./$.def");n(n.P,"String",{repeat:function(t){var n=String(e.assertDefined(this)),r="",o=e.toInteger(t);if(0>o||1/0==o)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}})},{"./$":16,"./$.def":12}],56:[function(t){"use strict";var e=t("./$"),n=t("./$.cof"),r=t("./$.def");r(r.P,"String",{startsWith:function(t){if("RegExp"==n(t))throw TypeError();var r=String(e.assertDefined(this)),o=e.toLength(Math.min(arguments[1],r.length));return t+="",r.slice(o,o+t.length)===t}})},{"./$":16,"./$.cof":7,"./$.def":12}],57:[function(t){"use strict";function e(t){var e=$[t]=n.set(n.create(l.prototype),p,t);return n.DESC&&d&&n.setDesc(Object.prototype,t,{configurable:!0,set:function(e){u(this,t,e)}}),e}var n=t("./$"),r=t("./$.cof").set,o=t("./$.uid"),i=t("./$.def"),s=t("./$.keyof"),c=n.has,u=n.hide,a=n.getNames,f=n.toObject,l=n.g.Symbol,h=l,d=!1,p=o.safe("tag"),g={},$={};n.isFunction(l)||(l=function(t){if(this instanceof l)throw TypeError("Symbol is not a constructor");return e(o(t))},u(l.prototype,"toString",function(){return this[p]})),i(i.G+i.W,{Symbol:l});var v={"for":function(t){return c(g,t+="")?g[t]:g[t]=l(t)},keyFor:function(t){return s(g,t)},pure:o.safe,set:n.set,useSetter:function(){d=!0},useSimple:function(){d=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(n){var r=t("./$.wks")(n);v[n]=l===h?r:e(r)}),d=!0,i(i.S,"Symbol",v),i(i.S+i.F*(l!=h),"Object",{getOwnPropertyNames:function(t){for(var e,n=a(f(t)),r=[],o=0;n.length>o;)c($,e=n[o++])||r.push(e);return r},getOwnPropertySymbols:function(t){for(var e,n=a(f(t)),r=[],o=0;n.length>o;)c($,e=n[o++])&&r.push($[e]);return r}}),r(l,"Symbol"),r(Math,"Math",!0),r(n.g.JSON,"JSON",!0)},{"./$":16,"./$.cof":7,"./$.def":12,"./$.keyof":17,"./$.uid":24,"./$.wks":26}],58:[function(t){"use strict";var e=t("./$"),n=t("./$.collection-weak"),r=n.leakStore,o=n.ID,i=n.WEAK,s=e.has,c=e.isObject,u=Object.isFrozen||e.core.Object.isFrozen,a={},f=t("./$.collection")("WeakMap",{get:function(t){if(c(t)){if(u(t))return r(this).get(t);if(s(t,i))return t[i][this[o]]}},set:function(t,e){return n.def(this,t,e)}},n,!0,!0);e.FW&&7!=(new f).set((Object.freeze||Object)(a),7).get(a)&&e.each.call(["delete","has","get","set"],function(t){var e=f.prototype[t];
f.prototype[t]=function(n,o){if(c(n)&&u(n)){var i=r(this)[t](n,o);return"set"==t?this:i}return e.call(this,n,o)}})},{"./$":16,"./$.collection":10,"./$.collection-weak":9}],59:[function(t){"use strict";var e=t("./$.collection-weak");t("./$.collection")("WeakSet",{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},{"./$.collection":10,"./$.collection-weak":9}],60:[function(t,e){(function(t){!function(t){"use strict";function n(t,e,n,r){return new s(t,e,n||null,r||[])}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function i(){}function s(t,e,n,o){function i(e,o){if(u===m)throw new Error("Generator is already running");if(u===b)return l();for(;;){var i=c.delegate;if(i){var s=r(i.iterator[e],i.iterator,o);if("throw"===s.type){c.delegate=null,e="throw",o=s.arg;continue}e="next",o=h;var a=s.arg;if(!a.done)return u=y,a;c[i.resultName]=a.value,c.next=i.nextLoc,c.delegate=null}if("next"===e){if(u===v&&"undefined"!=typeof o)throw new TypeError("attempt to send "+JSON.stringify(o)+" to newborn generator");u===y?c.sent=o:delete c.sent}else if("throw"===e){if(u===v)throw u=b,o;c.dispatchException(o)&&(e="next",o=h)}else"return"===e&&c.abrupt("return",o);u=m;var s=r(t,n,c);if("normal"===s.type){u=c.done?b:y;var a={value:s.arg,done:c.done};if(s.arg!==w)return a;c.delegate&&"next"===e&&(o=h)}else"throw"===s.type&&(u=b,"next"===e?c.dispatchException(s.arg):o=s.arg)}}var s=e?Object.create(e.prototype):this,c=new a(o),u=v;return s.next=i.bind(s,"next"),s["throw"]=i.bind(s,"throw"),s["return"]=i.bind(s,"return"),s}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function u(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function a(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset()}function f(t){if(t){var e=t[p];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function o(){for(;++n<t.length;)if(d.call(t,n))return o.value=t[n],o.done=!1,o;return o.value=h,o.done=!0,o};return r.next=r}}return{next:l}}function l(){return{value:h,done:!0}}var h,d=Object.prototype.hasOwnProperty,p="function"==typeof Symbol&&Symbol.iterator||"@@iterator",g="object"==typeof e,$=t.regeneratorRuntime;if($)return void(g&&(e.exports=$));$=t.regeneratorRuntime=g?e.exports:{},$.wrap=n;var v="suspendedStart",y="suspendedYield",m="executing",b="completed",w={},x=i.prototype=s.prototype;o.prototype=x.constructor=i,i.constructor=o,o.displayName="GeneratorFunction",$.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===o||"GeneratorFunction"===(e.displayName||e.name):!1},$.mark=function(t){return t.__proto__=i,t.prototype=Object.create(x),t},$.async=function(t,e,o,i){return new Promise(function(s,c){function u(t){var e=r(this,null,t);if("throw"===e.type)return void c(e.arg);var n=e.arg;n.done?s(n.value):Promise.resolve(n.value).then(f,l)}var a=n(t,e,o,i),f=u.bind(a.next),l=u.bind(a["throw"]);f()})},x[p]=function(){return this},x.toString=function(){return"[object Generator]"},$.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},$.values=f,a.prototype={constructor:a,reset:function(){this.prev=0,this.next=0,this.sent=h,this.done=!1,this.delegate=null,this.tryEntries.forEach(u);for(var t,e=0;d.call(this,t="t"+e)||20>e;++e)this[t]=null},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var s=d.call(o,"catchLoc"),c=d.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&d.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?this.next=o.finallyLoc:this.complete(i),w},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc)}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;u(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:f(t),resultName:e,nextLoc:n},w}}}("object"==typeof t?t:"object"==typeof window?window:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { "default": obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/**
  * @Animator Class
  *
  * @description Houses all Animator functionality
  * @returns {Object}
  */

var _prefixes = require("./prefixes");

var _prefixes2 = _interopRequireDefault(_prefixes);

var _cssUtils = require("./css-utils");

var _cssUtils2 = _interopRequireDefault(_cssUtils);

var _domUtils = require("./dom-utils");

var _domUtils2 = _interopRequireDefault(_domUtils);

var _animationSeq = require("./animation-seq");

var _animationSeq2 = _interopRequireDefault(_animationSeq);

var _transitionSeq = require("./transition-seq");

var _transitionSeq2 = _interopRequireDefault(_transitionSeq);

var _comboSeq = require("./combo-seq");

var _comboSeq2 = _interopRequireDefault(_comboSeq);

var _seqWrapper = require("./seq-wrapper");

var _seqWrapper2 = _interopRequireDefault(_seqWrapper);

var _tracker = require("./tracker");

var _tracker2 = _interopRequireDefault(_tracker);

var _audio = require("./audio");

var _audio2 = _interopRequireDefault(_audio);

var Animator = (function () {

  /**
    * @constructor function
    *
    * @description Creates a stylesheet and Tracker object to be used throughout Animator.
    */

  function Animator() {
    _classCallCheck(this, Animator);

    this.stylesheet = new _cssUtils2["default"]().createStyleSheet();
    this.tracker = new _tracker2["default"](_domUtils2["default"], _prefixes2["default"], _cssUtils2["default"], _transitionSeq2["default"]);
  }

  _createClass(Animator, [{
    key: "getPrefix",

    /**
      * @getPrefix function
      *
      * @params {String}
      * @description Returns a prefixed CSS property or DOM event name.
      * @return {String}
      */

    value: function getPrefix(prefix) {
      return new _prefixes2["default"]().getPrefix(prefix);
    }
  }, {
    key: "setStyles",

    /**
      * @setStyles function
      *
      * @params {HTMLElement, String / Array}
      * @description Sets properties / values on an element's CSSStyleDeclaration.
      */

    value: function setStyles(element, styles) {
      return new _cssUtils2["default"]().setStyles(element, styles);
    }
  }, {
    key: "getStyles",

    /**
      * @getStyles function
      *
      * @params {HTMLElement, Object}
      * @description Return an object of CSS properties / values.
      * @return {Object}
      */

    value: function getStyles(element, properties) {
      return new _cssUtils2["default"]().getStyles(element, properties);
    }
  }, {
    key: "createTransition",

    /**
      * @createTransition function
      *
      * @params {Object}
      * @description Creates a CSS transition definition.
      */

    value: function createTransition(transition) {
      new _cssUtils2["default"]().createTransition(transition, _prefixes2["default"]);
    }
  }, {
    key: "createAnimation",

    /**
      * @createAnimation function
      *
      * @params {Object}
      * @description Creates a CSS keyframe animation definition.
      */

    value: function createAnimation(animation) {
      new _cssUtils2["default"]().createKeyframeAnimation(animation, _prefixes2["default"], this.stylesheet);
    }
  }, {
    key: "createClass",

    /**
      * @createClass function
      *
      * @params {String, Object}
      * @description Creates a CSS class and appends it to the stylesheet.
      */

    value: function createClass(className, rules) {
      new _cssUtils2["default"]().createClass(className, this.stylesheet, rules);
    }
  }, {
    key: "deleteClass",

    /**
      * @deleteClass function
      *
      * @params {String}
      * @description Deletes a CSS class from the stylesheet.
      */

    value: function deleteClass(className) {
      new _cssUtils2["default"]().deleteClass(className, this.stylesheet);
    }
  }, {
    key: "createCSSRule",

    /**
      * @createCSSRule function
      *
      * @params {String / Array, String / Array}
      * @description Returns a CSS property / value pairs object.
      * @returns {Object}
      */

    value: function createCSSRule(property, value) {
      return new _cssUtils2["default"]().createCSSRule(property, value);
    }
  }, {
    key: "addClass",

    /**
      * @addClass function
      *
      * @params {HTMLElement / Nodelist, String / Array}
      * @description Sets a class(es) on an element.
      */

    value: function addClass(element, classList) {
      new _domUtils2["default"]().setClass(element, classList, true);
    }
  }, {
    key: "removeClass",

    /**
      * @removeClass function
      *
      * @params {HTMLElement / Nodelist, String / Array}
      * @description Removes a class(es) from an element.
      */

    value: function removeClass(element, classList) {
      new _domUtils2["default"]().setClass(element, classList, false);
    }
  }, {
    key: "transition",

    /**
      * @transition function
      *
      * @params {Object}
      * @description Creates a transition sequence.
      * @returns {Promise}
      */

    value: function transition(options) {
      return new _seqWrapper2["default"](options, _domUtils2["default"], _prefixes2["default"], _cssUtils2["default"], _transitionSeq2["default"], _comboSeq2["default"], _audio2["default"], this.tracker);
    }
  }, {
    key: "animation",

    /**
      * @animation function
      *
      * @params {Object}
      * @description Creates an animation sequence.
      * @returns {Promise}
      */

    value: function animation(options) {
      return new _seqWrapper2["default"](options, _domUtils2["default"], _prefixes2["default"], _cssUtils2["default"], _animationSeq2["default"], _comboSeq2["default"], _audio2["default"], this.tracker);
    }
  }, {
    key: "combo",

    /**
      * @combo function
      *
      * @params {Object}
      * @description Creates an combination of sequence.
      * @returns {Promise}
      */

    value: function combo(animations) {
      return new _comboSeq2["default"](animations);
    }
  }, {
    key: "isSupported",

    /**
      * @isSupported function
      *
      * @description Tests the browser for Animator support.
      * @returns {Boolean}
      */

    value: function isSupported() {
      return new _domUtils2["default"]().support(_prefixes2["default"]);
    }
  }, {
    key: "pause",

    /**
      * @pause function
      *
      * @description Pause the current sequence.
      */

    value: function pause() {
      this.tracker.pause();
    }
  }, {
    key: "play",

    /**
      * @play function
      *
      * @description Plays the current sequence.
      */

    value: function play() {
      this.tracker.play();
    }
  }]);

  return Animator;
})();

window.Animator = new Animator();

},{"./animation-seq":2,"./audio":3,"./combo-seq":4,"./css-utils":5,"./dom-utils":6,"./prefixes":7,"./seq-wrapper":8,"./tracker":9,"./transition-seq":10}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

/**
  * @Animation Class
  *
  * @description Promise based animation handler that resolves when animations triggered on an element are complete.
  * @returns {Resolved Promise}
  */

var Animation = (function () {

	/**
   * @constructor function
   *
   * @params {Object, Class, Class, Class, Class, Object}  
   * @description Creates a new animation sequence.    
 * @params description
 - options {Object} Animation options.
 	- element {HTMLElement} The element to set the animation on.
 	- setStyles {Object} Styles to be set before / after the animation.
 		- before {Object} Object of CSS property / value pairs to be set before the animation.
 		- after {Object} Object of CSS property / value pairs to be set after the animation.
 	- addClass {Object} Object of classnames to be set before / after the animation.
 		- before {String} Classname to set before the animation.
 		- after {String} Classname to set after the animation.
 	- removeClass {Object} Object of classnames to be removed before / after the animation.
 		- before {String} Classname to be removed before the animation.
 		- after {String} Classname to be removed after the animation.
 - DomUtils {Class} Dom utility class.
 - Prefix {Class} Prefix class.
 - CssUtils {Class} CSS Utilities class.
 - Tracker {Object} Object that tracks and monitors sequences.
 * @returns {Promise}
   */

	function Animation(options, DomUtils, Prefix, CssUtils, Audio, Tracker) {
		var _this = this;

		_classCallCheck(this, Animation);

		this.options = options;
		this.domUtils = new DomUtils();
		this.cssUtils = new CssUtils();
		this.prefix = new Prefix().getPrefix("animationend");
		this.onAnimationEnd = this.animationEnd.bind(this);
		this.audio = Audio;
		this.tracker = Tracker;

		return new Promise(function (resolve, reject) {
			_this.resolve = resolve;
			_this.reject = reject;
			_this.animationFrame = requestAnimationFrame(_this.animationStart.bind(_this));
		});
	}

	_createClass(Animation, [{
		key: "animationStart",

		/**
    * @animationStart function
    *
    * @description Sets classnames / style rules to trigger the animation.
    * @global no
    */

		value: function animationStart() {

			var opts = this.options;
			opts.element.addEventListener(this.prefix, this.onAnimationEnd, false);

			if (opts.audio) {
				this.audioTimer = new this.audio(opts.audio);
			}

			if (opts.setStyles && opts.setStyles.before) {
				this.cssUtils.setStyles(opts.element, opts.setStyles.before);
			}

			if (opts.removeClass && opts.removeClass.before) {
				this.domUtils.setClass(opts.element, opts.removeClass.before, false);
			}

			if (opts.addClass && opts.addClass.before) {
				this.domUtils.setClass(opts.element, opts.addClass.before, true);
			}
		}
	}, {
		key: "animationEnd",

		/**
    * @animationEnd function
    *
    * @description Sets classnames / style rules after all animations have completed and removes the element from the tracker.
    * @global no
    * @returns {Resolved Promise}
    */

		value: function animationEnd(evt) {

			evt.stopPropagation();

			var opts = this.options;

			if (opts.audio) {
				this.audioTimer.cancel();
			}

			opts.element.removeEventListener(this.prefix, this.onAnimationEnd, false);
			cancelAnimationFrame(this.animationFrame);

			if (opts.setStyles && opts.setStyles.after) {
				this.cssUtils.setStyles(opts.element, opts.setStyles.after);
			}

			if (opts.removeClass && opts.removeClass.after) {
				this.domUtils.setClass(opts.element, opts.removeClass.after, false);
			}

			if (opts.addClass && opts.addClass.after) {
				this.domUtils.setClass(opts.element, opts.addClass.after, true);
			}

			this.tracker.remove("Animations", opts.element);
			this.resolve(opts.element);
		}
	}]);

	return Animation;
})();

exports["default"] = Animation;
module.exports = exports["default"];

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

/**
  * @Audio Class
  *
  * @description Provides Audio sample playback / timing.
  * - check for web audio support
  * - if none defer back to audio element playback / volume only
  * - if supported play audio with panning, filtering, volume, loop options
  * @returns {Object}
  */

var Audio = (function () {
	function Audio(config) {
		_classCallCheck(this, Audio);

		this.isWebAudioSupported = !!(window.AudioContext || window.webkitAudioContext);
		this.milliseconds = 0;
		this.audioSettings = Array.isArray(config) ? config : [config];
		this.startTimer();
	}

	_createClass(Audio, [{
		key: "startTimer",
		value: function startTimer() {
			var _this = this;

			this.timer = setInterval(function () {
				_this.milliseconds += 100;
				_this.audioSettings.forEach(function (config) {
					if (config.time === _this.milliseconds) {
						_this.isWebAudioSupported ? _this.getAudio(config) : _this.playAudioFallback(config);
					}
				});
			}, 100);
		}
	}, {
		key: "getAudio",
		value: function getAudio(config) {
			var _this2 = this;

			var player = new (window.AudioContext || window.webkitAudioContext)();
			var request = new XMLHttpRequest();

			request.open("GET", config.audio, true);
			request.responseType = "arraybuffer";
			request.onload = function () {

				player.decodeAudioData(request.response, function (buffer) {
					_this2.playAudio(player, buffer, config);
				}, function (e) {
					"Error with decoding audio data" + e.err;
				});
			};

			request.send();
		}
	}, {
		key: "playAudio",
		value: function playAudio(player, buffer, config) {

			var source = player.createBufferSource();
			source.buffer = buffer;

			if (config.pan) {
				var panner = this.createPanner(player, config.pan);
				source.connect(panner);
			}

			var volume = this.createVolume(player, config.volume);
			source.connect(volume);
			volume.connect(player.destination);
			source.start(0);
		}
	}, {
		key: "createPanner",

		// -1 to 1
		value: function createPanner(player, panValue) {
			var panner = player.createStereoPanner();
			panner.pan.value = panValue;
			return panner;
		}
	}, {
		key: "createVolume",
		value: function createVolume(player, volumeLevel) {
			var volume = player.createGain();
			volume.gain.value = volumeLevel || 1;
			return volume;
		}
	}, {
		key: "playAudioFallback",
		value: function playAudioFallback(config) {
			var audioPlayer = document.createElement("audio");
			audioPlayer.src = config.audio;
			audioPlayer.play();
		}
	}, {
		key: "cancel",
		value: function cancel() {
			clearInterval(this.timer);
			console.log("timer cancelled");
		}
	}]);

	return Audio;
})();

exports["default"] = Audio;
module.exports = exports["default"];

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

/**
  * @Combo Class
  *
  * @description Wraps a Promise around x amount of sequences and resolves when all sequences have resolved.
  * @returns {Resolved Promise}
  */

var Combo = (function () {

	/**
   * @constructor function
   *
   * @params {Array, Class}  
   * @description Wraps x amount of sequences in a Promise.    
 * @params description
 - sequences {Array} An array of sequences.
 * @returns {Promise}
   */

	function Combo(sequences) {
		var _this = this;

		_classCallCheck(this, Combo);

		return new Promise(function (resolve, reject) {

			var watcher = _this.sequenceWatcher();
			_this.resolve = resolve;
			_this.reject = reject;
			_this.amount = sequences.length;

			sequences.forEach(function (sequence) {

				sequence.then(function (element) {
					watcher(element);
				})["catch"](function (e) {
					_this.reject(e);
				});
			});
		});
	}

	_createClass(Combo, [{
		key: "sequenceWatcher",

		/**
    * @sequenceWatcher function
    *
    * @description Resolves when all sequences have been resolved.   
  * @returns {Resolved Promise}
    * @global no
    */

		value: function sequenceWatcher() {
			var _this2 = this;

			var count = 0;
			var returnData = [];
			return function (element) {

				count++;
				returnData.push(element);
				if (count === _this2.amount) {
					_this2.resolve(returnData);
				}
			};
		}
	}]);

	return Combo;
})();

exports["default"] = Combo;
module.exports = exports["default"];

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
})();

function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];return arr2;
    } else {
        return Array.from(arr);
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

/**
  * @CssUtils Class
  *
  * @description CSS utility belt for Animator using the CSSOM (file:/// protocol not supported in Chrome) 
  * @returns {Object}
  */

var CssUtils = (function () {
    function CssUtils() {
        _classCallCheck(this, CssUtils);
    }

    _createClass(CssUtils, [{
        key: "createStyleSheet",

        /**
          * @createStyleSheet function
          *
          * @description A stylesheet for any transition / animation / style classes created in Animator.
          * @returns {CSSStyleSheet} stylesheet
          * @global no
          */

        value: function createStyleSheet() {

            var style = document.createElement("style");
            style.appendChild(document.createTextNode(""));
            document.head.appendChild(style);
            return style.sheet;
        }
    }, {
        key: "cssTextToJs",

        /**
          * @cssTextToJs function
          *
          * @params {String}
          * @description Converts a hyphen delimted CSS property to a camel cased JavaScript property.
          * @returns {String}
          * @global no
          */

        value: function cssTextToJs(cssText) {

            return cssText.replace(/\-(\w)/g, function (str, letter) {
                return letter.toUpperCase();
            });
        }
    }, {
        key: "setStyles",

        /**
          * @setStyles function
          *
          * @params {HTMLElement / Nodelist, Object, Boolean}
          * @description Sets properties on an element's CSSStyleDeclaration.
          * @params description      
          *  - element: {HTMLElement / Nodelist} HTML element(s) to set styles properties on.
             - styles : {Object} Object containing CSS property / value pairs.
             - important : [Boolean] (Optional) Specifying if the CSS value is to be set as important. 
          * @global yes
          */

        value: function setStyles(element, styles, important) {

            var elements = element.length ? Array.from(element) : [element];
            elements.forEach(function (el) {
                Object.keys(styles).forEach(function (property) {
                    var important = important || String(styles[property]).includes("important") ? "important" : null;
                    var rules = String(styles[property]).replace(/!?important/, "").trim();
                    el.style.setProperty(property, rules, important);
                });
            });
        }
    }, {
        key: "getStyles",

        /**
          * @getStyles function
          *
          * @params {HTMLElement, String / Array}
          * @description Queries properties set on an element's CSSStyleDeclaration.
          * @params description      
          *  - element: {HTMLElement} HTML element to query againts its style properties.
             - props : {String / Array} String or Array of strings of CSS properties to query.
          * @returns {Object} Object of CSS property / value pairs
          * @global yes
          */

        value: function getStyles(element, props) {

            var properties = Array.isArray(props) ? [].concat(_toConsumableArray(props)) : [props];
            var styles = {};
            properties.forEach(function (property) {
                styles[property] = window.getComputedStyle(element).getPropertyValue(property);
            });
            return styles;
        }
    }, {
        key: "createTransition",

        /**
          * @createTransition function
          *
          * @params {Object, Class}
          * @description Creates a string defining an element's CSS transition values and sets it on the element's CSSStyleDeclaration. 
          * @params description      
          *  - transition: {Object} An object of transition properties.
                 - elements {HTMLElement / Nodelist} HTMLElement(s) to set transition on.
                 - properties {String / Array} CSS properties to transition.
                 - duration {String / Array} Ms or S transition duration value(s).
                 - easing [String / Array] (Optional) Transition timing function value(s).
                 - delay [String / Array] (Optional) Transition delay value(s).
             - Prefix : {Class} Prefix class.
          * @global yes
          */

        value: function createTransition(transition, Prefix) {
            var _this = this;

            var transitionPrefix = new Prefix().getPrefix("transition");
            var elements = transition.element.length ? Array.from(transition.element) : [transition.element];
            var properties = Array.isArray(transition.properties) ? [].concat(_toConsumableArray(transition.properties)) : [transition.properties];
            var duration = Array.isArray(transition.duration) ? [].concat(_toConsumableArray(transition.duration)) : [transition.duration];
            var easing = Array.isArray(transition.easing) ? [].concat(_toConsumableArray(transition.easing)) : [transition.easing];
            var delay = Array.isArray(transition.delay) ? [].concat(_toConsumableArray(transition.delay)) : [transition.delay];

            elements.forEach(function (element) {

                var transitionString = "";
                var rules = {};

                properties.forEach(function (prop, i) {

                    transitionString += " ";
                    transitionString += properties.length > 1 ? properties[i] + " " : properties[0] + " ";
                    transitionString += duration.length > 1 ? duration[i] + " " : duration[0] + " ";
                    transitionString += easing.length > 1 ? easing[i] + " " : (easing[0] || "ease") + " ";
                    transitionString += delay.length > 1 ? delay[i] + "," : (delay[0] || "0s") + ",";
                });

                transitionString = transitionString.substr(0, transitionString.length - 1);
                rules[transitionPrefix] = transitionString;
                _this.setStyles(element, rules);
            });
        }
    }, {
        key: "createKeyframeAnimation",

        /**
          * @createKeyframeAnimation function
          *
          * @params {Object, Class, CSSStyleSheet}
          * @description Creates a CSS keyframe animation, and optional associated style class, and inserts it/them into Animator's stylesheet. 
          * @params description      
          *  - animation: {Object} An object of animation properties.
                 - name {HTMLElement / Nodelist} HTMLElement(s) to set transition on.
                 - animation {Object} Either from / to or % based keyframes and CSS properties / values.
                 - animationClass [Object] (Optional) A CSS class to trigger the animation.
                     - name {String} The classname.
                     - rules {Object} Object of CSS property / value pairs.
             - Prefix : {Class} Prefix class.
             - stylesheet : {CSSStyleSheet} Animator's stylesheet.
          * @global yes
          */

        value: function createKeyframeAnimation(animation, Prefix, stylesheet) {

            var animationString = "";
            var prefix = new Prefix();
            var keyFrame = prefix.getPrefix("keyframes");
            keyFrame += " " + animation.name + " {\n";

            Object.keys(animation.animation).forEach(function (anim) {
                animationString += anim + " {";
                Object.keys(animation.animation[anim]).forEach(function (property) {
                    animationString += "\n" + property + " : " + animation.animation[anim][property] + ";";
                });
                animationString += "\n }\n";
            });

            animationString += "}";

            stylesheet.insertRule(keyFrame + animationString, stylesheet.rules.length || stylesheet.cssRules.length);
            if (animation.animationClass) {
                this.createClass(animation.animationClass.name, stylesheet, animation.animationClass.rules);
            }
        }
    }, {
        key: "createClass",

        /**
          * @createClass function
          *
          * @params {String, CSSStyleSheet, Object (Optional)}
          * @description Defines a CSS class and inserts it into Animator's stylesheet. 
          * @params description      
          *  - className: {String} The name of the class.
             - stylesheet : {CSSStyleSheet} Animator's stylesheet.
             - rules : [Object] (Optional) Object of CSS property / value pairs.
          * @global yes
          */

        value: function createClass(className, stylesheet) {
            var rules = arguments[2] === undefined ? {} : arguments[2];

            var name = "." + className;
            var cssString = "{ ";

            Object.keys(rules).forEach(function (rule) {
                cssString += rule + " : " + rules[rule] + "; ";
            });

            cssString += "}";
            stylesheet.insertRule(name + cssString, stylesheet.rules.length || stylesheet.cssRules.length);
        }
    }, {
        key: "deleteClass",

        /**
          * @deleteClass function
          *
          * @params {String, CSSStyleSheet}
          * @description Removes a CSS class from Animator's stylesheet. 
          * @params description      
          *  - className: {String} The name of the class to remove.
             - stylesheet : {CSSStyleSheet} Animator's stylesheet.
          * @global yes
          */

        value: function deleteClass(className, stylesheet) {

            var rules = stylesheet.rules || stylesheet.cssRules;
            var name = "." + className;
            Object.keys(rules).forEach(function (rule) {
                if (rules[rule] instanceof CSSStyleRule && rules[rule].selectorText === name) {
                    stylesheet.deleteRule(rule);
                }
            });
        }
    }, {
        key: "createCSSRule",

        /**
         * @createCSSRule function
         *
         * @params {String / Array, String / Array}
         * @description Returns an object of CSS property / values. 
         * @params description      
         *  - property: {String / Array} The CSS property(s).
            - value : {String / Array} The CSS values(s).
         * @returns {Object} Object of CSS property / value pairs.
         * @global yes
         */

        value: function createCSSRule(property, value) {

            var properties = Array.isArray(property) ? [].concat(_toConsumableArray(property)) : [property];
            var values = Array.isArray(value) ? [].concat(_toConsumableArray(value)) : [value];
            var rule = {};

            properties.forEach(function (prop, index) {
                rule[prop] = values[index];
            });

            return rule;
        }
    }]);

    return CssUtils;
})();

exports["default"] = CssUtils;
module.exports = exports["default"];

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];return arr2;
  } else {
    return Array.from(arr);
  }
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/**
  * @DomUtils Class
  *
  * @description Provides DOM utilities for Animator.
  * @returns {Object}
  */

var DomUtils = (function () {
  function DomUtils() {
    _classCallCheck(this, DomUtils);
  }

  _createClass(DomUtils, [{
    key: "setClass",

    /**
      * @setClass function
      *
      * @params {HTMLElement, String / Array, Boolean}
      * @description Adds or removes class(es) from an element.
      * @params description      
      *  - element: {HTMLElement} The element to add / remove the class(es) to / from.
      *  - classList: {String / Array} A single classname or array of classnames to add / remove.
      *	- add: {Boolean} Specifiying whether to add / remove the class(es).
      * @global yes
      */

    value: function setClass(element, classList, add) {

      var classes = Array.isArray(classList) ? [].concat(_toConsumableArray(classList)) : [classList];
      var elements = element.length ? Array.from(element) : [element];
      var action = add ? "add" : "remove";
      classes.forEach(function (cls) {
        elements.forEach(function (el) {
          el.classList[action](cls);
        });
      });
    }
  }, {
    key: "support",

    /**
      * @support function
      *
      * @params {Class}
      * @description Tests for CSS transition / animation / CSSOM manipulation support
      * @params description      
      *  - Prefix: {Class} Prefix class.
      * @returns {Boolean}
      * @global yes
      */

    value: function support(Prefix) {

      var prefix = new Prefix();
      var transitionSupport = prefix.getPrefix("transition");
      var animationSupport = prefix.getPrefix("animation");
      var raf = !!window.requestAnimationFrame;

      return transitionSupport && animationSupport && raf;
    }
  }]);

  return DomUtils;
})();

exports["default"] = DomUtils;
module.exports = exports["default"];

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
		value: true
});

var _createClass = (function () {
		function defineProperties(target, props) {
				for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
				}
		}return function (Constructor, protoProps, staticProps) {
				if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
		};
})();

function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
				throw new TypeError("Cannot call a class as a function");
		}
}

/**
  * @Prefix Class
  *
  * @description Handles prefixing for CSS properties and DOM events.
  * @returns {Object}
  */

var Prefix = (function () {

		/**
    * @constructor function
    *
    * @description Creates a map that holds non-prefixed properties and event names as keys and associated prefixes as values to test against.
    */

		function Prefix() {
				_classCallCheck(this, Prefix);

				this.testElement = document.createElement("div");
				this.prefixes = new Map();

				// Transforms
				this.prefixes.set("transform", ["-webkit-transform", "transform"]);
				this.prefixes.set("transform-origin", ["-webkit-transform-origin", "transform-origin"]);
				this.prefixes.set("transform-style", ["-webkit-transform-style", "transform-style"]);

				// Transitions
				this.prefixes.set("transition", ["-webkit-transition", "transition"]);
				this.prefixes.set("transition-delay", ["-webkit-transition-delay", "transition-delay"]);
				this.prefixes.set("transition-duration", ["-webkit-transition-duration", "transition-duration"]);
				this.prefixes.set("transition-property", ["-webkit-transition-property", "transition-property"]);
				this.prefixes.set("transition-timing-function", ["-webkit-transition-timing-function", "transition-timing-function"]);

				// Animations
				this.prefixes.set("keyframes", ["-webkit-", "-ms-", "-moz-", ""]);
				this.prefixes.set("animation", ["-webkit-animation", "-ms-animation", "-moz-animation", "animation"]);
				this.prefixes.set("animation-name", ["-webkit-animation-name", "-ms-animation-name", "-moz-animation-name", "animation-name"]);
				this.prefixes.set("animation-iteration-count", ["-webkit-animation-iteration-count", "-ms-animation-iteration-count", "-moz-animation-iteration-count", "animation-iteration-count"]);
				this.prefixes.set("animation-play-state", ["-webkit-animation-play-state", "-ms-animation-play-state", "-moz-animation-play-state", "animation-play-state"]);
				this.prefixes.set("animation-duration", ["-webkit-animation-duration", "-ms-animation-duration", "-moz-animation-duration", "animation-duration"]);
				this.prefixes.set("animation-delay", ["-webkit-animation-delay", "-ms-animation-delay", "-moz-animation-delay", "animation-delay"]);
				this.prefixes.set("animation-direction", ["-webkit-animation-direction", "-ms-animation-direction", "-moz-animation-direction", "animation-direction"]);
				this.prefixes.set("animation-fill-mode", ["-webkit-animation-fill-mode", "-ms-animation-fill-mode", "-moz-animation-fill-mode", "animation-fill-mode"]);

				// Transition / Animation end
				var WebkitTransition = "webkitTransitionEnd";
				var transition = "transitionend";
				var WebkitAnimation = "webkitAnimationEnd";
				var animation = "animationend";

				var transitionend = { WebkitTransition: WebkitTransition, transition: transition };
				var animationend = { WebkitAnimation: WebkitAnimation, animation: animation };

				this.prefixes.set("transitionend", transitionend);
				this.prefixes.set("animationend", animationend);
		}

		_createClass(Prefix, [{
				key: "getPrefix",

				/**
      * @getPrefix function
      *
      * @params {String} The non-prefixed CSS property / DOM event name to search the prefix map for.
      * @description Handles prefix queries by searching and testing properties and values in the prefix map against a HTMLElement's CSSStyleDeclaration.
      * @returns {String} The queried prefix.
      * @global yes
      */

				value: function getPrefix(prefix) {
						var _this = this;

						if (!this.prefixes.has(prefix)) {
								return false;
						} else if (prefix === "transitionend" || prefix === "animationend") {
								return this.getPrefixedEventName(prefix);
						} else if (prefix === "keyframes") {
								var keyframePrefix = this.prefixes.get(prefix).filter(function (f) {
										return _this.testElement.style[f + "animation-name"] !== undefined;
								})[0];
								return "@" + keyframePrefix + "keyframes";
						} else {
								return this.prefixes.get(prefix).filter(function (f) {
										return _this.testElement.style[f] !== undefined;
								})[0];
						}
				}
		}, {
				key: "getPrefixedEventName",

				/**
      * @getPrefixedEventName function
      *
      * @params {String} The non-prefixed DOM event name to search the prefix map for.
      * @description Tests a HTMLElement's CSSStyleDeclaration for supported DOM event prefixes.
      * @returns {String} The queried prefix.
      * @global no
      */

				value: function getPrefixedEventName(eventName) {
						var _this2 = this;

						var evtNames = this.prefixes.get(eventName);
						var matches = Object.keys(evtNames).filter(function (e) {
								return _this2.testElement.style[e] !== undefined;
						});
						return evtNames[matches[0]];
				}
		}]);

		return Prefix;
})();

;

exports["default"] = Prefix;
module.exports = exports["default"];

},{}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

/**
  * @SequenceWrapper Class
  *
  * @description Intercepts all sequences and returns a single or combo sequence depending on whether a single HTMLElement or Nodelist is used.
  * @returns {Promise}
  */

var SequenceWrapper =

/**
  * @constructor function
  *
  * @params {Object, Class, Class, Class, Class, Class, Class, Object}     
  * @description A wrapper that organises all sequences before they are launched. 
* @params description
- options {Object} Object of sequence options.
- DomUtils {Class} DOM utilities class.
- Prefix {Class} Prefix class.
- CssUtils {Class} CSS Utilities class.
- Sequence {Class} The sequence type (Transition / Animation).
- Combo {Class} Wrapper for multiple sequences.
- Tracker {Object} Object to store and track sequences through.
* @returns {Promise}
  */

function SequenceWrapper(options, DomUtils, Prefix, CssUtils, Sequence, Combo, Audio, Tracker) {
	_classCallCheck(this, SequenceWrapper);

	if (options.element.length) {
		var transitions = Array.from(options.element).map(function (element) {
			var opts = {};
			Object.keys(options).forEach(function (key) {
				opts[key] = options[key];
			});
			opts.element = element;
			Tracker.track(opts, Sequence);
			return new Sequence(opts, DomUtils, Prefix, CssUtils, Audio, Tracker);
		});
		return new Combo(transitions);
	} else {
		Tracker.track(options, Sequence);
		return new Sequence(options, DomUtils, Prefix, CssUtils, Audio, Tracker);
	}
};

exports["default"] = SequenceWrapper;
module.exports = exports["default"];

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _toConsumableArray(arr) {
	if (Array.isArray(arr)) {
		for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];return arr2;
	} else {
		return Array.from(arr);
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

/**
  * @Tracker Class
  *
  * @description Track all sequenced elements to allow sequences to be played / paused.
  * @returns {Object}
  */

var Tracker = (function () {

	/**
   * @constructor function
   *
   * @params {Class, Class, Class, Class}    
   * @description Initialise a single Map object to store sequenced elements. Only one instance per Animator is created.  
 * @params description
 - DomUtils {Class} DOM utilities class.
 - Prefix {Class} Prefix class.
 - CssUtils {Class} CSS Utilities class.
 - Transition {Class} Store the Transition protoype to compare against new sequence types passed in to the Tracker.
   */

	function Tracker(DomUtils, Prefix, CssUtils, Transition) {
		_classCallCheck(this, Tracker);

		this.tracker = new Map();
		this.tracker.set("Transitions", new Map());
		this.tracker.set("Animations", new Map());
		this.domUtils = new DomUtils();
		this.prefix = new Prefix();
		this.cssUtils = new CssUtils();
		this.transitionPrototype = Transition.prototype;
	}

	_createClass(Tracker, [{
		key: "track",

		/**
    * @track function
    *
    * @params {Object, Class}
    * @description Searches the Map for the element passed in and either updates it if found or creates a new entry in the Map for it.
    * @params description      
    *  - options: {Object} The sequence options.
       - Sequence : {Class} Either a Transition or Animation class.
    * @global no
    */

		value: function track(options, Sequence) {

			var transition = this.tracker.get("Transitions").get(options.element);
			var animation = this.tracker.get("Animations").get(options.element);

			if (Sequence.prototype === this.transitionPrototype) {
				if (!transition) {
					this.trackTransition(options);
				} else {
					this.updateTransitionRecord(transition, options);
				}
			} else {

				// A reference to the element will suffice if the sequence type is an Animation.
				// CSS Animations can be paused and played easily unlike transitions which are a bit trickier.
				if (!animation) {
					this.trackAnimation(options);
				}
			}
		}
	}, {
		key: "trackTransition",

		/**
    * @trackTransition function
    *
    * @params {Object}
    * @description Stores the element under the Transitions key in the Tracker Map 
    * 		and the transitioned properties / values set against the element.
    * @params description      
    *  - options: {Object} The transition sequence options.
    * @global no
    */

		value: function trackTransition(options) {

			var data = {},
			    transitionStyles = {};
			var transitions = this.tracker.get("Transitions");
			var tp = Animator.getPrefix("transition-property"),
			    tdur = Animator.getPrefix("transition-duration"),
			    ttf = Animator.getPrefix("transition-timing-function"),
			    tdel = Animator.getPrefix("transition-delay");

			transitionStyles[tp] = this.cssUtils.getStyles(options.element, tp)[tp];
			transitionStyles[tdur] = this.cssUtils.getStyles(options.element, tdur)[tdur];
			transitionStyles[ttf] = this.cssUtils.getStyles(options.element, ttf)[ttf];
			transitionStyles[tdel] = this.cssUtils.getStyles(options.element, tdel)[tdel];
			data.transitionStyles = transitionStyles;

			if (options.setStyles && options.setStyles.before) {
				data.styles = options.setStyles.before;
			}

			if (options.addClass && options.addClass.before || options.removeClass && options.removeClass.before) {
				data.classTriggered = true;
			}

			data.properties = Array.isArray(options.properties) ? [].concat(_toConsumableArray(options.properties)) : [options.properties];
			transitions.set(options.element, data);
		}
	}, {
		key: "trackAnimation",

		/**
    * @trackAnimation function
    *
    * @params {Object}
    * @description Stores an element under the Animations key in the Tracker Map.
    * @params description      
    *  - options: {Object} The animation sequence options.
    * @global no
    */

		value: function trackAnimation(options) {

			var data = {};
			var animations = this.tracker.get("Animations");
			animations.set(options.element, data);
		}
	}, {
		key: "updateTransitionRecord",

		/**
    * @updateTransitionRecord function
    *
    * @params {Object, Object}
    * @description Inserts additional transitioned properties / style rules set into an element's record.
    * @params description      
    *  - record: {Object} The transition record from the Tracker Map.
    *  - options: {Object} The transition sequence options.
    * @global no
    */

		value: function updateTransitionRecord(record, options) {

			var properties = Array.isArray(options.properties) ? [].concat(_toConsumableArray(options.properties)) : [options.properties];
			properties = properties.filter(function (property) {
				return record.properties.indexOf(property) === -1;
			});
			record.properties = [].concat(_toConsumableArray(record.properties), _toConsumableArray(properties));

			if (options.setStyles && options.setStyles.before) {
				if (!record.styles) {
					record.styles = {};
				}
				Object.keys(options.setStyles.before).forEach(function (property) {
					record.styles[property] = options.setStyles.before[property];
				});
			}
		}
	}, {
		key: "pause",

		/**
    * @pause function
    *
    * @description Iterates through every stored element in the Tracker and sets its CSS appropriately to effectively pause a sequence.
    * @global no
    */

		value: function pause() {
			var _this = this;

			var transitions = this.tracker.get("Transitions");
			var transitionElements = transitions.keys();
			var animations = this.tracker.get("Animations");
			var animationElements = animations.keys();

			while (true) {

				var element = animationElements.next(),
				    rule = {};
				if (element.done) {
					break;
				}

				rule[this.prefix.getPrefix("animation-play-state")] = "paused";
				this.cssUtils.setStyles(element.value, rule);
			}

			var _loop = function _loop() {

				var element = transitionElements.next(),
				    record = undefined,
				    rule = {};
				if (element.done) {
					return "break";
				}

				record = transitions.get(element.value);
				record.properties.forEach(function (property) {
					var rule = _this.cssUtils.getStyles(element.value, property);
					_this.cssUtils.setStyles(element.value, rule);
				});

				rule = {};
				rule[_this.prefix.getPrefix("transition")] = "none";
				_this.cssUtils.setStyles(element.value, rule);
			};

			while (true) {
				var _ret = _loop();

				if (_ret === "break") break;
			}
		}
	}, {
		key: "play",

		/**
    * @play function
    *
    * @description Iterates through every stored element in the Tracker and sets CSS style rules to continue a paused sequence.
    * @global no
    */

		value: function play() {
			var _this2 = this;

			var transitions = this.tracker.get("Transitions");
			var transitionElements = transitions.keys();
			var animations = this.tracker.get("Animations");
			var animationElements = animations.keys();

			while (true) {

				var element = animationElements.next(),
				    rule = {};
				if (element.done) {
					break;
				}

				rule[this.prefix.getPrefix("animation-play-state")] = "running";
				this.cssUtils.setStyles(element.value, rule);
			}

			var _loop2 = function _loop2() {

				var element = transitionElements.next();
				if (element.done) {
					return "break";
				}

				var record = transitions.get(element.value);
				_this2.cssUtils.setStyles(element.value, record.transitionStyles);
				if (record.classTriggered) {
					record.properties.forEach(function (prop) {
						element.value.style.removeProperty(prop);
					});
				}

				if (record.styles) {
					_this2.cssUtils.setStyles(element.value, record.styles);
				}
			};

			while (true) {
				var _ret2 = _loop2();

				if (_ret2 === "break") break;
			}
		}
	}, {
		key: "remove",

		/**
    * @remove function
    *
    * @params {String, HTMLElement}
    * @description Removes a stored element from the Tracker once a sequence is complete.
    * @params description      
    *  - type: {String} Tracker map key, either Transitions or Animations.
    *  - element: {HTMLElement} The element to remove from the Tracker.
    * @global no
    */

		value: function remove(type, element) {
			this.tracker.get(type)["delete"](element);
		}
	}]);

	return Tracker;
})();

exports["default"] = Tracker;
module.exports = exports["default"];

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

/**
  * @Transition Class
  *
  * @description Promise based transition handler that resolves when all transitions on an element are complete.
  * @returns {Resolved Promise}
  */

var Transition = (function () {

	/**
   * @constructor function
   *
   * @params {Object, Class, Class, Class, Class, Object}  
   * @description Creates a new transition sequence.    
 * @params description
 - options {Object} Transition options.
 	- element {HTMLElement} The element to set the transition on.
 	- properties {String / Array} A string or array of strings of CSS properties that are being transitioned.
 	- setStyles {Object} Styles to be set before / after the transition.
 		- before {Object} Object of CSS property / value pairs to be set before the transition.
 		- after {Object} Object of CSS property / value pairs to be set after the transition.
 	- addClass {Object} Object of classnames to be set before / after the transition.
 		- before {String} Classname to set before the transition.
 		- after {String} Classname to set after the transition.
 	- removeClass {Object} Object of classnames to be removed before / after the transition.
 		- before {String} Classname to be removed before the transition.
 		- after {String} Classname to be removed after the transition.
 - DomUtils {Class} Dom utility class.
 - Prefix {Class} Prefix class.
 - CssUtils {Class} CSS Utilities class.
 - Tracker {Object} Object that tracks and monitors sequences.
 * @returns {Promise}
   */

	function Transition(options, DomUtils, Prefix, CssUtils, Audio, Tracker) {
		var _this = this;

		_classCallCheck(this, Transition);

		this.options = options;
		this.domUtils = Object.create(DomUtils.prototype);
		this.prefix = new Prefix().getPrefix("transitionend");
		this.cssUtils = new CssUtils();
		this.onTransitionEnd = this.transitionEnd.bind(this);
		this.totaltransitions = Array.isArray(options.properties) ? options.properties.length : 1;
		this.transitionendCount = 0;
		this.audio = Audio;
		this.tracker = Tracker;

		return new Promise(function (resolve, reject) {
			_this.resolve = resolve;
			_this.reject = reject;
			_this.animationFrame = requestAnimationFrame(_this.transitionStart.bind(_this));
		});
	}

	_createClass(Transition, [{
		key: "transitionStart",

		/**
    * @transitionStart function
    *
    * @description Sets classnames / style rules to trigger the transition.
    * @global no
    */

		value: function transitionStart() {

			var opts = this.options;
			opts.element.addEventListener(this.prefix, this.onTransitionEnd, false);

			if (opts.audio) {
				this.audioTimer = new this.audio(opts.audio);
			}

			if (opts.setStyles && opts.setStyles.before) {
				this.cssUtils.setStyles(opts.element, opts.setStyles.before);
			}

			if (opts.removeClass && opts.removeClass.before) {
				this.domUtils.setClass(opts.element, opts.removeClass.before, false);
			}

			if (opts.addClass && opts.addClass.before) {
				this.domUtils.setClass(opts.element, opts.addClass.before, true);
			}
		}
	}, {
		key: "transitionEnd",

		/**
    * @transitionEnd function
    *
    * @description Sets classnames / style rules after all transitions have occurred and removes the element from the tracker.
    * @global no
    * @returns {Resolved Promise}
    */

		value: function transitionEnd(evt) {

			evt.stopPropagation();

			var opts = this.options;
			this.transitionendCount++;

			if (this.transitionendCount === this.totaltransitions) {

				if (opts.audio) {
					this.audioTimer.cancel();
				}

				opts.element.removeEventListener(this.prefix, this.onTransitionEnd, false);
				cancelAnimationFrame(this.animationFrame);

				if (opts.setStyles && opts.setStyles.after) {
					this.cssUtils.setStyles(opts.element, opts.setStyles.after);
				}

				if (opts.removeClass && opts.removeClass.after) {
					this.domUtils.setClass(opts.element, opts.removeClass.after, false);
				}

				if (opts.addClass && opts.addClass.after) {
					this.domUtils.setClass(opts.element, opts.addClass.after, true);
				}

				this.tracker.remove("Transitions", opts.element);
				this.resolve(opts.element);
			}
		}
	}]);

	return Transition;
})();

exports["default"] = Transition;
module.exports = exports["default"];

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjOi9Vc2Vycy9NaWtlX0NoYWR3aWNrL0RvY3VtZW50cy9HaXRIdWIvQW5pbWF0b3ItRVM2L2pzL3RlbXAvYW5pbWF0b3IuanMiLCJjOi9Vc2Vycy9NaWtlX0NoYWR3aWNrL0RvY3VtZW50cy9HaXRIdWIvQW5pbWF0b3ItRVM2L2pzL3RlbXAvYW5pbWF0aW9uLXNlcS5qcyIsImM6L1VzZXJzL01pa2VfQ2hhZHdpY2svRG9jdW1lbnRzL0dpdEh1Yi9BbmltYXRvci1FUzYvanMvdGVtcC9hdWRpby5qcyIsImM6L1VzZXJzL01pa2VfQ2hhZHdpY2svRG9jdW1lbnRzL0dpdEh1Yi9BbmltYXRvci1FUzYvanMvdGVtcC9jb21iby1zZXEuanMiLCJjOi9Vc2Vycy9NaWtlX0NoYWR3aWNrL0RvY3VtZW50cy9HaXRIdWIvQW5pbWF0b3ItRVM2L2pzL3RlbXAvY3NzLXV0aWxzLmpzIiwiYzovVXNlcnMvTWlrZV9DaGFkd2ljay9Eb2N1bWVudHMvR2l0SHViL0FuaW1hdG9yLUVTNi9qcy90ZW1wL2RvbS11dGlscy5qcyIsImM6L1VzZXJzL01pa2VfQ2hhZHdpY2svRG9jdW1lbnRzL0dpdEh1Yi9BbmltYXRvci1FUzYvanMvdGVtcC9wcmVmaXhlcy5qcyIsImM6L1VzZXJzL01pa2VfQ2hhZHdpY2svRG9jdW1lbnRzL0dpdEh1Yi9BbmltYXRvci1FUzYvanMvdGVtcC9zZXEtd3JhcHBlci5qcyIsImM6L1VzZXJzL01pa2VfQ2hhZHdpY2svRG9jdW1lbnRzL0dpdEh1Yi9BbmltYXRvci1FUzYvanMvdGVtcC90cmFja2VyLmpzIiwiYzovVXNlcnMvTWlrZV9DaGFkd2ljay9Eb2N1bWVudHMvR2l0SHViL0FuaW1hdG9yLUVTNi9qcy90ZW1wL3RyYW5zaXRpb24tc2VxLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsWUFBWSxDQUFDOztBQUVi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SSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQzNDLFNBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUM1RDs7QUFFRCxRQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDL0MsU0FBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNwRTs7QUFFRCxRQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUU7QUFDekMsU0FBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNoRTs7QUFFRCxRQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2pELFFBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNCO0dBQ0Q7RUFDRCxDQUFDLENBQUMsQ0FBQzs7QUFFSixRQUFPLFVBQVUsQ0FBQztDQUNsQixDQUFBLEVBQUcsQ0FBQzs7QUFFTCxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQ2hDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcclxuICAqIEBBbmltYXRvciBDbGFzc1xyXG4gICpcclxuICAqIEBkZXNjcmlwdGlvbiBIb3VzZXMgYWxsIEFuaW1hdG9yIGZ1bmN0aW9uYWxpdHlcclxuICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgKi9cblxudmFyIF9wcmVmaXhlcyA9IHJlcXVpcmUoXCIuL3ByZWZpeGVzXCIpO1xuXG52YXIgX3ByZWZpeGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ByZWZpeGVzKTtcblxudmFyIF9jc3NVdGlscyA9IHJlcXVpcmUoXCIuL2Nzcy11dGlsc1wiKTtcblxudmFyIF9jc3NVdGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jc3NVdGlscyk7XG5cbnZhciBfZG9tVXRpbHMgPSByZXF1aXJlKFwiLi9kb20tdXRpbHNcIik7XG5cbnZhciBfZG9tVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tVXRpbHMpO1xuXG52YXIgX2FuaW1hdGlvblNlcSA9IHJlcXVpcmUoXCIuL2FuaW1hdGlvbi1zZXFcIik7XG5cbnZhciBfYW5pbWF0aW9uU2VxMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuaW1hdGlvblNlcSk7XG5cbnZhciBfdHJhbnNpdGlvblNlcSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb24tc2VxXCIpO1xuXG52YXIgX3RyYW5zaXRpb25TZXEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvblNlcSk7XG5cbnZhciBfY29tYm9TZXEgPSByZXF1aXJlKFwiLi9jb21iby1zZXFcIik7XG5cbnZhciBfY29tYm9TZXEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYm9TZXEpO1xuXG52YXIgX3NlcVdyYXBwZXIgPSByZXF1aXJlKFwiLi9zZXEtd3JhcHBlclwiKTtcblxudmFyIF9zZXFXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlcVdyYXBwZXIpO1xuXG52YXIgX3RyYWNrZXIgPSByZXF1aXJlKFwiLi90cmFja2VyXCIpO1xuXG52YXIgX3RyYWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhY2tlcik7XG5cbnZhciBfYXVkaW8gPSByZXF1aXJlKFwiLi9hdWRpb1wiKTtcblxudmFyIF9hdWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hdWRpbyk7XG5cbnZhciBBbmltYXRvciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXHJcbiAgICAqIEBjb25zdHJ1Y3RvciBmdW5jdGlvblxyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIHN0eWxlc2hlZXQgYW5kIFRyYWNrZXIgb2JqZWN0IHRvIGJlIHVzZWQgdGhyb3VnaG91dCBBbmltYXRvci5cclxuICAgICovXG5cbiAgZnVuY3Rpb24gQW5pbWF0b3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuaW1hdG9yKTtcblxuICAgIHRoaXMuc3R5bGVzaGVldCA9IG5ldyBfY3NzVXRpbHMyW1wiZGVmYXVsdFwiXSgpLmNyZWF0ZVN0eWxlU2hlZXQoKTtcbiAgICB0aGlzLnRyYWNrZXIgPSBuZXcgX3RyYWNrZXIyW1wiZGVmYXVsdFwiXShfZG9tVXRpbHMyW1wiZGVmYXVsdFwiXSwgX3ByZWZpeGVzMltcImRlZmF1bHRcIl0sIF9jc3NVdGlsczJbXCJkZWZhdWx0XCJdLCBfdHJhbnNpdGlvblNlcTJbXCJkZWZhdWx0XCJdKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBbmltYXRvciwgW3tcbiAgICBrZXk6IFwiZ2V0UHJlZml4XCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAZ2V0UHJlZml4IGZ1bmN0aW9uXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW1zIHtTdHJpbmd9XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYSBwcmVmaXhlZCBDU1MgcHJvcGVydHkgb3IgRE9NIGV2ZW50IG5hbWUuXHJcbiAgICAgICogQHJldHVybiB7U3RyaW5nfVxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFByZWZpeChwcmVmaXgpIHtcbiAgICAgIHJldHVybiBuZXcgX3ByZWZpeGVzMltcImRlZmF1bHRcIl0oKS5nZXRQcmVmaXgocHJlZml4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U3R5bGVzXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAc2V0U3R5bGVzIGZ1bmN0aW9uXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW1zIHtIVE1MRWxlbWVudCwgU3RyaW5nIC8gQXJyYXl9XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgcHJvcGVydGllcyAvIHZhbHVlcyBvbiBhbiBlbGVtZW50J3MgQ1NTU3R5bGVEZWNsYXJhdGlvbi5cclxuICAgICAgKi9cblxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgICByZXR1cm4gbmV3IF9jc3NVdGlsczJbXCJkZWZhdWx0XCJdKCkuc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFN0eWxlc1wiLFxuXG4gICAgLyoqXHJcbiAgICAgICogQGdldFN0eWxlcyBmdW5jdGlvblxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtcyB7SFRNTEVsZW1lbnQsIE9iamVjdH1cclxuICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJuIGFuIG9iamVjdCBvZiBDU1MgcHJvcGVydGllcyAvIHZhbHVlcy5cclxuICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3R5bGVzKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybiBuZXcgX2Nzc1V0aWxzMltcImRlZmF1bHRcIl0oKS5nZXRTdHlsZXMoZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVRyYW5zaXRpb25cIixcblxuICAgIC8qKlxyXG4gICAgICAqIEBjcmVhdGVUcmFuc2l0aW9uIGZ1bmN0aW9uXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW1zIHtPYmplY3R9XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBDU1MgdHJhbnNpdGlvbiBkZWZpbml0aW9uLlxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgICAgbmV3IF9jc3NVdGlsczJbXCJkZWZhdWx0XCJdKCkuY3JlYXRlVHJhbnNpdGlvbih0cmFuc2l0aW9uLCBfcHJlZml4ZXMyW1wiZGVmYXVsdFwiXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUFuaW1hdGlvblwiLFxuXG4gICAgLyoqXHJcbiAgICAgICogQGNyZWF0ZUFuaW1hdGlvbiBmdW5jdGlvblxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtcyB7T2JqZWN0fVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIGEgQ1NTIGtleWZyYW1lIGFuaW1hdGlvbiBkZWZpbml0aW9uLlxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRpb24pIHtcbiAgICAgIG5ldyBfY3NzVXRpbHMyW1wiZGVmYXVsdFwiXSgpLmNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uKGFuaW1hdGlvbiwgX3ByZWZpeGVzMltcImRlZmF1bHRcIl0sIHRoaXMuc3R5bGVzaGVldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUNsYXNzXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAY3JlYXRlQ2xhc3MgZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge1N0cmluZywgT2JqZWN0fVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIGEgQ1NTIGNsYXNzIGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBzdHlsZXNoZWV0LlxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKGNsYXNzTmFtZSwgcnVsZXMpIHtcbiAgICAgIG5ldyBfY3NzVXRpbHMyW1wiZGVmYXVsdFwiXSgpLmNyZWF0ZUNsYXNzKGNsYXNzTmFtZSwgdGhpcy5zdHlsZXNoZWV0LCBydWxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNsYXNzXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAZGVsZXRlQ2xhc3MgZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge1N0cmluZ31cclxuICAgICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlcyBhIENTUyBjbGFzcyBmcm9tIHRoZSBzdHlsZXNoZWV0LlxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNsYXNzKGNsYXNzTmFtZSkge1xuICAgICAgbmV3IF9jc3NVdGlsczJbXCJkZWZhdWx0XCJdKCkuZGVsZXRlQ2xhc3MoY2xhc3NOYW1lLCB0aGlzLnN0eWxlc2hlZXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDU1NSdWxlXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAY3JlYXRlQ1NTUnVsZSBmdW5jdGlvblxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtcyB7U3RyaW5nIC8gQXJyYXksIFN0cmluZyAvIEFycmF5fVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGEgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnMgb2JqZWN0LlxyXG4gICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQ1NTUnVsZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBuZXcgX2Nzc1V0aWxzMltcImRlZmF1bHRcIl0oKS5jcmVhdGVDU1NSdWxlKHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZENsYXNzXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAYWRkQ2xhc3MgZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge0hUTUxFbGVtZW50IC8gTm9kZWxpc3QsIFN0cmluZyAvIEFycmF5fVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGEgY2xhc3MoZXMpIG9uIGFuIGVsZW1lbnQuXHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NMaXN0KSB7XG4gICAgICBuZXcgX2RvbVV0aWxzMltcImRlZmF1bHRcIl0oKS5zZXRDbGFzcyhlbGVtZW50LCBjbGFzc0xpc3QsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVDbGFzc1wiLFxuXG4gICAgLyoqXHJcbiAgICAgICogQHJlbW92ZUNsYXNzIGZ1bmN0aW9uXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW1zIHtIVE1MRWxlbWVudCAvIE5vZGVsaXN0LCBTdHJpbmcgLyBBcnJheX1cclxuICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhIGNsYXNzKGVzKSBmcm9tIGFuIGVsZW1lbnQuXHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NMaXN0KSB7XG4gICAgICBuZXcgX2RvbVV0aWxzMltcImRlZmF1bHRcIl0oKS5zZXRDbGFzcyhlbGVtZW50LCBjbGFzc0xpc3QsIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHJhbnNpdGlvblwiLFxuXG4gICAgLyoqXHJcbiAgICAgICogQHRyYW5zaXRpb24gZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge09iamVjdH1cclxuICAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIHRyYW5zaXRpb24gc2VxdWVuY2UuXHJcbiAgICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNpdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gbmV3IF9zZXFXcmFwcGVyMltcImRlZmF1bHRcIl0ob3B0aW9ucywgX2RvbVV0aWxzMltcImRlZmF1bHRcIl0sIF9wcmVmaXhlczJbXCJkZWZhdWx0XCJdLCBfY3NzVXRpbHMyW1wiZGVmYXVsdFwiXSwgX3RyYW5zaXRpb25TZXEyW1wiZGVmYXVsdFwiXSwgX2NvbWJvU2VxMltcImRlZmF1bHRcIl0sIF9hdWRpbzJbXCJkZWZhdWx0XCJdLCB0aGlzLnRyYWNrZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhbmltYXRpb25cIixcblxuICAgIC8qKlxyXG4gICAgICAqIEBhbmltYXRpb24gZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge09iamVjdH1cclxuICAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhbiBhbmltYXRpb24gc2VxdWVuY2UuXHJcbiAgICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gYW5pbWF0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBuZXcgX3NlcVdyYXBwZXIyW1wiZGVmYXVsdFwiXShvcHRpb25zLCBfZG9tVXRpbHMyW1wiZGVmYXVsdFwiXSwgX3ByZWZpeGVzMltcImRlZmF1bHRcIl0sIF9jc3NVdGlsczJbXCJkZWZhdWx0XCJdLCBfYW5pbWF0aW9uU2VxMltcImRlZmF1bHRcIl0sIF9jb21ib1NlcTJbXCJkZWZhdWx0XCJdLCBfYXVkaW8yW1wiZGVmYXVsdFwiXSwgdGhpcy50cmFja2VyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tYm9cIixcblxuICAgIC8qKlxyXG4gICAgICAqIEBjb21ibyBmdW5jdGlvblxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtcyB7T2JqZWN0fVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIGFuIGNvbWJpbmF0aW9uIG9mIHNlcXVlbmNlLlxyXG4gICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbWJvKGFuaW1hdGlvbnMpIHtcbiAgICAgIHJldHVybiBuZXcgX2NvbWJvU2VxMltcImRlZmF1bHRcIl0oYW5pbWF0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzU3VwcG9ydGVkXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAaXNTdXBwb3J0ZWQgZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUZXN0cyB0aGUgYnJvd3NlciBmb3IgQW5pbWF0b3Igc3VwcG9ydC5cclxuICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgKi9cblxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICAgIHJldHVybiBuZXcgX2RvbVV0aWxzMltcImRlZmF1bHRcIl0oKS5zdXBwb3J0KF9wcmVmaXhlczJbXCJkZWZhdWx0XCJdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGF1c2VcIixcblxuICAgIC8qKlxyXG4gICAgICAqIEBwYXVzZSBmdW5jdGlvblxyXG4gICAgICAqXHJcbiAgICAgICogQGRlc2NyaXB0aW9uIFBhdXNlIHRoZSBjdXJyZW50IHNlcXVlbmNlLlxyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgdGhpcy50cmFja2VyLnBhdXNlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBsYXlcIixcblxuICAgIC8qKlxyXG4gICAgICAqIEBwbGF5IGZ1bmN0aW9uXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb24gUGxheXMgdGhlIGN1cnJlbnQgc2VxdWVuY2UuXHJcbiAgICAgICovXG5cbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgIHRoaXMudHJhY2tlci5wbGF5KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFuaW1hdG9yO1xufSkoKTtcblxud2luZG93LkFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXHJcbiAgKiBAQW5pbWF0aW9uIENsYXNzXHJcbiAgKlxyXG4gICogQGRlc2NyaXB0aW9uIFByb21pc2UgYmFzZWQgYW5pbWF0aW9uIGhhbmRsZXIgdGhhdCByZXNvbHZlcyB3aGVuIGFuaW1hdGlvbnMgdHJpZ2dlcmVkIG9uIGFuIGVsZW1lbnQgYXJlIGNvbXBsZXRlLlxyXG4gICogQHJldHVybnMge1Jlc29sdmVkIFByb21pc2V9XHJcbiAgKi9cblxudmFyIEFuaW1hdGlvbiA9IChmdW5jdGlvbiAoKSB7XG5cblx0LyoqXHJcbiAgICogQGNvbnN0cnVjdG9yIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW1zIHtPYmplY3QsIENsYXNzLCBDbGFzcywgQ2xhc3MsIENsYXNzLCBPYmplY3R9ICBcclxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyBhbmltYXRpb24gc2VxdWVuY2UuICAgIFxyXG4gKiBAcGFyYW1zIGRlc2NyaXB0aW9uXHJcbiAtIG9wdGlvbnMge09iamVjdH0gQW5pbWF0aW9uIG9wdGlvbnMuXHJcbiBcdC0gZWxlbWVudCB7SFRNTEVsZW1lbnR9IFRoZSBlbGVtZW50IHRvIHNldCB0aGUgYW5pbWF0aW9uIG9uLlxyXG4gXHQtIHNldFN0eWxlcyB7T2JqZWN0fSBTdHlsZXMgdG8gYmUgc2V0IGJlZm9yZSAvIGFmdGVyIHRoZSBhbmltYXRpb24uXHJcbiBcdFx0LSBiZWZvcmUge09iamVjdH0gT2JqZWN0IG9mIENTUyBwcm9wZXJ0eSAvIHZhbHVlIHBhaXJzIHRvIGJlIHNldCBiZWZvcmUgdGhlIGFuaW1hdGlvbi5cclxuIFx0XHQtIGFmdGVyIHtPYmplY3R9IE9iamVjdCBvZiBDU1MgcHJvcGVydHkgLyB2YWx1ZSBwYWlycyB0byBiZSBzZXQgYWZ0ZXIgdGhlIGFuaW1hdGlvbi5cclxuIFx0LSBhZGRDbGFzcyB7T2JqZWN0fSBPYmplY3Qgb2YgY2xhc3NuYW1lcyB0byBiZSBzZXQgYmVmb3JlIC8gYWZ0ZXIgdGhlIGFuaW1hdGlvbi5cclxuIFx0XHQtIGJlZm9yZSB7U3RyaW5nfSBDbGFzc25hbWUgdG8gc2V0IGJlZm9yZSB0aGUgYW5pbWF0aW9uLlxyXG4gXHRcdC0gYWZ0ZXIge1N0cmluZ30gQ2xhc3NuYW1lIHRvIHNldCBhZnRlciB0aGUgYW5pbWF0aW9uLlxyXG4gXHQtIHJlbW92ZUNsYXNzIHtPYmplY3R9IE9iamVjdCBvZiBjbGFzc25hbWVzIHRvIGJlIHJlbW92ZWQgYmVmb3JlIC8gYWZ0ZXIgdGhlIGFuaW1hdGlvbi5cclxuIFx0XHQtIGJlZm9yZSB7U3RyaW5nfSBDbGFzc25hbWUgdG8gYmUgcmVtb3ZlZCBiZWZvcmUgdGhlIGFuaW1hdGlvbi5cclxuIFx0XHQtIGFmdGVyIHtTdHJpbmd9IENsYXNzbmFtZSB0byBiZSByZW1vdmVkIGFmdGVyIHRoZSBhbmltYXRpb24uXHJcbiAtIERvbVV0aWxzIHtDbGFzc30gRG9tIHV0aWxpdHkgY2xhc3MuXHJcbiAtIFByZWZpeCB7Q2xhc3N9IFByZWZpeCBjbGFzcy5cclxuIC0gQ3NzVXRpbHMge0NsYXNzfSBDU1MgVXRpbGl0aWVzIGNsYXNzLlxyXG4gLSBUcmFja2VyIHtPYmplY3R9IE9iamVjdCB0aGF0IHRyYWNrcyBhbmQgbW9uaXRvcnMgc2VxdWVuY2VzLlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cblxuXHRmdW5jdGlvbiBBbmltYXRpb24ob3B0aW9ucywgRG9tVXRpbHMsIFByZWZpeCwgQ3NzVXRpbHMsIEF1ZGlvLCBUcmFja2VyKSB7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRpb24pO1xuXG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLmRvbVV0aWxzID0gbmV3IERvbVV0aWxzKCk7XG5cdFx0dGhpcy5jc3NVdGlscyA9IG5ldyBDc3NVdGlscygpO1xuXHRcdHRoaXMucHJlZml4ID0gbmV3IFByZWZpeCgpLmdldFByZWZpeChcImFuaW1hdGlvbmVuZFwiKTtcblx0XHR0aGlzLm9uQW5pbWF0aW9uRW5kID0gdGhpcy5hbmltYXRpb25FbmQuYmluZCh0aGlzKTtcblx0XHR0aGlzLmF1ZGlvID0gQXVkaW87XG5cdFx0dGhpcy50cmFja2VyID0gVHJhY2tlcjtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRfdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcblx0XHRcdF90aGlzLnJlamVjdCA9IHJlamVjdDtcblx0XHRcdF90aGlzLmFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLmFuaW1hdGlvblN0YXJ0LmJpbmQoX3RoaXMpKTtcblx0XHR9KTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhBbmltYXRpb24sIFt7XG5cdFx0a2V5OiBcImFuaW1hdGlvblN0YXJ0XCIsXG5cblx0XHQvKipcclxuICAgICogQGFuaW1hdGlvblN0YXJ0IGZ1bmN0aW9uXHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGNsYXNzbmFtZXMgLyBzdHlsZSBydWxlcyB0byB0cmlnZ2VyIHRoZSBhbmltYXRpb24uXHJcbiAgICAqIEBnbG9iYWwgbm9cclxuICAgICovXG5cblx0XHR2YWx1ZTogZnVuY3Rpb24gYW5pbWF0aW9uU3RhcnQoKSB7XG5cblx0XHRcdHZhciBvcHRzID0gdGhpcy5vcHRpb25zO1xuXHRcdFx0b3B0cy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5wcmVmaXgsIHRoaXMub25BbmltYXRpb25FbmQsIGZhbHNlKTtcblxuXHRcdFx0aWYgKG9wdHMuYXVkaW8pIHtcblx0XHRcdFx0dGhpcy5hdWRpb1RpbWVyID0gbmV3IHRoaXMuYXVkaW8ob3B0cy5hdWRpbyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRzLnNldFN0eWxlcyAmJiBvcHRzLnNldFN0eWxlcy5iZWZvcmUpIHtcblx0XHRcdFx0dGhpcy5jc3NVdGlscy5zZXRTdHlsZXMob3B0cy5lbGVtZW50LCBvcHRzLnNldFN0eWxlcy5iZWZvcmUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0cy5yZW1vdmVDbGFzcyAmJiBvcHRzLnJlbW92ZUNsYXNzLmJlZm9yZSkge1xuXHRcdFx0XHR0aGlzLmRvbVV0aWxzLnNldENsYXNzKG9wdHMuZWxlbWVudCwgb3B0cy5yZW1vdmVDbGFzcy5iZWZvcmUsIGZhbHNlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdHMuYWRkQ2xhc3MgJiYgb3B0cy5hZGRDbGFzcy5iZWZvcmUpIHtcblx0XHRcdFx0dGhpcy5kb21VdGlscy5zZXRDbGFzcyhvcHRzLmVsZW1lbnQsIG9wdHMuYWRkQ2xhc3MuYmVmb3JlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiYW5pbWF0aW9uRW5kXCIsXG5cblx0XHQvKipcclxuICAgICogQGFuaW1hdGlvbkVuZCBmdW5jdGlvblxyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb24gU2V0cyBjbGFzc25hbWVzIC8gc3R5bGUgcnVsZXMgYWZ0ZXIgYWxsIGFuaW1hdGlvbnMgaGF2ZSBjb21wbGV0ZWQgYW5kIHJlbW92ZXMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgdHJhY2tlci5cclxuICAgICogQGdsb2JhbCBub1xyXG4gICAgKiBAcmV0dXJucyB7UmVzb2x2ZWQgUHJvbWlzZX1cclxuICAgICovXG5cblx0XHR2YWx1ZTogZnVuY3Rpb24gYW5pbWF0aW9uRW5kKGV2dCkge1xuXG5cdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdHZhciBvcHRzID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRpZiAob3B0cy5hdWRpbykge1xuXHRcdFx0XHR0aGlzLmF1ZGlvVGltZXIuY2FuY2VsKCk7XG5cdFx0XHR9XG5cblx0XHRcdG9wdHMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMucHJlZml4LCB0aGlzLm9uQW5pbWF0aW9uRW5kLCBmYWxzZSk7XG5cdFx0XHRjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lKTtcblxuXHRcdFx0aWYgKG9wdHMuc2V0U3R5bGVzICYmIG9wdHMuc2V0U3R5bGVzLmFmdGVyKSB7XG5cdFx0XHRcdHRoaXMuY3NzVXRpbHMuc2V0U3R5bGVzKG9wdHMuZWxlbWVudCwgb3B0cy5zZXRTdHlsZXMuYWZ0ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0cy5yZW1vdmVDbGFzcyAmJiBvcHRzLnJlbW92ZUNsYXNzLmFmdGVyKSB7XG5cdFx0XHRcdHRoaXMuZG9tVXRpbHMuc2V0Q2xhc3Mob3B0cy5lbGVtZW50LCBvcHRzLnJlbW92ZUNsYXNzLmFmdGVyLCBmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRzLmFkZENsYXNzICYmIG9wdHMuYWRkQ2xhc3MuYWZ0ZXIpIHtcblx0XHRcdFx0dGhpcy5kb21VdGlscy5zZXRDbGFzcyhvcHRzLmVsZW1lbnQsIG9wdHMuYWRkQ2xhc3MuYWZ0ZXIsIHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnRyYWNrZXIucmVtb3ZlKFwiQW5pbWF0aW9uc1wiLCBvcHRzLmVsZW1lbnQpO1xuXHRcdFx0dGhpcy5yZXNvbHZlKG9wdHMuZWxlbWVudCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEFuaW1hdGlvbjtcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQW5pbWF0aW9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcclxuICAqIEBBdWRpbyBDbGFzc1xyXG4gICpcclxuICAqIEBkZXNjcmlwdGlvbiBQcm92aWRlcyBBdWRpbyBzYW1wbGUgcGxheWJhY2sgLyB0aW1pbmcuXHJcbiAgKiAtIGNoZWNrIGZvciB3ZWIgYXVkaW8gc3VwcG9ydFxyXG4gICogLSBpZiBub25lIGRlZmVyIGJhY2sgdG8gYXVkaW8gZWxlbWVudCBwbGF5YmFjayAvIHZvbHVtZSBvbmx5XHJcbiAgKiAtIGlmIHN1cHBvcnRlZCBwbGF5IGF1ZGlvIHdpdGggcGFubmluZywgZmlsdGVyaW5nLCB2b2x1bWUsIGxvb3Agb3B0aW9uc1xyXG4gICogQHJldHVybnMge09iamVjdH1cclxuICAqL1xuXG52YXIgQXVkaW8gPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBBdWRpbyhjb25maWcpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXVkaW8pO1xuXG5cdFx0dGhpcy5pc1dlYkF1ZGlvU3VwcG9ydGVkID0gISEod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KTtcblx0XHR0aGlzLm1pbGxpc2Vjb25kcyA9IDA7XG5cdFx0dGhpcy5hdWRpb1NldHRpbmdzID0gQXJyYXkuaXNBcnJheShjb25maWcpID8gY29uZmlnIDogW2NvbmZpZ107XG5cdFx0dGhpcy5zdGFydFRpbWVyKCk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQXVkaW8sIFt7XG5cdFx0a2V5OiBcInN0YXJ0VGltZXJcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc3RhcnRUaW1lcigpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdF90aGlzLm1pbGxpc2Vjb25kcyArPSAxMDA7XG5cdFx0XHRcdF90aGlzLmF1ZGlvU2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7XG5cdFx0XHRcdFx0aWYgKGNvbmZpZy50aW1lID09PSBfdGhpcy5taWxsaXNlY29uZHMpIHtcblx0XHRcdFx0XHRcdF90aGlzLmlzV2ViQXVkaW9TdXBwb3J0ZWQgPyBfdGhpcy5nZXRBdWRpbyhjb25maWcpIDogX3RoaXMucGxheUF1ZGlvRmFsbGJhY2soY29uZmlnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSwgMTAwKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0QXVkaW9cIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0QXVkaW8oY29uZmlnKSB7XG5cdFx0XHR2YXIgX3RoaXMyID0gdGhpcztcblxuXHRcdFx0dmFyIHBsYXllciA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpO1xuXHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIGNvbmZpZy5hdWRpbywgdHJ1ZSk7XG5cdFx0XHRyZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcblx0XHRcdHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdHBsYXllci5kZWNvZGVBdWRpb0RhdGEocmVxdWVzdC5yZXNwb25zZSwgZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0XHRcdF90aGlzMi5wbGF5QXVkaW8ocGxheWVyLCBidWZmZXIsIGNvbmZpZyk7XG5cdFx0XHRcdH0sIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XCJFcnJvciB3aXRoIGRlY29kaW5nIGF1ZGlvIGRhdGFcIiArIGUuZXJyO1xuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cblx0XHRcdHJlcXVlc3Quc2VuZCgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwbGF5QXVkaW9cIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcGxheUF1ZGlvKHBsYXllciwgYnVmZmVyLCBjb25maWcpIHtcblxuXHRcdFx0dmFyIHNvdXJjZSA9IHBsYXllci5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcblx0XHRcdHNvdXJjZS5idWZmZXIgPSBidWZmZXI7XG5cblx0XHRcdGlmIChjb25maWcucGFuKSB7XG5cdFx0XHRcdHZhciBwYW5uZXIgPSB0aGlzLmNyZWF0ZVBhbm5lcihwbGF5ZXIsIGNvbmZpZy5wYW4pO1xuXHRcdFx0XHRzb3VyY2UuY29ubmVjdChwYW5uZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdm9sdW1lID0gdGhpcy5jcmVhdGVWb2x1bWUocGxheWVyLCBjb25maWcudm9sdW1lKTtcblx0XHRcdHNvdXJjZS5jb25uZWN0KHZvbHVtZSk7XG5cdFx0XHR2b2x1bWUuY29ubmVjdChwbGF5ZXIuZGVzdGluYXRpb24pO1xuXHRcdFx0c291cmNlLnN0YXJ0KDApO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVQYW5uZXJcIixcblxuXHRcdC8vIC0xIHRvIDFcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUGFubmVyKHBsYXllciwgcGFuVmFsdWUpIHtcblx0XHRcdHZhciBwYW5uZXIgPSBwbGF5ZXIuY3JlYXRlU3RlcmVvUGFubmVyKCk7XG5cdFx0XHRwYW5uZXIucGFuLnZhbHVlID0gcGFuVmFsdWU7XG5cdFx0XHRyZXR1cm4gcGFubmVyO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVWb2x1bWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVm9sdW1lKHBsYXllciwgdm9sdW1lTGV2ZWwpIHtcblx0XHRcdHZhciB2b2x1bWUgPSBwbGF5ZXIuY3JlYXRlR2FpbigpO1xuXHRcdFx0dm9sdW1lLmdhaW4udmFsdWUgPSB2b2x1bWVMZXZlbCB8fCAxO1xuXHRcdFx0cmV0dXJuIHZvbHVtZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicGxheUF1ZGlvRmFsbGJhY2tcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcGxheUF1ZGlvRmFsbGJhY2soY29uZmlnKSB7XG5cdFx0XHR2YXIgYXVkaW9QbGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7XG5cdFx0XHRhdWRpb1BsYXllci5zcmMgPSBjb25maWcuYXVkaW87XG5cdFx0XHRhdWRpb1BsYXllci5wbGF5KCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhbmNlbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuXHRcdFx0Y29uc29sZS5sb2coXCJ0aW1lciBjYW5jZWxsZWRcIik7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEF1ZGlvO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBdWRpbztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXHJcbiAgKiBAQ29tYm8gQ2xhc3NcclxuICAqXHJcbiAgKiBAZGVzY3JpcHRpb24gV3JhcHMgYSBQcm9taXNlIGFyb3VuZCB4IGFtb3VudCBvZiBzZXF1ZW5jZXMgYW5kIHJlc29sdmVzIHdoZW4gYWxsIHNlcXVlbmNlcyBoYXZlIHJlc29sdmVkLlxyXG4gICogQHJldHVybnMge1Jlc29sdmVkIFByb21pc2V9XHJcbiAgKi9cblxudmFyIENvbWJvID0gKGZ1bmN0aW9uICgpIHtcblxuXHQvKipcclxuICAgKiBAY29uc3RydWN0b3IgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBwYXJhbXMge0FycmF5LCBDbGFzc30gIFxyXG4gICAqIEBkZXNjcmlwdGlvbiBXcmFwcyB4IGFtb3VudCBvZiBzZXF1ZW5jZXMgaW4gYSBQcm9taXNlLiAgICBcclxuICogQHBhcmFtcyBkZXNjcmlwdGlvblxyXG4gLSBzZXF1ZW5jZXMge0FycmF5fSBBbiBhcnJheSBvZiBzZXF1ZW5jZXMuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xuXG5cdGZ1bmN0aW9uIENvbWJvKHNlcXVlbmNlcykge1xuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tYm8pO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0dmFyIHdhdGNoZXIgPSBfdGhpcy5zZXF1ZW5jZVdhdGNoZXIoKTtcblx0XHRcdF90aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuXHRcdFx0X3RoaXMucmVqZWN0ID0gcmVqZWN0O1xuXHRcdFx0X3RoaXMuYW1vdW50ID0gc2VxdWVuY2VzLmxlbmd0aDtcblxuXHRcdFx0c2VxdWVuY2VzLmZvckVhY2goZnVuY3Rpb24gKHNlcXVlbmNlKSB7XG5cblx0XHRcdFx0c2VxdWVuY2UudGhlbihmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdFx0XHRcdHdhdGNoZXIoZWxlbWVudCk7XG5cdFx0XHRcdH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRfdGhpcy5yZWplY3QoZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQ29tYm8sIFt7XG5cdFx0a2V5OiBcInNlcXVlbmNlV2F0Y2hlclwiLFxuXG5cdFx0LyoqXHJcbiAgICAqIEBzZXF1ZW5jZVdhdGNoZXIgZnVuY3Rpb25cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uIFJlc29sdmVzIHdoZW4gYWxsIHNlcXVlbmNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQuICAgXHJcbiAgKiBAcmV0dXJucyB7UmVzb2x2ZWQgUHJvbWlzZX1cclxuICAgICogQGdsb2JhbCBub1xyXG4gICAgKi9cblxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXF1ZW5jZVdhdGNoZXIoKSB7XG5cdFx0XHR2YXIgX3RoaXMyID0gdGhpcztcblxuXHRcdFx0dmFyIGNvdW50ID0gMDtcblx0XHRcdHZhciByZXR1cm5EYXRhID0gW107XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQpIHtcblxuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHRyZXR1cm5EYXRhLnB1c2goZWxlbWVudCk7XG5cdFx0XHRcdGlmIChjb3VudCA9PT0gX3RoaXMyLmFtb3VudCkge1xuXHRcdFx0XHRcdF90aGlzMi5yZXNvbHZlKHJldHVybkRhdGEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBDb21ibztcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29tYm87XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXHJcbiAgKiBAQ3NzVXRpbHMgQ2xhc3NcclxuICAqXHJcbiAgKiBAZGVzY3JpcHRpb24gQ1NTIHV0aWxpdHkgYmVsdCBmb3IgQW5pbWF0b3IgdXNpbmcgdGhlIENTU09NIChmaWxlOi8vLyBwcm90b2NvbCBub3Qgc3VwcG9ydGVkIGluIENocm9tZSkgXHJcbiAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICovXG5cbnZhciBDc3NVdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3NzVXRpbHMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDc3NVdGlscyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENzc1V0aWxzLCBbe1xuICAgICAgICBrZXk6IFwiY3JlYXRlU3R5bGVTaGVldFwiLFxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBAY3JlYXRlU3R5bGVTaGVldCBmdW5jdGlvblxyXG4gICAgICAgICAgKlxyXG4gICAgICAgICAgKiBAZGVzY3JpcHRpb24gQSBzdHlsZXNoZWV0IGZvciBhbnkgdHJhbnNpdGlvbiAvIGFuaW1hdGlvbiAvIHN0eWxlIGNsYXNzZXMgY3JlYXRlZCBpbiBBbmltYXRvci5cclxuICAgICAgICAgICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9IHN0eWxlc2hlZXRcclxuICAgICAgICAgICogQGdsb2JhbCBub1xyXG4gICAgICAgICAgKi9cblxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU3R5bGVTaGVldCgpIHtcblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIikpO1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuc2hlZXQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjc3NUZXh0VG9Kc1wiLFxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBAY3NzVGV4dFRvSnMgZnVuY3Rpb25cclxuICAgICAgICAgICpcclxuICAgICAgICAgICogQHBhcmFtcyB7U3RyaW5nfVxyXG4gICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29udmVydHMgYSBoeXBoZW4gZGVsaW10ZWQgQ1NTIHByb3BlcnR5IHRvIGEgY2FtZWwgY2FzZWQgSmF2YVNjcmlwdCBwcm9wZXJ0eS5cclxuICAgICAgICAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgICAgICAgICogQGdsb2JhbCBub1xyXG4gICAgICAgICAgKi9cblxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3NzVGV4dFRvSnMoY3NzVGV4dCkge1xuXG4gICAgICAgICAgICByZXR1cm4gY3NzVGV4dC5yZXBsYWNlKC9cXC0oXFx3KS9nLCBmdW5jdGlvbiAoc3RyLCBsZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInNldFN0eWxlc1wiLFxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBAc2V0U3R5bGVzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAqXHJcbiAgICAgICAgICAqIEBwYXJhbXMge0hUTUxFbGVtZW50IC8gTm9kZWxpc3QsIE9iamVjdCwgQm9vbGVhbn1cclxuICAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgcHJvcGVydGllcyBvbiBhbiBlbGVtZW50J3MgQ1NTU3R5bGVEZWNsYXJhdGlvbi5cclxuICAgICAgICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgICAgICAgKiAgLSBlbGVtZW50OiB7SFRNTEVsZW1lbnQgLyBOb2RlbGlzdH0gSFRNTCBlbGVtZW50KHMpIHRvIHNldCBzdHlsZXMgcHJvcGVydGllcyBvbi5cclxuICAgICAgICAgICAgIC0gc3R5bGVzIDoge09iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAgICAtIGltcG9ydGFudCA6IFtCb29sZWFuXSAoT3B0aW9uYWwpIFNwZWNpZnlpbmcgaWYgdGhlIENTUyB2YWx1ZSBpcyB0byBiZSBzZXQgYXMgaW1wb3J0YW50LiBcclxuICAgICAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgICAgICovXG5cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMsIGltcG9ydGFudCkge1xuXG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50Lmxlbmd0aCA/IEFycmF5LmZyb20oZWxlbWVudCkgOiBbZWxlbWVudF07XG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltcG9ydGFudCA9IGltcG9ydGFudCB8fCBTdHJpbmcoc3R5bGVzW3Byb3BlcnR5XSkuaW5jbHVkZXMoXCJpbXBvcnRhbnRcIikgPyBcImltcG9ydGFudFwiIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGVzID0gU3RyaW5nKHN0eWxlc1twcm9wZXJ0eV0pLnJlcGxhY2UoLyE/aW1wb3J0YW50LywgXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgcnVsZXMsIGltcG9ydGFudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImdldFN0eWxlc1wiLFxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBAZ2V0U3R5bGVzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAqXHJcbiAgICAgICAgICAqIEBwYXJhbXMge0hUTUxFbGVtZW50LCBTdHJpbmcgLyBBcnJheX1cclxuICAgICAgICAgICogQGRlc2NyaXB0aW9uIFF1ZXJpZXMgcHJvcGVydGllcyBzZXQgb24gYW4gZWxlbWVudCdzIENTU1N0eWxlRGVjbGFyYXRpb24uXHJcbiAgICAgICAgICAqIEBwYXJhbXMgZGVzY3JpcHRpb24gICAgICBcclxuICAgICAgICAgICogIC0gZWxlbWVudDoge0hUTUxFbGVtZW50fSBIVE1MIGVsZW1lbnQgdG8gcXVlcnkgYWdhaW50cyBpdHMgc3R5bGUgcHJvcGVydGllcy5cclxuICAgICAgICAgICAgIC0gcHJvcHMgOiB7U3RyaW5nIC8gQXJyYXl9IFN0cmluZyBvciBBcnJheSBvZiBzdHJpbmdzIG9mIENTUyBwcm9wZXJ0aWVzIHRvIHF1ZXJ5LlxyXG4gICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3Qgb2YgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnNcclxuICAgICAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgICAgICovXG5cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0eWxlcyhlbGVtZW50LCBwcm9wcykge1xuXG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IEFycmF5LmlzQXJyYXkocHJvcHMpID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcykpIDogW3Byb3BzXTtcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXNbcHJvcGVydHldID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVUcmFuc2l0aW9uXCIsXG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICAqIEBjcmVhdGVUcmFuc2l0aW9uIGZ1bmN0aW9uXHJcbiAgICAgICAgICAqXHJcbiAgICAgICAgICAqIEBwYXJhbXMge09iamVjdCwgQ2xhc3N9XHJcbiAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIGEgc3RyaW5nIGRlZmluaW5nIGFuIGVsZW1lbnQncyBDU1MgdHJhbnNpdGlvbiB2YWx1ZXMgYW5kIHNldHMgaXQgb24gdGhlIGVsZW1lbnQncyBDU1NTdHlsZURlY2xhcmF0aW9uLiBcclxuICAgICAgICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgICAgICAgKiAgLSB0cmFuc2l0aW9uOiB7T2JqZWN0fSBBbiBvYmplY3Qgb2YgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAgICAgICAgIC0gZWxlbWVudHMge0hUTUxFbGVtZW50IC8gTm9kZWxpc3R9IEhUTUxFbGVtZW50KHMpIHRvIHNldCB0cmFuc2l0aW9uIG9uLlxyXG4gICAgICAgICAgICAgICAgIC0gcHJvcGVydGllcyB7U3RyaW5nIC8gQXJyYXl9IENTUyBwcm9wZXJ0aWVzIHRvIHRyYW5zaXRpb24uXHJcbiAgICAgICAgICAgICAgICAgLSBkdXJhdGlvbiB7U3RyaW5nIC8gQXJyYXl9IE1zIG9yIFMgdHJhbnNpdGlvbiBkdXJhdGlvbiB2YWx1ZShzKS5cclxuICAgICAgICAgICAgICAgICAtIGVhc2luZyBbU3RyaW5nIC8gQXJyYXldIChPcHRpb25hbCkgVHJhbnNpdGlvbiB0aW1pbmcgZnVuY3Rpb24gdmFsdWUocykuXHJcbiAgICAgICAgICAgICAgICAgLSBkZWxheSBbU3RyaW5nIC8gQXJyYXldIChPcHRpb25hbCkgVHJhbnNpdGlvbiBkZWxheSB2YWx1ZShzKS5cclxuICAgICAgICAgICAgIC0gUHJlZml4IDoge0NsYXNzfSBQcmVmaXggY2xhc3MuXHJcbiAgICAgICAgICAqIEBnbG9iYWwgeWVzXHJcbiAgICAgICAgICAqL1xuXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uKHRyYW5zaXRpb24sIFByZWZpeCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25QcmVmaXggPSBuZXcgUHJlZml4KCkuZ2V0UHJlZml4KFwidHJhbnNpdGlvblwiKTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHRyYW5zaXRpb24uZWxlbWVudC5sZW5ndGggPyBBcnJheS5mcm9tKHRyYW5zaXRpb24uZWxlbWVudCkgOiBbdHJhbnNpdGlvbi5lbGVtZW50XTtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gQXJyYXkuaXNBcnJheSh0cmFuc2l0aW9uLnByb3BlcnRpZXMpID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2l0aW9uLnByb3BlcnRpZXMpKSA6IFt0cmFuc2l0aW9uLnByb3BlcnRpZXNdO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gQXJyYXkuaXNBcnJheSh0cmFuc2l0aW9uLmR1cmF0aW9uKSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodHJhbnNpdGlvbi5kdXJhdGlvbikpIDogW3RyYW5zaXRpb24uZHVyYXRpb25dO1xuICAgICAgICAgICAgdmFyIGVhc2luZyA9IEFycmF5LmlzQXJyYXkodHJhbnNpdGlvbi5lYXNpbmcpID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2l0aW9uLmVhc2luZykpIDogW3RyYW5zaXRpb24uZWFzaW5nXTtcbiAgICAgICAgICAgIHZhciBkZWxheSA9IEFycmF5LmlzQXJyYXkodHJhbnNpdGlvbi5kZWxheSkgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRyYW5zaXRpb24uZGVsYXkpKSA6IFt0cmFuc2l0aW9uLmRlbGF5XTtcblxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25TdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHZhciBydWxlcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wLCBpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblN0cmluZyArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblN0cmluZyArPSBwcm9wZXJ0aWVzLmxlbmd0aCA+IDEgPyBwcm9wZXJ0aWVzW2ldICsgXCIgXCIgOiBwcm9wZXJ0aWVzWzBdICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25TdHJpbmcgKz0gZHVyYXRpb24ubGVuZ3RoID4gMSA/IGR1cmF0aW9uW2ldICsgXCIgXCIgOiBkdXJhdGlvblswXSArIFwiIFwiO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uU3RyaW5nICs9IGVhc2luZy5sZW5ndGggPiAxID8gZWFzaW5nW2ldICsgXCIgXCIgOiAoZWFzaW5nWzBdIHx8IFwiZWFzZVwiKSArIFwiIFwiO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uU3RyaW5nICs9IGRlbGF5Lmxlbmd0aCA+IDEgPyBkZWxheVtpXSArIFwiLFwiIDogKGRlbGF5WzBdIHx8IFwiMHNcIikgKyBcIixcIjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25TdHJpbmcgPSB0cmFuc2l0aW9uU3RyaW5nLnN1YnN0cigwLCB0cmFuc2l0aW9uU3RyaW5nLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIHJ1bGVzW3RyYW5zaXRpb25QcmVmaXhdID0gdHJhbnNpdGlvblN0cmluZztcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdHlsZXMoZWxlbWVudCwgcnVsZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVLZXlmcmFtZUFuaW1hdGlvblwiLFxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBAY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24gZnVuY3Rpb25cclxuICAgICAgICAgICpcclxuICAgICAgICAgICogQHBhcmFtcyB7T2JqZWN0LCBDbGFzcywgQ1NTU3R5bGVTaGVldH1cclxuICAgICAgICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBDU1Mga2V5ZnJhbWUgYW5pbWF0aW9uLCBhbmQgb3B0aW9uYWwgYXNzb2NpYXRlZCBzdHlsZSBjbGFzcywgYW5kIGluc2VydHMgaXQvdGhlbSBpbnRvIEFuaW1hdG9yJ3Mgc3R5bGVzaGVldC4gXHJcbiAgICAgICAgICAqIEBwYXJhbXMgZGVzY3JpcHRpb24gICAgICBcclxuICAgICAgICAgICogIC0gYW5pbWF0aW9uOiB7T2JqZWN0fSBBbiBvYmplY3Qgb2YgYW5pbWF0aW9uIHByb3BlcnRpZXMuXHJcbiAgICAgICAgICAgICAgICAgLSBuYW1lIHtIVE1MRWxlbWVudCAvIE5vZGVsaXN0fSBIVE1MRWxlbWVudChzKSB0byBzZXQgdHJhbnNpdGlvbiBvbi5cclxuICAgICAgICAgICAgICAgICAtIGFuaW1hdGlvbiB7T2JqZWN0fSBFaXRoZXIgZnJvbSAvIHRvIG9yICUgYmFzZWQga2V5ZnJhbWVzIGFuZCBDU1MgcHJvcGVydGllcyAvIHZhbHVlcy5cclxuICAgICAgICAgICAgICAgICAtIGFuaW1hdGlvbkNsYXNzIFtPYmplY3RdIChPcHRpb25hbCkgQSBDU1MgY2xhc3MgdG8gdHJpZ2dlciB0aGUgYW5pbWF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAtIG5hbWUge1N0cmluZ30gVGhlIGNsYXNzbmFtZS5cclxuICAgICAgICAgICAgICAgICAgICAgLSBydWxlcyB7T2JqZWN0fSBPYmplY3Qgb2YgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAgICAtIFByZWZpeCA6IHtDbGFzc30gUHJlZml4IGNsYXNzLlxyXG4gICAgICAgICAgICAgLSBzdHlsZXNoZWV0IDoge0NTU1N0eWxlU2hlZXR9IEFuaW1hdG9yJ3Mgc3R5bGVzaGVldC5cclxuICAgICAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgICAgICovXG5cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uKGFuaW1hdGlvbiwgUHJlZml4LCBzdHlsZXNoZWV0KSB7XG5cbiAgICAgICAgICAgIHZhciBhbmltYXRpb25TdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IG5ldyBQcmVmaXgoKTtcbiAgICAgICAgICAgIHZhciBrZXlGcmFtZSA9IHByZWZpeC5nZXRQcmVmaXgoXCJrZXlmcmFtZXNcIik7XG4gICAgICAgICAgICBrZXlGcmFtZSArPSBcIiBcIiArIGFuaW1hdGlvbi5uYW1lICsgXCIge1xcblwiO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhbmltYXRpb24uYW5pbWF0aW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RyaW5nICs9IGFuaW0gKyBcIiB7XCI7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYW5pbWF0aW9uLmFuaW1hdGlvblthbmltXSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RyaW5nICs9IFwiXFxuXCIgKyBwcm9wZXJ0eSArIFwiIDogXCIgKyBhbmltYXRpb24uYW5pbWF0aW9uW2FuaW1dW3Byb3BlcnR5XSArIFwiO1wiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0cmluZyArPSBcIlxcbiB9XFxuXCI7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYW5pbWF0aW9uU3RyaW5nICs9IFwifVwiO1xuXG4gICAgICAgICAgICBzdHlsZXNoZWV0Lmluc2VydFJ1bGUoa2V5RnJhbWUgKyBhbmltYXRpb25TdHJpbmcsIHN0eWxlc2hlZXQucnVsZXMubGVuZ3RoIHx8IHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24uYW5pbWF0aW9uQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNsYXNzKGFuaW1hdGlvbi5hbmltYXRpb25DbGFzcy5uYW1lLCBzdHlsZXNoZWV0LCBhbmltYXRpb24uYW5pbWF0aW9uQ2xhc3MucnVsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiY3JlYXRlQ2xhc3NcIixcblxuICAgICAgICAvKipcclxuICAgICAgICAgICogQGNyZWF0ZUNsYXNzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAqXHJcbiAgICAgICAgICAqIEBwYXJhbXMge1N0cmluZywgQ1NTU3R5bGVTaGVldCwgT2JqZWN0IChPcHRpb25hbCl9XHJcbiAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZWZpbmVzIGEgQ1NTIGNsYXNzIGFuZCBpbnNlcnRzIGl0IGludG8gQW5pbWF0b3IncyBzdHlsZXNoZWV0LiBcclxuICAgICAgICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgICAgICAgKiAgLSBjbGFzc05hbWU6IHtTdHJpbmd9IFRoZSBuYW1lIG9mIHRoZSBjbGFzcy5cclxuICAgICAgICAgICAgIC0gc3R5bGVzaGVldCA6IHtDU1NTdHlsZVNoZWV0fSBBbmltYXRvcidzIHN0eWxlc2hlZXQuXHJcbiAgICAgICAgICAgICAtIHJ1bGVzIDogW09iamVjdF0gKE9wdGlvbmFsKSBPYmplY3Qgb2YgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAqIEBnbG9iYWwgeWVzXHJcbiAgICAgICAgICAqL1xuXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDbGFzcyhjbGFzc05hbWUsIHN0eWxlc2hlZXQpIHtcbiAgICAgICAgICAgIHZhciBydWxlcyA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gXCIuXCIgKyBjbGFzc05hbWU7XG4gICAgICAgICAgICB2YXIgY3NzU3RyaW5nID0gXCJ7IFwiO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhydWxlcykuZm9yRWFjaChmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICAgICAgICAgIGNzc1N0cmluZyArPSBydWxlICsgXCIgOiBcIiArIHJ1bGVzW3J1bGVdICsgXCI7IFwiO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNzc1N0cmluZyArPSBcIn1cIjtcbiAgICAgICAgICAgIHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShuYW1lICsgY3NzU3RyaW5nLCBzdHlsZXNoZWV0LnJ1bGVzLmxlbmd0aCB8fCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJkZWxldGVDbGFzc1wiLFxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBAZGVsZXRlQ2xhc3MgZnVuY3Rpb25cclxuICAgICAgICAgICpcclxuICAgICAgICAgICogQHBhcmFtcyB7U3RyaW5nLCBDU1NTdHlsZVNoZWV0fVxyXG4gICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhIENTUyBjbGFzcyBmcm9tIEFuaW1hdG9yJ3Mgc3R5bGVzaGVldC4gXHJcbiAgICAgICAgICAqIEBwYXJhbXMgZGVzY3JpcHRpb24gICAgICBcclxuICAgICAgICAgICogIC0gY2xhc3NOYW1lOiB7U3RyaW5nfSBUaGUgbmFtZSBvZiB0aGUgY2xhc3MgdG8gcmVtb3ZlLlxyXG4gICAgICAgICAgICAgLSBzdHlsZXNoZWV0IDoge0NTU1N0eWxlU2hlZXR9IEFuaW1hdG9yJ3Mgc3R5bGVzaGVldC5cclxuICAgICAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgICAgICovXG5cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNsYXNzKGNsYXNzTmFtZSwgc3R5bGVzaGVldCkge1xuXG4gICAgICAgICAgICB2YXIgcnVsZXMgPSBzdHlsZXNoZWV0LnJ1bGVzIHx8IHN0eWxlc2hlZXQuY3NzUnVsZXM7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IFwiLlwiICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocnVsZXMpLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocnVsZXNbcnVsZV0gaW5zdGFuY2VvZiBDU1NTdHlsZVJ1bGUgJiYgcnVsZXNbcnVsZV0uc2VsZWN0b3JUZXh0ID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuZGVsZXRlUnVsZShydWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNyZWF0ZUNTU1J1bGVcIixcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAY3JlYXRlQ1NTUnVsZSBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtcyB7U3RyaW5nIC8gQXJyYXksIFN0cmluZyAvIEFycmF5fVxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGFuIG9iamVjdCBvZiBDU1MgcHJvcGVydHkgLyB2YWx1ZXMuIFxyXG4gICAgICAgICAqIEBwYXJhbXMgZGVzY3JpcHRpb24gICAgICBcclxuICAgICAgICAgKiAgLSBwcm9wZXJ0eToge1N0cmluZyAvIEFycmF5fSBUaGUgQ1NTIHByb3BlcnR5KHMpLlxyXG4gICAgICAgICAgICAtIHZhbHVlIDoge1N0cmluZyAvIEFycmF5fSBUaGUgQ1NTIHZhbHVlcyhzKS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3Qgb2YgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgICAgKi9cblxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQ1NTUnVsZShwcm9wZXJ0eSwgdmFsdWUpIHtcblxuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBBcnJheS5pc0FycmF5KHByb3BlcnR5KSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcGVydHkpKSA6IFtwcm9wZXJ0eV07XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlKSkgOiBbdmFsdWVdO1xuICAgICAgICAgICAgdmFyIHJ1bGUgPSB7fTtcblxuICAgICAgICAgICAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJ1bGVbcHJvcF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBydWxlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENzc1V0aWxzO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDc3NVdGlscztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXHJcbiAgKiBARG9tVXRpbHMgQ2xhc3NcclxuICAqXHJcbiAgKiBAZGVzY3JpcHRpb24gUHJvdmlkZXMgRE9NIHV0aWxpdGllcyBmb3IgQW5pbWF0b3IuXHJcbiAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICovXG5cbnZhciBEb21VdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERvbVV0aWxzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEb21VdGlscyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRG9tVXRpbHMsIFt7XG4gICAga2V5OiBcInNldENsYXNzXCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAc2V0Q2xhc3MgZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge0hUTUxFbGVtZW50LCBTdHJpbmcgLyBBcnJheSwgQm9vbGVhbn1cclxuICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBvciByZW1vdmVzIGNsYXNzKGVzKSBmcm9tIGFuIGVsZW1lbnQuXHJcbiAgICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgICAqICAtIGVsZW1lbnQ6IHtIVE1MRWxlbWVudH0gVGhlIGVsZW1lbnQgdG8gYWRkIC8gcmVtb3ZlIHRoZSBjbGFzcyhlcykgdG8gLyBmcm9tLlxyXG4gICAgICAqICAtIGNsYXNzTGlzdDoge1N0cmluZyAvIEFycmF5fSBBIHNpbmdsZSBjbGFzc25hbWUgb3IgYXJyYXkgb2YgY2xhc3NuYW1lcyB0byBhZGQgLyByZW1vdmUuXHJcbiAgICAgICpcdC0gYWRkOiB7Qm9vbGVhbn0gU3BlY2lmaXlpbmcgd2hldGhlciB0byBhZGQgLyByZW1vdmUgdGhlIGNsYXNzKGVzKS5cclxuICAgICAgKiBAZ2xvYmFsIHllc1xyXG4gICAgICAqL1xuXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsYXNzKGVsZW1lbnQsIGNsYXNzTGlzdCwgYWRkKSB7XG5cbiAgICAgIHZhciBjbGFzc2VzID0gQXJyYXkuaXNBcnJheShjbGFzc0xpc3QpID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShjbGFzc0xpc3QpKSA6IFtjbGFzc0xpc3RdO1xuICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5sZW5ndGggPyBBcnJheS5mcm9tKGVsZW1lbnQpIDogW2VsZW1lbnRdO1xuICAgICAgdmFyIGFjdGlvbiA9IGFkZCA/IFwiYWRkXCIgOiBcInJlbW92ZVwiO1xuICAgICAgY2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBlbC5jbGFzc0xpc3RbYWN0aW9uXShjbHMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdXBwb3J0XCIsXG5cbiAgICAvKipcclxuICAgICAgKiBAc3VwcG9ydCBmdW5jdGlvblxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtcyB7Q2xhc3N9XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIFRlc3RzIGZvciBDU1MgdHJhbnNpdGlvbiAvIGFuaW1hdGlvbiAvIENTU09NIG1hbmlwdWxhdGlvbiBzdXBwb3J0XHJcbiAgICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgICAqICAtIFByZWZpeDoge0NsYXNzfSBQcmVmaXggY2xhc3MuXHJcbiAgICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgKi9cblxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdXBwb3J0KFByZWZpeCkge1xuXG4gICAgICB2YXIgcHJlZml4ID0gbmV3IFByZWZpeCgpO1xuICAgICAgdmFyIHRyYW5zaXRpb25TdXBwb3J0ID0gcHJlZml4LmdldFByZWZpeChcInRyYW5zaXRpb25cIik7XG4gICAgICB2YXIgYW5pbWF0aW9uU3VwcG9ydCA9IHByZWZpeC5nZXRQcmVmaXgoXCJhbmltYXRpb25cIik7XG4gICAgICB2YXIgcmFmID0gISF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgICByZXR1cm4gdHJhbnNpdGlvblN1cHBvcnQgJiYgYW5pbWF0aW9uU3VwcG9ydCAmJiByYWY7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERvbVV0aWxzO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEb21VdGlscztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcclxuICAqIEBQcmVmaXggQ2xhc3NcclxuICAqXHJcbiAgKiBAZGVzY3JpcHRpb24gSGFuZGxlcyBwcmVmaXhpbmcgZm9yIENTUyBwcm9wZXJ0aWVzIGFuZCBET00gZXZlbnRzLlxyXG4gICogQHJldHVybnMge09iamVjdH1cclxuICAqL1xuXG52YXIgUHJlZml4ID0gKGZ1bmN0aW9uICgpIHtcblxuXHRcdC8qKlxyXG4gICAgKiBAY29uc3RydWN0b3IgZnVuY3Rpb25cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBtYXAgdGhhdCBob2xkcyBub24tcHJlZml4ZWQgcHJvcGVydGllcyBhbmQgZXZlbnQgbmFtZXMgYXMga2V5cyBhbmQgYXNzb2NpYXRlZCBwcmVmaXhlcyBhcyB2YWx1ZXMgdG8gdGVzdCBhZ2FpbnN0LlxyXG4gICAgKi9cblxuXHRcdGZ1bmN0aW9uIFByZWZpeCgpIHtcblx0XHRcdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByZWZpeCk7XG5cblx0XHRcdFx0dGhpcy50ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMgPSBuZXcgTWFwKCk7XG5cblx0XHRcdFx0Ly8gVHJhbnNmb3Jtc1xuXHRcdFx0XHR0aGlzLnByZWZpeGVzLnNldChcInRyYW5zZm9ybVwiLCBbXCItd2Via2l0LXRyYW5zZm9ybVwiLCBcInRyYW5zZm9ybVwiXSk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwidHJhbnNmb3JtLW9yaWdpblwiLCBbXCItd2Via2l0LXRyYW5zZm9ybS1vcmlnaW5cIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCJdKTtcblx0XHRcdFx0dGhpcy5wcmVmaXhlcy5zZXQoXCJ0cmFuc2Zvcm0tc3R5bGVcIiwgW1wiLXdlYmtpdC10cmFuc2Zvcm0tc3R5bGVcIiwgXCJ0cmFuc2Zvcm0tc3R5bGVcIl0pO1xuXG5cdFx0XHRcdC8vIFRyYW5zaXRpb25zXG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwidHJhbnNpdGlvblwiLCBbXCItd2Via2l0LXRyYW5zaXRpb25cIiwgXCJ0cmFuc2l0aW9uXCJdKTtcblx0XHRcdFx0dGhpcy5wcmVmaXhlcy5zZXQoXCJ0cmFuc2l0aW9uLWRlbGF5XCIsIFtcIi13ZWJraXQtdHJhbnNpdGlvbi1kZWxheVwiLCBcInRyYW5zaXRpb24tZGVsYXlcIl0pO1xuXHRcdFx0XHR0aGlzLnByZWZpeGVzLnNldChcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgW1wiLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uXCIsIFwidHJhbnNpdGlvbi1kdXJhdGlvblwiXSk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiLCBbXCItd2Via2l0LXRyYW5zaXRpb24tcHJvcGVydHlcIiwgXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCJdKTtcblx0XHRcdFx0dGhpcy5wcmVmaXhlcy5zZXQoXCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiLCBbXCItd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIsIFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIl0pO1xuXG5cdFx0XHRcdC8vIEFuaW1hdGlvbnNcblx0XHRcdFx0dGhpcy5wcmVmaXhlcy5zZXQoXCJrZXlmcmFtZXNcIiwgW1wiLXdlYmtpdC1cIiwgXCItbXMtXCIsIFwiLW1vei1cIiwgXCJcIl0pO1xuXHRcdFx0XHR0aGlzLnByZWZpeGVzLnNldChcImFuaW1hdGlvblwiLCBbXCItd2Via2l0LWFuaW1hdGlvblwiLCBcIi1tcy1hbmltYXRpb25cIiwgXCItbW96LWFuaW1hdGlvblwiLCBcImFuaW1hdGlvblwiXSk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwiYW5pbWF0aW9uLW5hbWVcIiwgW1wiLXdlYmtpdC1hbmltYXRpb24tbmFtZVwiLCBcIi1tcy1hbmltYXRpb24tbmFtZVwiLCBcIi1tb3otYW5pbWF0aW9uLW5hbWVcIiwgXCJhbmltYXRpb24tbmFtZVwiXSk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFwiLCBbXCItd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIiwgXCItbXMtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFwiLCBcIi1tb3otYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFwiLCBcImFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIl0pO1xuXHRcdFx0XHR0aGlzLnByZWZpeGVzLnNldChcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIsIFtcIi13ZWJraXQtYW5pbWF0aW9uLXBsYXktc3RhdGVcIiwgXCItbXMtYW5pbWF0aW9uLXBsYXktc3RhdGVcIiwgXCItbW96LWFuaW1hdGlvbi1wbGF5LXN0YXRlXCIsIFwiYW5pbWF0aW9uLXBsYXktc3RhdGVcIl0pO1xuXHRcdFx0XHR0aGlzLnByZWZpeGVzLnNldChcImFuaW1hdGlvbi1kdXJhdGlvblwiLCBbXCItd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvblwiLCBcIi1tcy1hbmltYXRpb24tZHVyYXRpb25cIiwgXCItbW96LWFuaW1hdGlvbi1kdXJhdGlvblwiLCBcImFuaW1hdGlvbi1kdXJhdGlvblwiXSk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwiYW5pbWF0aW9uLWRlbGF5XCIsIFtcIi13ZWJraXQtYW5pbWF0aW9uLWRlbGF5XCIsIFwiLW1zLWFuaW1hdGlvbi1kZWxheVwiLCBcIi1tb3otYW5pbWF0aW9uLWRlbGF5XCIsIFwiYW5pbWF0aW9uLWRlbGF5XCJdKTtcblx0XHRcdFx0dGhpcy5wcmVmaXhlcy5zZXQoXCJhbmltYXRpb24tZGlyZWN0aW9uXCIsIFtcIi13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvblwiLCBcIi1tcy1hbmltYXRpb24tZGlyZWN0aW9uXCIsIFwiLW1vei1hbmltYXRpb24tZGlyZWN0aW9uXCIsIFwiYW5pbWF0aW9uLWRpcmVjdGlvblwiXSk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwiYW5pbWF0aW9uLWZpbGwtbW9kZVwiLCBbXCItd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGVcIiwgXCItbXMtYW5pbWF0aW9uLWZpbGwtbW9kZVwiLCBcIi1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZVwiLCBcImFuaW1hdGlvbi1maWxsLW1vZGVcIl0pO1xuXG5cdFx0XHRcdC8vIFRyYW5zaXRpb24gLyBBbmltYXRpb24gZW5kXG5cdFx0XHRcdHZhciBXZWJraXRUcmFuc2l0aW9uID0gXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCI7XG5cdFx0XHRcdHZhciB0cmFuc2l0aW9uID0gXCJ0cmFuc2l0aW9uZW5kXCI7XG5cdFx0XHRcdHZhciBXZWJraXRBbmltYXRpb24gPSBcIndlYmtpdEFuaW1hdGlvbkVuZFwiO1xuXHRcdFx0XHR2YXIgYW5pbWF0aW9uID0gXCJhbmltYXRpb25lbmRcIjtcblxuXHRcdFx0XHR2YXIgdHJhbnNpdGlvbmVuZCA9IHsgV2Via2l0VHJhbnNpdGlvbjogV2Via2l0VHJhbnNpdGlvbiwgdHJhbnNpdGlvbjogdHJhbnNpdGlvbiB9O1xuXHRcdFx0XHR2YXIgYW5pbWF0aW9uZW5kID0geyBXZWJraXRBbmltYXRpb246IFdlYmtpdEFuaW1hdGlvbiwgYW5pbWF0aW9uOiBhbmltYXRpb24gfTtcblxuXHRcdFx0XHR0aGlzLnByZWZpeGVzLnNldChcInRyYW5zaXRpb25lbmRcIiwgdHJhbnNpdGlvbmVuZCk7XG5cdFx0XHRcdHRoaXMucHJlZml4ZXMuc2V0KFwiYW5pbWF0aW9uZW5kXCIsIGFuaW1hdGlvbmVuZCk7XG5cdFx0fVxuXG5cdFx0X2NyZWF0ZUNsYXNzKFByZWZpeCwgW3tcblx0XHRcdFx0a2V5OiBcImdldFByZWZpeFwiLFxuXG5cdFx0XHRcdC8qKlxyXG4gICAgICAqIEBnZXRQcmVmaXggZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge1N0cmluZ30gVGhlIG5vbi1wcmVmaXhlZCBDU1MgcHJvcGVydHkgLyBET00gZXZlbnQgbmFtZSB0byBzZWFyY2ggdGhlIHByZWZpeCBtYXAgZm9yLlxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBIYW5kbGVzIHByZWZpeCBxdWVyaWVzIGJ5IHNlYXJjaGluZyBhbmQgdGVzdGluZyBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgaW4gdGhlIHByZWZpeCBtYXAgYWdhaW5zdCBhIEhUTUxFbGVtZW50J3MgQ1NTU3R5bGVEZWNsYXJhdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcXVlcmllZCBwcmVmaXguXHJcbiAgICAgICogQGdsb2JhbCB5ZXNcclxuICAgICAgKi9cblxuXHRcdFx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJlZml4KHByZWZpeCkge1xuXHRcdFx0XHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLnByZWZpeGVzLmhhcyhwcmVmaXgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChwcmVmaXggPT09IFwidHJhbnNpdGlvbmVuZFwiIHx8IHByZWZpeCA9PT0gXCJhbmltYXRpb25lbmRcIikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmdldFByZWZpeGVkRXZlbnROYW1lKHByZWZpeCk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHByZWZpeCA9PT0gXCJrZXlmcmFtZXNcIikge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBrZXlmcmFtZVByZWZpeCA9IHRoaXMucHJlZml4ZXMuZ2V0KHByZWZpeCkuZmlsdGVyKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfdGhpcy50ZXN0RWxlbWVudC5zdHlsZVtmICsgXCJhbmltYXRpb24tbmFtZVwiXSAhPT0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdH0pWzBdO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBcIkBcIiArIGtleWZyYW1lUHJlZml4ICsgXCJrZXlmcmFtZXNcIjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMucHJlZml4ZXMuZ2V0KHByZWZpeCkuZmlsdGVyKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfdGhpcy50ZXN0RWxlbWVudC5zdHlsZVtmXSAhPT0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdH0pWzBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0XHRrZXk6IFwiZ2V0UHJlZml4ZWRFdmVudE5hbWVcIixcblxuXHRcdFx0XHQvKipcclxuICAgICAgKiBAZ2V0UHJlZml4ZWRFdmVudE5hbWUgZnVuY3Rpb25cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbXMge1N0cmluZ30gVGhlIG5vbi1wcmVmaXhlZCBET00gZXZlbnQgbmFtZSB0byBzZWFyY2ggdGhlIHByZWZpeCBtYXAgZm9yLlxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUZXN0cyBhIEhUTUxFbGVtZW50J3MgQ1NTU3R5bGVEZWNsYXJhdGlvbiBmb3Igc3VwcG9ydGVkIERPTSBldmVudCBwcmVmaXhlcy5cclxuICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcXVlcmllZCBwcmVmaXguXHJcbiAgICAgICogQGdsb2JhbCBub1xyXG4gICAgICAqL1xuXG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcmVmaXhlZEV2ZW50TmFtZShldmVudE5hbWUpIHtcblx0XHRcdFx0XHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0XHRcdFx0XHR2YXIgZXZ0TmFtZXMgPSB0aGlzLnByZWZpeGVzLmdldChldmVudE5hbWUpO1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoZXMgPSBPYmplY3Qua2V5cyhldnROYW1lcykuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF90aGlzMi50ZXN0RWxlbWVudC5zdHlsZVtlXSAhPT0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZXZ0TmFtZXNbbWF0Y2hlc1swXV07XG5cdFx0XHRcdH1cblx0XHR9XSk7XG5cblx0XHRyZXR1cm4gUHJlZml4O1xufSkoKTtcblxuO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFByZWZpeDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxyXG4gICogQFNlcXVlbmNlV3JhcHBlciBDbGFzc1xyXG4gICpcclxuICAqIEBkZXNjcmlwdGlvbiBJbnRlcmNlcHRzIGFsbCBzZXF1ZW5jZXMgYW5kIHJldHVybnMgYSBzaW5nbGUgb3IgY29tYm8gc2VxdWVuY2UgZGVwZW5kaW5nIG9uIHdoZXRoZXIgYSBzaW5nbGUgSFRNTEVsZW1lbnQgb3IgTm9kZWxpc3QgaXMgdXNlZC5cclxuICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICovXG5cbnZhciBTZXF1ZW5jZVdyYXBwZXIgPVxuXG4vKipcclxuICAqIEBjb25zdHJ1Y3RvciBmdW5jdGlvblxyXG4gICpcclxuICAqIEBwYXJhbXMge09iamVjdCwgQ2xhc3MsIENsYXNzLCBDbGFzcywgQ2xhc3MsIENsYXNzLCBDbGFzcywgT2JqZWN0fSAgICAgXHJcbiAgKiBAZGVzY3JpcHRpb24gQSB3cmFwcGVyIHRoYXQgb3JnYW5pc2VzIGFsbCBzZXF1ZW5jZXMgYmVmb3JlIHRoZXkgYXJlIGxhdW5jaGVkLiBcclxuKiBAcGFyYW1zIGRlc2NyaXB0aW9uXHJcbi0gb3B0aW9ucyB7T2JqZWN0fSBPYmplY3Qgb2Ygc2VxdWVuY2Ugb3B0aW9ucy5cclxuLSBEb21VdGlscyB7Q2xhc3N9IERPTSB1dGlsaXRpZXMgY2xhc3MuXHJcbi0gUHJlZml4IHtDbGFzc30gUHJlZml4IGNsYXNzLlxyXG4tIENzc1V0aWxzIHtDbGFzc30gQ1NTIFV0aWxpdGllcyBjbGFzcy5cclxuLSBTZXF1ZW5jZSB7Q2xhc3N9IFRoZSBzZXF1ZW5jZSB0eXBlIChUcmFuc2l0aW9uIC8gQW5pbWF0aW9uKS5cclxuLSBDb21ibyB7Q2xhc3N9IFdyYXBwZXIgZm9yIG11bHRpcGxlIHNlcXVlbmNlcy5cclxuLSBUcmFja2VyIHtPYmplY3R9IE9iamVjdCB0byBzdG9yZSBhbmQgdHJhY2sgc2VxdWVuY2VzIHRocm91Z2guXHJcbiogQHJldHVybnMge1Byb21pc2V9XHJcbiAgKi9cblxuZnVuY3Rpb24gU2VxdWVuY2VXcmFwcGVyKG9wdGlvbnMsIERvbVV0aWxzLCBQcmVmaXgsIENzc1V0aWxzLCBTZXF1ZW5jZSwgQ29tYm8sIEF1ZGlvLCBUcmFja2VyKSB7XG5cdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXF1ZW5jZVdyYXBwZXIpO1xuXG5cdGlmIChvcHRpb25zLmVsZW1lbnQubGVuZ3RoKSB7XG5cdFx0dmFyIHRyYW5zaXRpb25zID0gQXJyYXkuZnJvbShvcHRpb25zLmVsZW1lbnQpLm1hcChmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdFx0dmFyIG9wdHMgPSB7fTtcblx0XHRcdE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRvcHRzW2tleV0gPSBvcHRpb25zW2tleV07XG5cdFx0XHR9KTtcblx0XHRcdG9wdHMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdFx0XHRUcmFja2VyLnRyYWNrKG9wdHMsIFNlcXVlbmNlKTtcblx0XHRcdHJldHVybiBuZXcgU2VxdWVuY2Uob3B0cywgRG9tVXRpbHMsIFByZWZpeCwgQ3NzVXRpbHMsIEF1ZGlvLCBUcmFja2VyKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gbmV3IENvbWJvKHRyYW5zaXRpb25zKTtcblx0fSBlbHNlIHtcblx0XHRUcmFja2VyLnRyYWNrKG9wdGlvbnMsIFNlcXVlbmNlKTtcblx0XHRyZXR1cm4gbmV3IFNlcXVlbmNlKG9wdGlvbnMsIERvbVV0aWxzLCBQcmVmaXgsIENzc1V0aWxzLCBBdWRpbywgVHJhY2tlcik7XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VxdWVuY2VXcmFwcGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcclxuICAqIEBUcmFja2VyIENsYXNzXHJcbiAgKlxyXG4gICogQGRlc2NyaXB0aW9uIFRyYWNrIGFsbCBzZXF1ZW5jZWQgZWxlbWVudHMgdG8gYWxsb3cgc2VxdWVuY2VzIHRvIGJlIHBsYXllZCAvIHBhdXNlZC5cclxuICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgKi9cblxudmFyIFRyYWNrZXIgPSAoZnVuY3Rpb24gKCkge1xuXG5cdC8qKlxyXG4gICAqIEBjb25zdHJ1Y3RvciBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQHBhcmFtcyB7Q2xhc3MsIENsYXNzLCBDbGFzcywgQ2xhc3N9ICAgIFxyXG4gICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXNlIGEgc2luZ2xlIE1hcCBvYmplY3QgdG8gc3RvcmUgc2VxdWVuY2VkIGVsZW1lbnRzLiBPbmx5IG9uZSBpbnN0YW5jZSBwZXIgQW5pbWF0b3IgaXMgY3JlYXRlZC4gIFxyXG4gKiBAcGFyYW1zIGRlc2NyaXB0aW9uXHJcbiAtIERvbVV0aWxzIHtDbGFzc30gRE9NIHV0aWxpdGllcyBjbGFzcy5cclxuIC0gUHJlZml4IHtDbGFzc30gUHJlZml4IGNsYXNzLlxyXG4gLSBDc3NVdGlscyB7Q2xhc3N9IENTUyBVdGlsaXRpZXMgY2xhc3MuXHJcbiAtIFRyYW5zaXRpb24ge0NsYXNzfSBTdG9yZSB0aGUgVHJhbnNpdGlvbiBwcm90b3lwZSB0byBjb21wYXJlIGFnYWluc3QgbmV3IHNlcXVlbmNlIHR5cGVzIHBhc3NlZCBpbiB0byB0aGUgVHJhY2tlci5cclxuICAgKi9cblxuXHRmdW5jdGlvbiBUcmFja2VyKERvbVV0aWxzLCBQcmVmaXgsIENzc1V0aWxzLCBUcmFuc2l0aW9uKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWNrZXIpO1xuXG5cdFx0dGhpcy50cmFja2VyID0gbmV3IE1hcCgpO1xuXHRcdHRoaXMudHJhY2tlci5zZXQoXCJUcmFuc2l0aW9uc1wiLCBuZXcgTWFwKCkpO1xuXHRcdHRoaXMudHJhY2tlci5zZXQoXCJBbmltYXRpb25zXCIsIG5ldyBNYXAoKSk7XG5cdFx0dGhpcy5kb21VdGlscyA9IG5ldyBEb21VdGlscygpO1xuXHRcdHRoaXMucHJlZml4ID0gbmV3IFByZWZpeCgpO1xuXHRcdHRoaXMuY3NzVXRpbHMgPSBuZXcgQ3NzVXRpbHMoKTtcblx0XHR0aGlzLnRyYW5zaXRpb25Qcm90b3R5cGUgPSBUcmFuc2l0aW9uLnByb3RvdHlwZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhUcmFja2VyLCBbe1xuXHRcdGtleTogXCJ0cmFja1wiLFxuXG5cdFx0LyoqXHJcbiAgICAqIEB0cmFjayBmdW5jdGlvblxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW1zIHtPYmplY3QsIENsYXNzfVxyXG4gICAgKiBAZGVzY3JpcHRpb24gU2VhcmNoZXMgdGhlIE1hcCBmb3IgdGhlIGVsZW1lbnQgcGFzc2VkIGluIGFuZCBlaXRoZXIgdXBkYXRlcyBpdCBpZiBmb3VuZCBvciBjcmVhdGVzIGEgbmV3IGVudHJ5IGluIHRoZSBNYXAgZm9yIGl0LlxyXG4gICAgKiBAcGFyYW1zIGRlc2NyaXB0aW9uICAgICAgXHJcbiAgICAqICAtIG9wdGlvbnM6IHtPYmplY3R9IFRoZSBzZXF1ZW5jZSBvcHRpb25zLlxyXG4gICAgICAgLSBTZXF1ZW5jZSA6IHtDbGFzc30gRWl0aGVyIGEgVHJhbnNpdGlvbiBvciBBbmltYXRpb24gY2xhc3MuXHJcbiAgICAqIEBnbG9iYWwgbm9cclxuICAgICovXG5cblx0XHR2YWx1ZTogZnVuY3Rpb24gdHJhY2sob3B0aW9ucywgU2VxdWVuY2UpIHtcblxuXHRcdFx0dmFyIHRyYW5zaXRpb24gPSB0aGlzLnRyYWNrZXIuZ2V0KFwiVHJhbnNpdGlvbnNcIikuZ2V0KG9wdGlvbnMuZWxlbWVudCk7XG5cdFx0XHR2YXIgYW5pbWF0aW9uID0gdGhpcy50cmFja2VyLmdldChcIkFuaW1hdGlvbnNcIikuZ2V0KG9wdGlvbnMuZWxlbWVudCk7XG5cblx0XHRcdGlmIChTZXF1ZW5jZS5wcm90b3R5cGUgPT09IHRoaXMudHJhbnNpdGlvblByb3RvdHlwZSkge1xuXHRcdFx0XHRpZiAoIXRyYW5zaXRpb24pIHtcblx0XHRcdFx0XHR0aGlzLnRyYWNrVHJhbnNpdGlvbihvcHRpb25zKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZVRyYW5zaXRpb25SZWNvcmQodHJhbnNpdGlvbiwgb3B0aW9ucyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gQSByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnQgd2lsbCBzdWZmaWNlIGlmIHRoZSBzZXF1ZW5jZSB0eXBlIGlzIGFuIEFuaW1hdGlvbi5cblx0XHRcdFx0Ly8gQ1NTIEFuaW1hdGlvbnMgY2FuIGJlIHBhdXNlZCBhbmQgcGxheWVkIGVhc2lseSB1bmxpa2UgdHJhbnNpdGlvbnMgd2hpY2ggYXJlIGEgYml0IHRyaWNraWVyLlxuXHRcdFx0XHRpZiAoIWFuaW1hdGlvbikge1xuXHRcdFx0XHRcdHRoaXMudHJhY2tBbmltYXRpb24ob3B0aW9ucyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidHJhY2tUcmFuc2l0aW9uXCIsXG5cblx0XHQvKipcclxuICAgICogQHRyYWNrVHJhbnNpdGlvbiBmdW5jdGlvblxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW1zIHtPYmplY3R9XHJcbiAgICAqIEBkZXNjcmlwdGlvbiBTdG9yZXMgdGhlIGVsZW1lbnQgdW5kZXIgdGhlIFRyYW5zaXRpb25zIGtleSBpbiB0aGUgVHJhY2tlciBNYXAgXHJcbiAgICAqIFx0XHRhbmQgdGhlIHRyYW5zaXRpb25lZCBwcm9wZXJ0aWVzIC8gdmFsdWVzIHNldCBhZ2FpbnN0IHRoZSBlbGVtZW50LlxyXG4gICAgKiBAcGFyYW1zIGRlc2NyaXB0aW9uICAgICAgXHJcbiAgICAqICAtIG9wdGlvbnM6IHtPYmplY3R9IFRoZSB0cmFuc2l0aW9uIHNlcXVlbmNlIG9wdGlvbnMuXHJcbiAgICAqIEBnbG9iYWwgbm9cclxuICAgICovXG5cblx0XHR2YWx1ZTogZnVuY3Rpb24gdHJhY2tUcmFuc2l0aW9uKG9wdGlvbnMpIHtcblxuXHRcdFx0dmFyIGRhdGEgPSB7fSxcblx0XHRcdCAgICB0cmFuc2l0aW9uU3R5bGVzID0ge307XG5cdFx0XHR2YXIgdHJhbnNpdGlvbnMgPSB0aGlzLnRyYWNrZXIuZ2V0KFwiVHJhbnNpdGlvbnNcIik7XG5cdFx0XHR2YXIgdHAgPSBBbmltYXRvci5nZXRQcmVmaXgoXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIpLFxuXHRcdFx0ICAgIHRkdXIgPSBBbmltYXRvci5nZXRQcmVmaXgoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIpLFxuXHRcdFx0ICAgIHR0ZiA9IEFuaW1hdG9yLmdldFByZWZpeChcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIpLFxuXHRcdFx0ICAgIHRkZWwgPSBBbmltYXRvci5nZXRQcmVmaXgoXCJ0cmFuc2l0aW9uLWRlbGF5XCIpO1xuXG5cdFx0XHR0cmFuc2l0aW9uU3R5bGVzW3RwXSA9IHRoaXMuY3NzVXRpbHMuZ2V0U3R5bGVzKG9wdGlvbnMuZWxlbWVudCwgdHApW3RwXTtcblx0XHRcdHRyYW5zaXRpb25TdHlsZXNbdGR1cl0gPSB0aGlzLmNzc1V0aWxzLmdldFN0eWxlcyhvcHRpb25zLmVsZW1lbnQsIHRkdXIpW3RkdXJdO1xuXHRcdFx0dHJhbnNpdGlvblN0eWxlc1t0dGZdID0gdGhpcy5jc3NVdGlscy5nZXRTdHlsZXMob3B0aW9ucy5lbGVtZW50LCB0dGYpW3R0Zl07XG5cdFx0XHR0cmFuc2l0aW9uU3R5bGVzW3RkZWxdID0gdGhpcy5jc3NVdGlscy5nZXRTdHlsZXMob3B0aW9ucy5lbGVtZW50LCB0ZGVsKVt0ZGVsXTtcblx0XHRcdGRhdGEudHJhbnNpdGlvblN0eWxlcyA9IHRyYW5zaXRpb25TdHlsZXM7XG5cblx0XHRcdGlmIChvcHRpb25zLnNldFN0eWxlcyAmJiBvcHRpb25zLnNldFN0eWxlcy5iZWZvcmUpIHtcblx0XHRcdFx0ZGF0YS5zdHlsZXMgPSBvcHRpb25zLnNldFN0eWxlcy5iZWZvcmU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRpb25zLmFkZENsYXNzICYmIG9wdGlvbnMuYWRkQ2xhc3MuYmVmb3JlIHx8IG9wdGlvbnMucmVtb3ZlQ2xhc3MgJiYgb3B0aW9ucy5yZW1vdmVDbGFzcy5iZWZvcmUpIHtcblx0XHRcdFx0ZGF0YS5jbGFzc1RyaWdnZXJlZCA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGRhdGEucHJvcGVydGllcyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucy5wcm9wZXJ0aWVzKSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkob3B0aW9ucy5wcm9wZXJ0aWVzKSkgOiBbb3B0aW9ucy5wcm9wZXJ0aWVzXTtcblx0XHRcdHRyYW5zaXRpb25zLnNldChvcHRpb25zLmVsZW1lbnQsIGRhdGEpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0cmFja0FuaW1hdGlvblwiLFxuXG5cdFx0LyoqXHJcbiAgICAqIEB0cmFja0FuaW1hdGlvbiBmdW5jdGlvblxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW1zIHtPYmplY3R9XHJcbiAgICAqIEBkZXNjcmlwdGlvbiBTdG9yZXMgYW4gZWxlbWVudCB1bmRlciB0aGUgQW5pbWF0aW9ucyBrZXkgaW4gdGhlIFRyYWNrZXIgTWFwLlxyXG4gICAgKiBAcGFyYW1zIGRlc2NyaXB0aW9uICAgICAgXHJcbiAgICAqICAtIG9wdGlvbnM6IHtPYmplY3R9IFRoZSBhbmltYXRpb24gc2VxdWVuY2Ugb3B0aW9ucy5cclxuICAgICogQGdsb2JhbCBub1xyXG4gICAgKi9cblxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0cmFja0FuaW1hdGlvbihvcHRpb25zKSB7XG5cblx0XHRcdHZhciBkYXRhID0ge307XG5cdFx0XHR2YXIgYW5pbWF0aW9ucyA9IHRoaXMudHJhY2tlci5nZXQoXCJBbmltYXRpb25zXCIpO1xuXHRcdFx0YW5pbWF0aW9ucy5zZXQob3B0aW9ucy5lbGVtZW50LCBkYXRhKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidXBkYXRlVHJhbnNpdGlvblJlY29yZFwiLFxuXG5cdFx0LyoqXHJcbiAgICAqIEB1cGRhdGVUcmFuc2l0aW9uUmVjb3JkIGZ1bmN0aW9uXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbXMge09iamVjdCwgT2JqZWN0fVxyXG4gICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyBhZGRpdGlvbmFsIHRyYW5zaXRpb25lZCBwcm9wZXJ0aWVzIC8gc3R5bGUgcnVsZXMgc2V0IGludG8gYW4gZWxlbWVudCdzIHJlY29yZC5cclxuICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgKiAgLSByZWNvcmQ6IHtPYmplY3R9IFRoZSB0cmFuc2l0aW9uIHJlY29yZCBmcm9tIHRoZSBUcmFja2VyIE1hcC5cclxuICAgICogIC0gb3B0aW9uczoge09iamVjdH0gVGhlIHRyYW5zaXRpb24gc2VxdWVuY2Ugb3B0aW9ucy5cclxuICAgICogQGdsb2JhbCBub1xyXG4gICAgKi9cblxuXHRcdHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uUmVjb3JkKHJlY29yZCwgb3B0aW9ucykge1xuXG5cdFx0XHR2YXIgcHJvcGVydGllcyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucy5wcm9wZXJ0aWVzKSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkob3B0aW9ucy5wcm9wZXJ0aWVzKSkgOiBbb3B0aW9ucy5wcm9wZXJ0aWVzXTtcblx0XHRcdHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcihmdW5jdGlvbiAocHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIHJlY29yZC5wcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpID09PSAtMTtcblx0XHRcdH0pO1xuXHRcdFx0cmVjb3JkLnByb3BlcnRpZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJlY29yZC5wcm9wZXJ0aWVzKSwgX3RvQ29uc3VtYWJsZUFycmF5KHByb3BlcnRpZXMpKTtcblxuXHRcdFx0aWYgKG9wdGlvbnMuc2V0U3R5bGVzICYmIG9wdGlvbnMuc2V0U3R5bGVzLmJlZm9yZSkge1xuXHRcdFx0XHRpZiAoIXJlY29yZC5zdHlsZXMpIHtcblx0XHRcdFx0XHRyZWNvcmQuc3R5bGVzID0ge307XG5cdFx0XHRcdH1cblx0XHRcdFx0T2JqZWN0LmtleXMob3B0aW9ucy5zZXRTdHlsZXMuYmVmb3JlKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuXHRcdFx0XHRcdHJlY29yZC5zdHlsZXNbcHJvcGVydHldID0gb3B0aW9ucy5zZXRTdHlsZXMuYmVmb3JlW3Byb3BlcnR5XTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInBhdXNlXCIsXG5cblx0XHQvKipcclxuICAgICogQHBhdXNlIGZ1bmN0aW9uXHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBJdGVyYXRlcyB0aHJvdWdoIGV2ZXJ5IHN0b3JlZCBlbGVtZW50IGluIHRoZSBUcmFja2VyIGFuZCBzZXRzIGl0cyBDU1MgYXBwcm9wcmlhdGVseSB0byBlZmZlY3RpdmVseSBwYXVzZSBhIHNlcXVlbmNlLlxyXG4gICAgKiBAZ2xvYmFsIG5vXHJcbiAgICAqL1xuXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0dmFyIHRyYW5zaXRpb25zID0gdGhpcy50cmFja2VyLmdldChcIlRyYW5zaXRpb25zXCIpO1xuXHRcdFx0dmFyIHRyYW5zaXRpb25FbGVtZW50cyA9IHRyYW5zaXRpb25zLmtleXMoKTtcblx0XHRcdHZhciBhbmltYXRpb25zID0gdGhpcy50cmFja2VyLmdldChcIkFuaW1hdGlvbnNcIik7XG5cdFx0XHR2YXIgYW5pbWF0aW9uRWxlbWVudHMgPSBhbmltYXRpb25zLmtleXMoKTtcblxuXHRcdFx0d2hpbGUgKHRydWUpIHtcblxuXHRcdFx0XHR2YXIgZWxlbWVudCA9IGFuaW1hdGlvbkVsZW1lbnRzLm5leHQoKSxcblx0XHRcdFx0ICAgIHJ1bGUgPSB7fTtcblx0XHRcdFx0aWYgKGVsZW1lbnQuZG9uZSkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cnVsZVt0aGlzLnByZWZpeC5nZXRQcmVmaXgoXCJhbmltYXRpb24tcGxheS1zdGF0ZVwiKV0gPSBcInBhdXNlZFwiO1xuXHRcdFx0XHR0aGlzLmNzc1V0aWxzLnNldFN0eWxlcyhlbGVtZW50LnZhbHVlLCBydWxlKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIF9sb29wID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdHZhciBlbGVtZW50ID0gdHJhbnNpdGlvbkVsZW1lbnRzLm5leHQoKSxcblx0XHRcdFx0ICAgIHJlY29yZCA9IHVuZGVmaW5lZCxcblx0XHRcdFx0ICAgIHJ1bGUgPSB7fTtcblx0XHRcdFx0aWYgKGVsZW1lbnQuZG9uZSkge1xuXHRcdFx0XHRcdHJldHVybiBcImJyZWFrXCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZWNvcmQgPSB0cmFuc2l0aW9ucy5nZXQoZWxlbWVudC52YWx1ZSk7XG5cdFx0XHRcdHJlY29yZC5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG5cdFx0XHRcdFx0dmFyIHJ1bGUgPSBfdGhpcy5jc3NVdGlscy5nZXRTdHlsZXMoZWxlbWVudC52YWx1ZSwgcHJvcGVydHkpO1xuXHRcdFx0XHRcdF90aGlzLmNzc1V0aWxzLnNldFN0eWxlcyhlbGVtZW50LnZhbHVlLCBydWxlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cnVsZSA9IHt9O1xuXHRcdFx0XHRydWxlW190aGlzLnByZWZpeC5nZXRQcmVmaXgoXCJ0cmFuc2l0aW9uXCIpXSA9IFwibm9uZVwiO1xuXHRcdFx0XHRfdGhpcy5jc3NVdGlscy5zZXRTdHlsZXMoZWxlbWVudC52YWx1ZSwgcnVsZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHR2YXIgX3JldCA9IF9sb29wKCk7XG5cblx0XHRcdFx0aWYgKF9yZXQgPT09IFwiYnJlYWtcIikgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInBsYXlcIixcblxuXHRcdC8qKlxyXG4gICAgKiBAcGxheSBmdW5jdGlvblxyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb24gSXRlcmF0ZXMgdGhyb3VnaCBldmVyeSBzdG9yZWQgZWxlbWVudCBpbiB0aGUgVHJhY2tlciBhbmQgc2V0cyBDU1Mgc3R5bGUgcnVsZXMgdG8gY29udGludWUgYSBwYXVzZWQgc2VxdWVuY2UuXHJcbiAgICAqIEBnbG9iYWwgbm9cclxuICAgICovXG5cblx0XHR2YWx1ZTogZnVuY3Rpb24gcGxheSgpIHtcblx0XHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0XHR2YXIgdHJhbnNpdGlvbnMgPSB0aGlzLnRyYWNrZXIuZ2V0KFwiVHJhbnNpdGlvbnNcIik7XG5cdFx0XHR2YXIgdHJhbnNpdGlvbkVsZW1lbnRzID0gdHJhbnNpdGlvbnMua2V5cygpO1xuXHRcdFx0dmFyIGFuaW1hdGlvbnMgPSB0aGlzLnRyYWNrZXIuZ2V0KFwiQW5pbWF0aW9uc1wiKTtcblx0XHRcdHZhciBhbmltYXRpb25FbGVtZW50cyA9IGFuaW1hdGlvbnMua2V5cygpO1xuXG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXG5cdFx0XHRcdHZhciBlbGVtZW50ID0gYW5pbWF0aW9uRWxlbWVudHMubmV4dCgpLFxuXHRcdFx0XHQgICAgcnVsZSA9IHt9O1xuXHRcdFx0XHRpZiAoZWxlbWVudC5kb25lKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRydWxlW3RoaXMucHJlZml4LmdldFByZWZpeChcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIpXSA9IFwicnVubmluZ1wiO1xuXHRcdFx0XHR0aGlzLmNzc1V0aWxzLnNldFN0eWxlcyhlbGVtZW50LnZhbHVlLCBydWxlKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIF9sb29wMiA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHR2YXIgZWxlbWVudCA9IHRyYW5zaXRpb25FbGVtZW50cy5uZXh0KCk7XG5cdFx0XHRcdGlmIChlbGVtZW50LmRvbmUpIHtcblx0XHRcdFx0XHRyZXR1cm4gXCJicmVha1wiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHJlY29yZCA9IHRyYW5zaXRpb25zLmdldChlbGVtZW50LnZhbHVlKTtcblx0XHRcdFx0X3RoaXMyLmNzc1V0aWxzLnNldFN0eWxlcyhlbGVtZW50LnZhbHVlLCByZWNvcmQudHJhbnNpdGlvblN0eWxlcyk7XG5cdFx0XHRcdGlmIChyZWNvcmQuY2xhc3NUcmlnZ2VyZWQpIHtcblx0XHRcdFx0XHRyZWNvcmQucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LnZhbHVlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3ApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHJlY29yZC5zdHlsZXMpIHtcblx0XHRcdFx0XHRfdGhpczIuY3NzVXRpbHMuc2V0U3R5bGVzKGVsZW1lbnQudmFsdWUsIHJlY29yZC5zdHlsZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHR2YXIgX3JldDIgPSBfbG9vcDIoKTtcblxuXHRcdFx0XHRpZiAoX3JldDIgPT09IFwiYnJlYWtcIikgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJlbW92ZVwiLFxuXG5cdFx0LyoqXHJcbiAgICAqIEByZW1vdmUgZnVuY3Rpb25cclxuICAgICpcclxuICAgICogQHBhcmFtcyB7U3RyaW5nLCBIVE1MRWxlbWVudH1cclxuICAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYSBzdG9yZWQgZWxlbWVudCBmcm9tIHRoZSBUcmFja2VyIG9uY2UgYSBzZXF1ZW5jZSBpcyBjb21wbGV0ZS5cclxuICAgICogQHBhcmFtcyBkZXNjcmlwdGlvbiAgICAgIFxyXG4gICAgKiAgLSB0eXBlOiB7U3RyaW5nfSBUcmFja2VyIG1hcCBrZXksIGVpdGhlciBUcmFuc2l0aW9ucyBvciBBbmltYXRpb25zLlxyXG4gICAgKiAgLSBlbGVtZW50OiB7SFRNTEVsZW1lbnR9IFRoZSBlbGVtZW50IHRvIHJlbW92ZSBmcm9tIHRoZSBUcmFja2VyLlxyXG4gICAgKiBAZ2xvYmFsIG5vXHJcbiAgICAqL1xuXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSh0eXBlLCBlbGVtZW50KSB7XG5cdFx0XHR0aGlzLnRyYWNrZXIuZ2V0KHR5cGUpW1wiZGVsZXRlXCJdKGVsZW1lbnQpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBUcmFja2VyO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUcmFja2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcclxuICAqIEBUcmFuc2l0aW9uIENsYXNzXHJcbiAgKlxyXG4gICogQGRlc2NyaXB0aW9uIFByb21pc2UgYmFzZWQgdHJhbnNpdGlvbiBoYW5kbGVyIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgdHJhbnNpdGlvbnMgb24gYW4gZWxlbWVudCBhcmUgY29tcGxldGUuXHJcbiAgKiBAcmV0dXJucyB7UmVzb2x2ZWQgUHJvbWlzZX1cclxuICAqL1xuXG52YXIgVHJhbnNpdGlvbiA9IChmdW5jdGlvbiAoKSB7XG5cblx0LyoqXHJcbiAgICogQGNvbnN0cnVjdG9yIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW1zIHtPYmplY3QsIENsYXNzLCBDbGFzcywgQ2xhc3MsIENsYXNzLCBPYmplY3R9ICBcclxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIG5ldyB0cmFuc2l0aW9uIHNlcXVlbmNlLiAgICBcclxuICogQHBhcmFtcyBkZXNjcmlwdGlvblxyXG4gLSBvcHRpb25zIHtPYmplY3R9IFRyYW5zaXRpb24gb3B0aW9ucy5cclxuIFx0LSBlbGVtZW50IHtIVE1MRWxlbWVudH0gVGhlIGVsZW1lbnQgdG8gc2V0IHRoZSB0cmFuc2l0aW9uIG9uLlxyXG4gXHQtIHByb3BlcnRpZXMge1N0cmluZyAvIEFycmF5fSBBIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzIG9mIENTUyBwcm9wZXJ0aWVzIHRoYXQgYXJlIGJlaW5nIHRyYW5zaXRpb25lZC5cclxuIFx0LSBzZXRTdHlsZXMge09iamVjdH0gU3R5bGVzIHRvIGJlIHNldCBiZWZvcmUgLyBhZnRlciB0aGUgdHJhbnNpdGlvbi5cclxuIFx0XHQtIGJlZm9yZSB7T2JqZWN0fSBPYmplY3Qgb2YgQ1NTIHByb3BlcnR5IC8gdmFsdWUgcGFpcnMgdG8gYmUgc2V0IGJlZm9yZSB0aGUgdHJhbnNpdGlvbi5cclxuIFx0XHQtIGFmdGVyIHtPYmplY3R9IE9iamVjdCBvZiBDU1MgcHJvcGVydHkgLyB2YWx1ZSBwYWlycyB0byBiZSBzZXQgYWZ0ZXIgdGhlIHRyYW5zaXRpb24uXHJcbiBcdC0gYWRkQ2xhc3Mge09iamVjdH0gT2JqZWN0IG9mIGNsYXNzbmFtZXMgdG8gYmUgc2V0IGJlZm9yZSAvIGFmdGVyIHRoZSB0cmFuc2l0aW9uLlxyXG4gXHRcdC0gYmVmb3JlIHtTdHJpbmd9IENsYXNzbmFtZSB0byBzZXQgYmVmb3JlIHRoZSB0cmFuc2l0aW9uLlxyXG4gXHRcdC0gYWZ0ZXIge1N0cmluZ30gQ2xhc3NuYW1lIHRvIHNldCBhZnRlciB0aGUgdHJhbnNpdGlvbi5cclxuIFx0LSByZW1vdmVDbGFzcyB7T2JqZWN0fSBPYmplY3Qgb2YgY2xhc3NuYW1lcyB0byBiZSByZW1vdmVkIGJlZm9yZSAvIGFmdGVyIHRoZSB0cmFuc2l0aW9uLlxyXG4gXHRcdC0gYmVmb3JlIHtTdHJpbmd9IENsYXNzbmFtZSB0byBiZSByZW1vdmVkIGJlZm9yZSB0aGUgdHJhbnNpdGlvbi5cclxuIFx0XHQtIGFmdGVyIHtTdHJpbmd9IENsYXNzbmFtZSB0byBiZSByZW1vdmVkIGFmdGVyIHRoZSB0cmFuc2l0aW9uLlxyXG4gLSBEb21VdGlscyB7Q2xhc3N9IERvbSB1dGlsaXR5IGNsYXNzLlxyXG4gLSBQcmVmaXgge0NsYXNzfSBQcmVmaXggY2xhc3MuXHJcbiAtIENzc1V0aWxzIHtDbGFzc30gQ1NTIFV0aWxpdGllcyBjbGFzcy5cclxuIC0gVHJhY2tlciB7T2JqZWN0fSBPYmplY3QgdGhhdCB0cmFja3MgYW5kIG1vbml0b3JzIHNlcXVlbmNlcy5cclxuICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXG5cblx0ZnVuY3Rpb24gVHJhbnNpdGlvbihvcHRpb25zLCBEb21VdGlscywgUHJlZml4LCBDc3NVdGlscywgQXVkaW8sIFRyYWNrZXIpIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zaXRpb24pO1xuXG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLmRvbVV0aWxzID0gT2JqZWN0LmNyZWF0ZShEb21VdGlscy5wcm90b3R5cGUpO1xuXHRcdHRoaXMucHJlZml4ID0gbmV3IFByZWZpeCgpLmdldFByZWZpeChcInRyYW5zaXRpb25lbmRcIik7XG5cdFx0dGhpcy5jc3NVdGlscyA9IG5ldyBDc3NVdGlscygpO1xuXHRcdHRoaXMub25UcmFuc2l0aW9uRW5kID0gdGhpcy50cmFuc2l0aW9uRW5kLmJpbmQodGhpcyk7XG5cdFx0dGhpcy50b3RhbHRyYW5zaXRpb25zID0gQXJyYXkuaXNBcnJheShvcHRpb25zLnByb3BlcnRpZXMpID8gb3B0aW9ucy5wcm9wZXJ0aWVzLmxlbmd0aCA6IDE7XG5cdFx0dGhpcy50cmFuc2l0aW9uZW5kQ291bnQgPSAwO1xuXHRcdHRoaXMuYXVkaW8gPSBBdWRpbztcblx0XHR0aGlzLnRyYWNrZXIgPSBUcmFja2VyO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdF90aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuXHRcdFx0X3RoaXMucmVqZWN0ID0gcmVqZWN0O1xuXHRcdFx0X3RoaXMuYW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudHJhbnNpdGlvblN0YXJ0LmJpbmQoX3RoaXMpKTtcblx0XHR9KTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhUcmFuc2l0aW9uLCBbe1xuXHRcdGtleTogXCJ0cmFuc2l0aW9uU3RhcnRcIixcblxuXHRcdC8qKlxyXG4gICAgKiBAdHJhbnNpdGlvblN0YXJ0IGZ1bmN0aW9uXHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGNsYXNzbmFtZXMgLyBzdHlsZSBydWxlcyB0byB0cmlnZ2VyIHRoZSB0cmFuc2l0aW9uLlxyXG4gICAgKiBAZ2xvYmFsIG5vXHJcbiAgICAqL1xuXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRyYW5zaXRpb25TdGFydCgpIHtcblxuXHRcdFx0dmFyIG9wdHMgPSB0aGlzLm9wdGlvbnM7XG5cdFx0XHRvcHRzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnByZWZpeCwgdGhpcy5vblRyYW5zaXRpb25FbmQsIGZhbHNlKTtcblxuXHRcdFx0aWYgKG9wdHMuYXVkaW8pIHtcblx0XHRcdFx0dGhpcy5hdWRpb1RpbWVyID0gbmV3IHRoaXMuYXVkaW8ob3B0cy5hdWRpbyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRzLnNldFN0eWxlcyAmJiBvcHRzLnNldFN0eWxlcy5iZWZvcmUpIHtcblx0XHRcdFx0dGhpcy5jc3NVdGlscy5zZXRTdHlsZXMob3B0cy5lbGVtZW50LCBvcHRzLnNldFN0eWxlcy5iZWZvcmUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0cy5yZW1vdmVDbGFzcyAmJiBvcHRzLnJlbW92ZUNsYXNzLmJlZm9yZSkge1xuXHRcdFx0XHR0aGlzLmRvbVV0aWxzLnNldENsYXNzKG9wdHMuZWxlbWVudCwgb3B0cy5yZW1vdmVDbGFzcy5iZWZvcmUsIGZhbHNlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdHMuYWRkQ2xhc3MgJiYgb3B0cy5hZGRDbGFzcy5iZWZvcmUpIHtcblx0XHRcdFx0dGhpcy5kb21VdGlscy5zZXRDbGFzcyhvcHRzLmVsZW1lbnQsIG9wdHMuYWRkQ2xhc3MuYmVmb3JlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidHJhbnNpdGlvbkVuZFwiLFxuXG5cdFx0LyoqXHJcbiAgICAqIEB0cmFuc2l0aW9uRW5kIGZ1bmN0aW9uXHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGNsYXNzbmFtZXMgLyBzdHlsZSBydWxlcyBhZnRlciBhbGwgdHJhbnNpdGlvbnMgaGF2ZSBvY2N1cnJlZCBhbmQgcmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSB0cmFja2VyLlxyXG4gICAgKiBAZ2xvYmFsIG5vXHJcbiAgICAqIEByZXR1cm5zIHtSZXNvbHZlZCBQcm9taXNlfVxyXG4gICAgKi9cblxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGV2dCkge1xuXG5cdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdHZhciBvcHRzID0gdGhpcy5vcHRpb25zO1xuXHRcdFx0dGhpcy50cmFuc2l0aW9uZW5kQ291bnQrKztcblxuXHRcdFx0aWYgKHRoaXMudHJhbnNpdGlvbmVuZENvdW50ID09PSB0aGlzLnRvdGFsdHJhbnNpdGlvbnMpIHtcblxuXHRcdFx0XHRpZiAob3B0cy5hdWRpbykge1xuXHRcdFx0XHRcdHRoaXMuYXVkaW9UaW1lci5jYW5jZWwoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9wdHMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMucHJlZml4LCB0aGlzLm9uVHJhbnNpdGlvbkVuZCwgZmFsc2UpO1xuXHRcdFx0XHRjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lKTtcblxuXHRcdFx0XHRpZiAob3B0cy5zZXRTdHlsZXMgJiYgb3B0cy5zZXRTdHlsZXMuYWZ0ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmNzc1V0aWxzLnNldFN0eWxlcyhvcHRzLmVsZW1lbnQsIG9wdHMuc2V0U3R5bGVzLmFmdGVyKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChvcHRzLnJlbW92ZUNsYXNzICYmIG9wdHMucmVtb3ZlQ2xhc3MuYWZ0ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmRvbVV0aWxzLnNldENsYXNzKG9wdHMuZWxlbWVudCwgb3B0cy5yZW1vdmVDbGFzcy5hZnRlciwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG9wdHMuYWRkQ2xhc3MgJiYgb3B0cy5hZGRDbGFzcy5hZnRlcikge1xuXHRcdFx0XHRcdHRoaXMuZG9tVXRpbHMuc2V0Q2xhc3Mob3B0cy5lbGVtZW50LCBvcHRzLmFkZENsYXNzLmFmdGVyLCB0cnVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMudHJhY2tlci5yZW1vdmUoXCJUcmFuc2l0aW9uc1wiLCBvcHRzLmVsZW1lbnQpO1xuXHRcdFx0XHR0aGlzLnJlc29sdmUob3B0cy5lbGVtZW50KTtcblx0XHRcdH1cblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gVHJhbnNpdGlvbjtcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHJhbnNpdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il19
})()