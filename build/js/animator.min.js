Array.from||!function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(n){}return r||function(e,t,r){e[t]=r.value}}(),t=Object.prototype.toString,r=function(e){return"function"==typeof e||"[object Function]"==t.call(e)},n=function(e){var t=Number(e);return isNaN(t)?0:0!=t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},i=Math.pow(2,53)-1,o=function(e){var t=n(e);return Math.min(Math.max(t,0),i)},a=function(t){var n=this;if(null==t)throw new TypeError("`Array.from` requires an array-like object, not `null` or `undefined`");var i,a,s=Object(t);if(arguments.length>1,arguments.length>1){if(i=arguments[1],!r(i))throw new TypeError("When provided, the second argument to `Array.from` must be a function");arguments.length>2&&(a=arguments[2])}for(var u,c,l=o(s.length),f=r(n)?Object(new n(l)):new Array(l),p=0;l>p;)u=s[p],c=i?"undefined"==typeof a?i(u,p):i.call(a,u,p):u,e(f,p,{value:c,configurable:!0,enumerable:!0}),++p;return f.length=l,f};e(Array,"from",{value:a,configurable:!0,writable:!0})}(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){"use strict";var e,t=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),n=function(e){return function(){return!t(e,this,arguments)}},i=function(e){try{return e(),!1}catch(t){return!0}},o=function(e){try{return e()}catch(t){return!1}},a=n(i),s=function(){return!i(function(){Object.defineProperty({},"x",{})})},u=!!Object.defineProperty&&s(),c=Function.call.bind(Array.prototype.forEach),l=Function.call.bind(Array.prototype.reduce),f=(Function.call.bind(Array.prototype.filter),Function.call.bind(Array.prototype.every),function(e,t,r,n){!n&&t in e||(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r}):e[t]=r)}),p=function(e,t){c(Object.keys(t),function(r){var n=t[r];f(e,r,n,!1)})},y=Object.create||function(e,t){var r=function(){};r.prototype=e;var n=new r;return"undefined"!=typeof t&&Object.keys(t).forEach(function(e){U.defineByDescriptor(n,e,t[e])}),n},h=function(e,t){return Object.setPrototypeOf?o(function(){var r=function n(t){var r=new e(t);return Object.setPrototypeOf(r,n.prototype),r};return Object.setPrototypeOf(r,e),r.prototype=y(e.prototype,{constructor:{value:r}}),t(r)}):!1},d=function(){return String.prototype.startsWith&&i(function(){"/a/".startsWith(/a/)})},v=function(){return String.prototype.startsWith&&"abc".startsWith("a",1/0)===!1}(),m=new Function("return this;"),b=m(),g=b.isFinite,w=(function(){return null===this}.call(null),d()&&v,Function.call.bind(String.prototype.indexOf),Function.call.bind(Object.prototype.toString)),S=(Function.call.bind(Array.prototype.concat),Function.call.bind(String.prototype.slice)),k=Function.call.bind(Array.prototype.push),j=(Function.apply.bind(Array.prototype.push),Function.call.bind(Array.prototype.shift)),T=(Math.max,Math.min,Math.floor),x=Math.abs,E=(Math.log,Math.sqrt,Function.call.bind(Object.prototype.hasOwnProperty)),C=function(){},O=b.Symbol||{},A=O.species||"@@species",P=function(){return this},M=function(e){u&&!E(e,A)&&U.getter(e,A,P)},_={object:function(e){return null!==e&&"object"==typeof e},string:function(e){return"[object String]"===w(e)},regex:function(e){return"[object RegExp]"===w(e)},symbol:function(e){return"function"==typeof b.Symbol&&"symbol"==typeof e}},I=Number.isNaN||function(e){return e!==e},F=Number.isFinite||function(e){return"number"==typeof e&&g(e)},U={getter:function(e,t,r){if(!u)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:r})},proxy:function(e,t,r){if(!u)throw new TypeError("getters require true ES5 support");var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return e[t]},set:function(r){e[t]=r}})},redefine:function(e,t,r){if(u){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r,Object.defineProperty(e,t,n)}else e[t]=r},defineByDescriptor:function(e,t,r){u?Object.defineProperty(e,t,r):"value"in r&&(e[t]=r.value)},preserveToString:function(e,t){f(e,"toString",t.toString.bind(t),!0)}},R=function(e,t,r){var n=e[t];f(e,t,r,!0),U.preserveToString(e[t],n)},q=_.symbol(O.iterator)?O.iterator:"_es6-shim iterator_";b.Set&&"function"==typeof(new b.Set)["@@iterator"]&&(q="@@iterator");var z=function(e,t){var r=t||function(){return this},n={};n[q]=r,p(e,n),!e[q]&&_.symbol(q)&&(e[q]=r)},N=function(e){var t=w(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===w(e.callee)),r},D={Call:function(e,r){var n=arguments.length>2?arguments[2]:[];if(!D.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,r,n)},RequireObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e)},TypeIsObject:function(e){return null!=e&&Object(e)===e},ToObject:function(e,t){return D.RequireObjectCoercible(e,t),Object(e)},IsCallable:function(e){return"function"==typeof e&&"[object Function]"===w(e)},IsConstructor:function(e){return D.IsCallable(e)},ToInt32:function(e){return D.ToNumber(e)>>0},ToUint32:function(e){return D.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===w(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=D.ToNumber(e);return I(t)?0:0!==t&&F(t)?(t>0?1:-1)*T(x(t)):t},ToLength:function(e){var t=D.ToInteger(e);return 0>=t?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0===e?1/e===1/t:!0:I(e)&&I(t)},SameValueZero:function(e,t){return e===t||I(e)&&I(t)},IsIterable:function(e){return D.TypeIsObject(e)&&("undefined"!=typeof e[q]||N(e))},GetIterator:function(t){if(N(t))return new e(t,"value");var n=D.GetMethod(t,q);if(!D.IsCallable(n))throw new TypeError("value is not an iterable");var i=r(n,t);if(!D.TypeIsObject(i))throw new TypeError("bad iterator");return i},GetMethod:function(e,t){var r=D.ToObject(e)[t];if(void 0===r||null===r)return void 0;if(!D.IsCallable(r))throw new TypeError("Method not callable: "+t);return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=D.GetMethod(e,"return");if(void 0!==n){var i,o;try{i=r(n,e)}catch(a){o=a}if(!t){if(o)throw o;if(!D.TypeIsObject(i))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!D.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=D.IteratorNext(e),r=D.IteratorComplete(t);return r?!1:t},Construct:function(e,t,r,n){if(void 0===r&&(r=e),!n)return Reflect.construct(e,t,r);var i=r.prototype;D.TypeIsObject(i)||(i=Object.prototype);var o=y(i),a=D.Call(e,o,t);return D.TypeIsObject(a)?a:o},SpeciesConstructor:function(e,t){var r=e.constructor;if(void 0===r)return t;if(!D.TypeIsObject(r))throw new TypeError("Bad constructor");var n=r[A];if(void 0===n||null===n)return t;if(!D.IsConstructor(n))throw new TypeError("Bad @@species");return n},CreateHTML:function(e,t,r,n){var i=String(e),o="<"+t;if(""!==r){var a=String(n),s=a.replace(/"/g,"&quot;");o+=" "+r+'="'+s+'"'}var u=o+">",c=u+i;return c+"</"+t+">"}},B=function(e,t,r,n){if(!D.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var i=t.prototype;D.TypeIsObject(i)||(i=r),e=y(i);for(var o in n)if(E(n,o)){var a=n[o];f(e,o,a,!0)}return e},G=function(){D.IsPromise=function(e){return D.TypeIsObject(e)?"undefined"==typeof e._promise?!1:!0:!1};var e,t=function(e){if(!D.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this,r=function(e,r){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=r};if(t.promise=new e(r),!D.IsCallable(t.resolve)||!D.IsCallable(t.reject))throw new TypeError("Bad promise constructor")},n=b.setTimeout;"undefined"!=typeof window&&D.IsCallable(window.postMessage)&&(e=function(){var e=[],t="zero-timeout-message",r=function(r){k(e,r),window.postMessage(t,"*")},n=function(r){if(r.source===window&&r.data===t){if(r.stopPropagation(),0===e.length)return;var n=j(e);n()}};return window.addEventListener("message",n,!0),r});var i=function(){var e=b.Promise;return e&&e.resolve&&function(t){return e.resolve().then(t)}},o=D.IsCallable(b.setImmediate)?b.setImmediate.bind(b):"object"==typeof process&&process.nextTick?process.nextTick:i()||(D.IsCallable(e)?e():function(e){n(e,0)}),a=1,s=2,u=3,l=4,f=5,y=function(e,t){var r,n,i=e.capabilities,o=e.handler,u=!1;if(o===a)r=t;else if(o===s)r=t,u=!0;else try{r=o(t)}catch(c){r=c,u=!0}(n=u?i.reject:i.resolve)(r)},h=function(e,t){c(e,function(e){o(function(){y(e,t)})})},d=function(e,t){var r=e._promise,n=r.fulfillReactions;r.result=t,r.fulfillReactions=void 0,r.rejectReactions=void 0,r.state=l,h(n,t)},v=function(e,t){var r=e._promise,n=r.rejectReactions;r.result=t,r.fulfillReactions=void 0,r.rejectReactions=void 0,r.state=f,h(n,t)},m=function(e){var t=!1,r=function(r){var n;if(!t){if(t=!0,r===e)return v(e,new TypeError("Self resolution"));if(!D.TypeIsObject(r))return d(e,r);try{n=r.then}catch(i){return v(e,i)}return D.IsCallable(n)?void o(function(){g(e,r,n)}):d(e,r)}},n=function(r){return t?void 0:(t=!0,v(e,r))};return{resolve:r,reject:n}},g=function(e,t,n){var i=m(e),o=i.resolve,a=i.reject;try{r(n,t,o,a)}catch(s){a(s)}},w=function(e){if(!D.TypeIsObject(e))throw new TypeError("Promise is not object");var t=e[A];return void 0!==t&&null!==t?t:e},S=function O(e){if(!(this instanceof O))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!D.IsCallable(e))throw new TypeError("not a valid resolver");var t=B(this,O,T,{_promise:{result:void 0,state:u,fulfillReactions:[],rejectReactions:[]}}),r=m(t),n=r.reject;try{e(r.resolve,n)}catch(i){n(i)}return t},T=S.prototype,x=function(e,t,r,n){var i=!1;return function(o){if(!i&&(i=!0,t[e]=o,0===--n.count)){var a=r.resolve;a(t)}}},E=function(e,t,r){for(var n,i,o=e.iterator,a=[],s={count:1},u=0;;u++){try{if(n=D.IteratorStep(o),n===!1){e.done=!0;break}i=n.value}catch(c){throw e.done=!0,c}a[u]=void 0;var l=t.resolve(i),f=x(u,a,r,s);s.count++,l.then(f,r.reject)}if(0===--s.count){var p=r.resolve;p(a)}return r.promise},C=function(e,t,r){for(var n,i,o,a=e.iterator;;){try{if(n=D.IteratorStep(a),n===!1){e.done=!0;break}i=n.value}catch(s){throw e.done=!0,s}o=t.resolve(i),o.then(r.resolve,r.reject)}return r.promise};return p(S,{all:function(e){var r,n,i=w(this),o=new t(i);try{return r=D.GetIterator(e),n={iterator:r,done:!1},E(n,i,o)}catch(a){if(n&&!n.done)try{D.IteratorClose(r,!0)}catch(s){a=s}var u=o.reject;return u(a),o.promise}},race:function(e){var r,n,i=w(this),o=new t(i);try{return r=D.GetIterator(e),n={iterator:r,done:!1},C(n,i,o)}catch(a){if(n&&!n.done)try{D.IteratorClose(r,!0)}catch(s){a=s}var u=o.reject;return u(a),o.promise}},reject:function(e){var r=this,n=new t(r),i=n.reject;return i(e),n.promise},resolve:function(e){var r=this;if(D.IsPromise(e)){var n=e.constructor;if(n===r)return e}var i=new t(r),o=i.resolve;return o(e),i.promise}}),p(T,{"catch":function(e){return this.then(void 0,e)},then:function(e,r){var n=this;if(!D.IsPromise(n))throw new TypeError("not a promise");var i=D.SpeciesConstructor(n,S),c=new t(i);D.IsCallable(e)||(e=a),D.IsCallable(r)||(r=s);var p,h={capabilities:c,handler:e},d={capabilities:c,handler:r},v=n._promise;switch(v.state){case u:k(v.fulfillReactions,h),k(v.rejectReactions,d);break;case l:p=v.result,o(function(){y(h,p)});break;case f:p=v.result,o(function(){y(d,p)});break;default:throw new TypeError("unexpected")}return c.promise}}),S}();b.Promise&&(delete b.Promise.accept,delete b.Promise.defer,delete b.Promise.prototype.chain),p(b,{Promise:G});var L=h(b.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),W=!i(function(){b.Promise.reject(42).then(null,5).then(null,C)}),V=i(function(){b.Promise.call(3,C)}),Z=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);return t===r}(b.Promise);L&&W&&V&&!Z||(Promise=G,R(b,"Promise",G)),M(Promise);var K=function(e){var t=Object.keys(l(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},X=K(["z","a","bb"]),$=K(["z",1,"a","3",2]);if(u){var H=function(e){if(!X)return null;var t=typeof e;return"undefined"===t||null===e?"^"+String(e):"string"===t?"$"+e:"number"===t?$?e:"n"+e:"boolean"===t?"b"+e:null},J=function(){return Object.create?Object.create(null):{}},Q=function(e,t,n){if(Array.isArray(n)||_.string(n))c(n,function(e){t.set(e[0],e[1])});else if(n instanceof e)r(e.prototype.forEach,n,function(e,r){t.set(r,e)});else{var i,o;if(null!==n&&"undefined"!=typeof n){if(o=t.set,!D.IsCallable(o))throw new TypeError("bad map");i=D.GetIterator(n)}if("undefined"!=typeof i)for(;;){var a=D.IteratorStep(i);if(a===!1)break;var s=a.value;try{if(!D.TypeIsObject(s))throw new TypeError("expected iterable of pairs");r(o,t,s[0],s[1])}catch(u){throw D.IteratorClose(i,!0),u}}}},Y=function(e,t,n){if(Array.isArray(n)||_.string(n))c(n,function(e){t.add(e)});else if(n instanceof e)r(e.prototype.forEach,n,function(e){t.add(e)});else{var i,o;if(null!==n&&"undefined"!=typeof n){if(o=t.add,!D.IsCallable(o))throw new TypeError("bad set");i=D.GetIterator(n)}if("undefined"!=typeof i)for(;;){var a=D.IteratorStep(i);if(a===!1)break;var s=a.value;try{r(o,t,s)}catch(u){throw D.IteratorClose(i,!0),u}}}},ee={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var n=function(e){return!!e._es6map},i=function(e,t){if(!D.TypeIsObject(e)||!n(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+String(e))},o=function(e,t){i(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};o.prototype={next:function(){var e,t=this.i,r=this.kind,n=this.head;if("undefined"==typeof this.i)return{value:void 0,done:!0};for(;t.isRemoved()&&t!==n;)t=t.prev;for(;t.next!==n;)if(t=t.next,!t.isRemoved())return e="key"===r?t.key:"value"===r?t.value:[t.key,t.value],this.i=t,{value:e,done:!1};return this.i=void 0,{value:void 0,done:!0}}},z(o.prototype);var a=function u(){if(!(this instanceof u))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var e=B(this,u,s,{_es6map:!0,_head:null,_storage:J(),_size:0}),r=new t(null,null);return r.next=r.prev=r,e._head=r,arguments.length>0&&Q(u,e,arguments[0]),e},s=a.prototype;return U.getter(s,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),p(s,{get:function(e){i(this,"get");var t=H(e);if(null!==t){var r=this._storage[t];return r?r.value:void 0}for(var n=this._head,o=n;(o=o.next)!==n;)if(D.SameValueZero(o.key,e))return o.value},has:function(e){i(this,"has");var t=H(e);if(null!==t)return"undefined"!=typeof this._storage[t];for(var r=this._head,n=r;(n=n.next)!==r;)if(D.SameValueZero(n.key,e))return!0;return!1},set:function(e,r){i(this,"set");var n,o=this._head,a=o,s=H(e);if(null!==s){if("undefined"!=typeof this._storage[s])return this._storage[s].value=r,this;n=this._storage[s]=new t(e,r),a=o.prev}for(;(a=a.next)!==o;)if(D.SameValueZero(a.key,e))return a.value=r,this;return n=n||new t(e,r),D.SameValue(-0,e)&&(n.key=0),n.next=this._head,n.prev=this._head.prev,n.prev.next=n,n.next.prev=n,this._size+=1,this},"delete":function(t){i(this,"delete");var r=this._head,n=r,o=H(t);if(null!==o){if("undefined"==typeof this._storage[o])return!1;n=this._storage[o].prev,delete this._storage[o]}for(;(n=n.next)!==r;)if(D.SameValueZero(n.key,t))return n.key=n.value=e,n.prev.next=n.next,n.next.prev=n.prev,this._size-=1,!0;return!1},clear:function(){i(this,"clear"),this._size=0,this._storage=J();for(var t=this._head,r=t,n=r.next;(r=n)!==t;)r.key=r.value=e,n=r.next,r.next=r.prev=t;t.next=t.prev=t},keys:function(){return i(this,"keys"),new o(this,"key")},values:function(){return i(this,"values"),new o(this,"value")},entries:function(){return i(this,"entries"),new o(this,"key+value")},forEach:function(e){i(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,n=this.entries(),o=n.next();!o.done;o=n.next())t?r(e,t,o.value[1],o.value[0],this):e(o.value[1],o.value[0],this)}}),z(s,s.entries),a}(),Set:function(){var e=function(e){return e._es6set&&"undefined"!=typeof e._storage},t=function(t,r){if(!D.TypeIsObject(t)||!e(t))throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+String(t))},n=function a(){if(!(this instanceof a))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var e=B(this,a,i,{_es6set:!0,"[[SetData]]":null,_storage:J()});if(!e._es6set)throw new TypeError("bad set");return arguments.length>0&&Y(a,e,arguments[0]),e},i=n.prototype,o=function(e){if(!e["[[SetData]]"]){var t=e["[[SetData]]"]=new ee.Map;c(Object.keys(e._storage),function(e){if("^null"===e)e=null;else if("^undefined"===e)e=void 0;else{var r=e.charAt(0);e="$"===r?S(e,1):"n"===r?+S(e,1):"b"===r?"btrue"===e:+e}t.set(e,e)}),e._storage=null}};return U.getter(n.prototype,"size",function(){return t(this,"size"),o(this),this["[[SetData]]"].size}),p(n.prototype,{has:function(e){t(this,"has");var r;return this._storage&&null!==(r=H(e))?!!this._storage[r]:(o(this),this["[[SetData]]"].has(e))},add:function(e){t(this,"add");var r;return this._storage&&null!==(r=H(e))?(this._storage[r]=!0,this):(o(this),this["[[SetData]]"].set(e,e),this)},"delete":function(e){t(this,"delete");var r;if(this._storage&&null!==(r=H(e))){var n=E(this._storage,r);return delete this._storage[r]&&n}return o(this),this["[[SetData]]"]["delete"](e)},clear:function(){t(this,"clear"),this._storage?this._storage=J():this["[[SetData]]"].clear()},values:function(){return t(this,"values"),o(this),this["[[SetData]]"].values()},entries:function(){return t(this,"entries"),o(this),this["[[SetData]]"].entries()},forEach:function(e){t(this,"forEach");var n=arguments.length>1?arguments[1]:null,i=this;o(i),this["[[SetData]]"].forEach(function(t,o){n?r(e,n,o,o,i):e(o,o,i)})}}),f(n.prototype,"keys",n.prototype.values,!0),z(n.prototype,n.prototype.values),n}()};if(p(b,ee),b.Map||b.Set){var te=o(function(){return 2===new Map([[1,2]]).get(1)});if(!te){var re=b.Map;b.Map=function Te(){if(!(this instanceof Te))throw new TypeError('Constructor Map requires "new"');var e=new re;return arguments.length>0&&Q(Te,e,arguments[0]),Object.setPrototypeOf(e,b.Map.prototype),f(e,"constructor",Te,!0),e},b.Map.prototype=y(re.prototype),U.preserveToString(b.Map,re)}var ne=new Map,ie=function(e){return e["delete"](0),e["delete"](-0),e.set(0,3),e.get(-0,4),3===e.get(0)&&4===e.get(-0)}(ne),oe=ne.set(1,2)===ne;if(!ie||!oe){var ae=Map.prototype.set;R(Map.prototype,"set",function(e,t){return r(ae,this,0===e?0:e,t),this})}if(!ie){var se=Map.prototype.get,ue=Map.prototype.has;p(Map.prototype,{get:function(e){return r(se,this,0===e?0:e)},has:function(e){return r(ue,this,0===e?0:e)}},!0),U.preserveToString(Map.prototype.get,se),U.preserveToString(Map.prototype.has,ue)}var ce=new Set,le=function(e){return e["delete"](0),e.add(-0),!e.has(0)}(ce),fe=ce.add(1)===ce;if(!le||!fe){var pe=Set.prototype.add;Set.prototype.add=function(e){return r(pe,this,0===e?0:e),this},U.preserveToString(Set.prototype.add,pe)}if(!le){var ye=Set.prototype.has;Set.prototype.has=function(e){return r(ye,this,0===e?0:e)},U.preserveToString(Set.prototype.has,ye);var he=Set.prototype["delete"];Set.prototype["delete"]=function(e){return r(he,this,0===e?0:e)},U.preserveToString(Set.prototype["delete"],he)}var de=h(b.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),ve=Object.setPrototypeOf&&!de,me=function(){try{return!(b.Map()instanceof b.Map)}catch(e){return e instanceof TypeError}}();if(0!==b.Map.length||ve||!me){var be=b.Map;b.Map=function xe(){if(!(this instanceof xe))throw new TypeError('Constructor Map requires "new"');var e=new be;return arguments.length>0&&Q(xe,e,arguments[0]),Object.setPrototypeOf(e,xe.prototype),f(e,"constructor",xe,!0),e},b.Map.prototype=be.prototype,U.preserveToString(b.Map,be)}var ge=h(b.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),we=Object.setPrototypeOf&&!ge,Se=function(){try{return!(b.Set()instanceof b.Set)}catch(e){return e instanceof TypeError}}();if(0!==b.Set.length||we||!Se){var ke=b.Set;b.Set=function Ee(){if(!(this instanceof Ee))throw new TypeError('Constructor Set requires "new"');var e=new ke;return arguments.length>0&&Y(Ee,e,arguments[0]),Object.setPrototypeOf(e,Ee.prototype),f(e,"constructor",Ee,!0),e},b.Set.prototype=ke.prototype,U.preserveToString(b.Set,ke)}var je=!o(function(){return(new Map).keys().next().done});("function"!=typeof b.Map.prototype.clear||0!==(new b.Set).size||0!==(new b.Map).size||"function"!=typeof b.Map.prototype.keys||"function"!=typeof b.Set.prototype.keys||"function"!=typeof b.Map.prototype.forEach||"function"!=typeof b.Set.prototype.forEach||a(b.Map)||a(b.Set)||"function"!=typeof(new b.Map).keys().next||je||!de)&&(delete b.Map,delete b.Set,p(b,{Map:ee.Map,Set:ee.Set},!0))}b.Set.prototype.keys!==b.Set.prototype.values&&f(b.Set.prototype,"keys",b.Set.prototype.values,!0),z(Object.getPrototypeOf((new b.Map).keys())),z(Object.getPrototypeOf((new b.Set).keys()))}return M(Map),M(Set),b}),String.prototype.includes||!function(){"use strict";var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(n){}return r}(),r="".indexOf,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=n.length,o=String(t),a=o.length,s=arguments.length>1?arguments[1]:void 0,u=s?Number(s):0;u!=u&&(u=0);var c=Math.min(Math.max(u,0),i);return a+c>i?!1:-1!=r.call(n,o,u)};t?t(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("./prefixes"),s=n(a),u=e("./css-utils"),c=n(u),l=e("./dom-utils"),f=n(l),p=e("./animation-seq"),y=n(p),h=e("./transition-seq"),d=n(h),v=e("./combo-seq"),m=n(v),b=e("./seq-wrapper"),g=n(b),w=e("./tracker"),S=n(w),k=function(){function e(){i(this,e),this.stylesheet=(new c["default"]).createStyleSheet(),this.tracker=new S["default"](f["default"],s["default"],c["default"],d["default"])}return o(e,[{key:"getPrefix",value:function(e){return(new s["default"]).getPrefix(e)}},{key:"setStyles",value:function(e,t){return(new c["default"]).setStyles(e,t)}},{key:"getStyles",value:function(e,t){return(new c["default"]).getStyles(e,t)}},{key:"createTransition",value:function(e){(new c["default"]).createTransition(e,s["default"])}},{key:"createAnimation",value:function(e){(new c["default"]).createKeyframeAnimation(e,s["default"],this.stylesheet)}},{key:"createClass",value:function(e,t){(new c["default"]).createClass(e,this.stylesheet,t)}},{key:"deleteClass",value:function(e){(new c["default"]).deleteClass(e,this.stylesheet)}},{key:"createCSSRule",value:function(e,t){return(new c["default"]).createCSSRule(e,t)}},{key:"addClass",value:function(e,t){(new f["default"]).setClass(e,t,!0)}},{key:"removeClass",value:function(e,t){(new f["default"]).setClass(e,t,!1)}},{key:"transition",value:function(e){return new g["default"](e,f["default"],s["default"],c["default"],d["default"],m["default"],this.tracker)}},{key:"animation",value:function(e){return new g["default"](e,f["default"],s["default"],c["default"],y["default"],m["default"],this.tracker)}},{key:"combo",value:function(e){return new m["default"](e)}},{key:"isSupported",value:function(){return(new f["default"]).support(s["default"],c["default"])}},{key:"pause",value:function(){this.tracker.pause()}},{key:"play",value:function(){this.tracker.play()}}]),e}();window.Animator=new k},{"./animation-seq":2,"./combo-seq":3,"./css-utils":4,"./dom-utils":5,"./prefixes":6,"./seq-wrapper":7,"./tracker":8,"./transition-seq":9}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r,i,o,a){var s=this;return n(this,e),this.options=t,this.domUtils=new r,this.cssUtils=new o,this.prefix=(new i).getPrefix("animationend"),this.onAnimationEnd=this.animationEnd.bind(this),this.tracker=a,new Promise(function(e,t){s.resolve=e,s.reject=t,s.animationFrame=requestAnimationFrame(s.animationStart.bind(s))})}return i(e,[{key:"animationStart",value:function(){var e=this.options;e.element.addEventListener(this.prefix,this.onAnimationEnd,!1),e.setStyles&&e.setStyles.before&&this.cssUtils.setStyles(e.element,e.setStyles.before),e.removeClass&&e.removeClass.before&&this.domUtils.setClass(e.element,e.removeClass.before,!1),e.addClass&&e.addClass.before&&this.domUtils.setClass(e.element,e.addClass.before,!0)}},{key:"animationEnd",value:function(){var e=this.options;e.element.removeEventListener(this.prefix,this.onAnimationEnd,!1),cancelAnimationFrame(this.animationFrame),e.setStyles&&e.setStyles.after&&this.cssUtils.setStyles(e.element,e.setStyles.after),e.removeClass&&e.removeClass.after&&this.domUtils.setClass(e.element,e.removeClass.after,!1),e.addClass&&e.addClass.after&&this.domUtils.setClass(e.element,e.addClass.after,!0),this.tracker.remove("Animations",e.element),this.resolve(e.element)}}]),e}();r["default"]=o,t.exports=r["default"]},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){var r=this;return n(this,e),new Promise(function(e,n){var i=r.sequenceWatcher();r.resolve=e,r.reject=n,r.amount=t.length,t.forEach(function(e){e.then(function(e){i(e)})["catch"](function(e){r.reject(e)})})})}return i(e,[{key:"sequenceWatcher",value:function(){var e=this,t=0,r=[];return function(n){t++,r.push(n),t===e.amount&&e.resolve(r)}}}]),e}();r["default"]=o,t.exports=r["default"]},{}],4:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){i(this,e)}return o(e,[{key:"createStyleSheet",value:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}},{key:"cssTextToJs",value:function(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}},{key:"setStyles",value:function(e,t,r){var n=e.length?Array.from(e):[e];n.forEach(function(e){Object.keys(t).forEach(function(r){var n=n||String(t[r]).includes("important")?"important":null,i=String(t[r]).replace(/!?important/,"").trim();e.style.setProperty(r,i,n)})})}},{key:"getStyles",value:function(e,t){var r=Array.isArray(t)?[].concat(n(t)):[t],i={};return r.forEach(function(t){i[t]=window.getComputedStyle(e).getPropertyValue(t)}),i}},{key:"createTransition",value:function(e,t){var r=this,i=(new t).getPrefix("transition"),o=e.element.length?Array.from(e.element):[e.element],a=Array.isArray(e.properties)?[].concat(n(e.properties)):[e.properties],s=Array.isArray(e.duration)?[].concat(n(e.duration)):[e.duration],u=Array.isArray(e.easing)?[].concat(n(e.easing)):[e.easing],c=Array.isArray(e.delay)?[].concat(n(e.delay)):[e.delay];o.forEach(function(e){var t="",n={};a.forEach(function(e,r){t+=" ",t+=a.length>1?a[r]+" ":a[0]+" ",t+=s.length>1?s[r]+" ":s[0]+" ",t+=u.length>1?u[r]+" ":(u[0]||"ease")+" ",t+=c.length>1?c[r]+",":(c[0]||"0s")+","}),t=t.substr(0,t.length-1),n[i]=t,r.setStyles(e,n)})}},{key:"createKeyframeAnimation",value:function(e,t,r){var n="",i=new t,o=i.getPrefix("keyframes");o+=" "+e.name+" {\n",Object.keys(e.animation).forEach(function(t){n+=t+" {",Object.keys(e.animation[t]).forEach(function(r){n+="\n"+r+" : "+e.animation[t][r]+";"}),n+="\n }\n"}),n+="}",r.insertRule(o+n,r.rules.length||r.cssRules.length),e.animationClass&&this.createClass(e.animationClass.name,r,e.animationClass.rules)}},{key:"createClass",value:function(e,t){var r=void 0===arguments[2]?{}:arguments[2],n="."+e,i="{ ";Object.keys(r).forEach(function(e){i+=e+" : "+r[e]+"; "}),i+="}",t.insertRule(n+i,t.rules.length||t.cssRules.length)}},{key:"deleteClass",value:function(e,t){var r=t.rules||t.cssRules,n="."+e;Object.keys(r).forEach(function(e){r[e]instanceof CSSStyleRule&&r[e].selectorText===n&&t.deleteRule(e)})}},{key:"createCSSRule",value:function(e,t){var r=Array.isArray(e)?[].concat(n(e)):[e],i=Array.isArray(t)?[].concat(n(t)):[t],o={};return r.forEach(function(e,t){o[e]=i[t]}),o}}]),e}();r["default"]=a,t.exports=r["default"]},{}],5:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){i(this,e)}return o(e,[{key:"setClass",value:function(e,t,r){var i=Array.isArray(t)?[].concat(n(t)):[t],o=e.length?Array.from(e):[e],a=r?"add":"remove";i.forEach(function(e){o.forEach(function(t){t.classList[a](e)})})}},{key:"support",value:function(e,t){var r=new e,n=(new t,r.getPrefix("transition")),i=r.getPrefix("animation"),o=!!window.requestAnimationFrame;return n&&i&&o}}]),e}();r["default"]=a,t.exports=r["default"]},{}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.testElement=document.createElement("div"),this.prefixes=new Map,
this.prefixes.set("transform",["-webkit-transform","transform"]),this.prefixes.set("transform-origin",["-webkit-transform-origin","transform-origin"]),this.prefixes.set("transform-style",["-webkit-transform-style","transform-style"]),this.prefixes.set("transition",["-webkit-transition","transition"]),this.prefixes.set("transition-delay",["-webkit-transition-delay","transition-delay"]),this.prefixes.set("transition-duration",["-webkit-transition-duration","transition-duration"]),this.prefixes.set("transition-property",["-webkit-transition-property","transition-property"]),this.prefixes.set("transition-timing-function",["-webkit-transition-timing-function","transition-timing-function"]),this.prefixes.set("keyframes",["-webkit-","-ms-","-moz-",""]),this.prefixes.set("animation",["-webkit-animation","-ms-animation","-moz-animation","animation"]),this.prefixes.set("animation-name",["-webkit-animation-name","-ms-animation-name","-moz-animation-name","animation-name"]),this.prefixes.set("animation-iteration-count",["-webkit-animation-iteration-count","-ms-animation-iteration-count","-moz-animation-iteration-count","animation-iteration-count"]),this.prefixes.set("animation-play-state",["-webkit-animation-play-state","-ms-animation-play-state","-moz-animation-play-state","animation-play-state"]),this.prefixes.set("animation-duration",["-webkit-animation-duration","-ms-animation-duration","-moz-animation-duration","animation-duration"]),this.prefixes.set("animation-delay",["-webkit-animation-delay","-ms-animation-delay","-moz-animation-delay","animation-delay"]),this.prefixes.set("animation-direction",["-webkit-animation-direction","-ms-animation-direction","-moz-animation-direction","animation-direction"]),this.prefixes.set("animation-fill-mode",["-webkit-animation-fill-mode","-ms-animation-fill-mode","-moz-animation-fill-mode","animation-fill-mode"]);var t="webkitTransitionEnd",r="transitionend",i="webkitAnimationEnd",o="animationend",a={WebkitTransition:t,transition:r},s={WebkitAnimation:i,animation:o};this.prefixes.set("transitionend",a),this.prefixes.set("animationend",s)}return i(e,[{key:"getPrefix",value:function(e){var t=this;if(this.prefixes.has(e)){if("transitionend"===e||"animationend"===e)return this.getPrefixedEventName(e);if("keyframes"===e){var r=this.prefixes.get(e).filter(function(e){return void 0!==t.testElement.style[e+"animation-name"]})[0];return"@"+r+"keyframes"}return this.prefixes.get(e).filter(function(e){return void 0!==t.testElement.style[e]})[0]}return!1}},{key:"getPrefixedEventName",value:function(e){var t=this,r=this.prefixes.get(e),n=Object.keys(r).filter(function(e){return void 0!==t.testElement.style[e]});return r[n[0]]}}]),e}();r["default"]=o,t.exports=r["default"]},{}],7:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function o(e,t,r,i,a,s,u){if(n(this,o),e.element.length){var c=Array.from(e.element).map(function(n){var o={};return Object.keys(e).forEach(function(t){o[t]=e[t]}),o.element=n,u.track(o,a),new a(o,t,r,i,u)});return new s(c)}return u.track(e,a),new a(e,t,r,i,u)};r["default"]=i,t.exports=r["default"]},{}],8:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r,n,o){i(this,e),this.tracker=new Map,this.tracker.set("Transitions",new Map),this.tracker.set("Animations",new Map),this.domUtils=new t,this.prefix=new r,this.cssUtils=new n,this.transitionPrototype=o.prototype}return o(e,[{key:"track",value:function(e,t){var r=this.tracker.get("Transitions").get(e.element),n=this.tracker.get("Animations").get(e.element);t.prototype===this.transitionPrototype?r?this.updateTransitionRecord(r,e):this.trackTransition(e):n||this.trackAnimation(e)}},{key:"trackTransition",value:function(e){var t={},r={},i=this.tracker.get("Transitions"),o=Animator.getPrefix("transition-property"),a=Animator.getPrefix("transition-duration"),s=Animator.getPrefix("transition-timing-function"),u=Animator.getPrefix("transition-delay");r[o]=this.cssUtils.getStyles(e.element,o)[o],r[a]=this.cssUtils.getStyles(e.element,a)[a],r[s]=this.cssUtils.getStyles(e.element,s)[s],r[u]=this.cssUtils.getStyles(e.element,u)[u],t.transitionStyles=r,e.setStyles&&e.setStyles.before&&(t.styles=e.setStyles.before),(e.addClass&&e.addClass.before||e.removeClass&&e.removeClass.before)&&(t.classTriggered=!0),t.properties=Array.isArray(e.properties)?[].concat(n(e.properties)):[e.properties],i.set(e.element,t)}},{key:"trackAnimation",value:function(e){var t={},r=this.tracker.get("Animations");r.set(e.element,t)}},{key:"updateTransitionRecord",value:function(e,t){var r=Array.isArray(t.properties)?[].concat(n(t.properties)):[t.properties];r=r.filter(function(t){return-1===e.properties.indexOf(t)}),e.properties=[].concat(n(e.properties),n(r)),t.setStyles&&t.setStyles.before&&(e.styles||(e.styles={}),Object.keys(t.setStyles.before).forEach(function(r){e.styles[r]=t.setStyles.before[r]}))}},{key:"pause",value:function(){for(var e=this,t=this.tracker.get("Transitions"),r=t.keys(),n=this.tracker.get("Animations"),i=n.keys();;){var o=i.next(),a={};if(o.done)break;a[this.prefix.getPrefix("animation-play-state")]="paused",this.cssUtils.setStyles(o.value,a)}for(var s=function(){var n=r.next(),i=void 0,o={};return n.done?"break":(i=t.get(n.value),i.properties.forEach(function(t){var r=e.cssUtils.getStyles(n.value,t);e.cssUtils.setStyles(n.value,r)}),o={},o[e.prefix.getPrefix("transition")]="none",void e.cssUtils.setStyles(n.value,o))};;){var u=s();if("break"===u)break}}},{key:"play",value:function(){for(var e=this,t=this.tracker.get("Transitions"),r=t.keys(),n=this.tracker.get("Animations"),i=n.keys();;){var o=i.next(),a={};if(o.done)break;a[this.prefix.getPrefix("animation-play-state")]="running",this.cssUtils.setStyles(o.value,a)}for(var s=function(){var n=r.next();if(n.done)return"break";var i=t.get(n.value);e.cssUtils.setStyles(n.value,i.transitionStyles),i.classTriggered&&i.properties.forEach(function(e){n.value.style.removeProperty(e)}),i.styles&&e.cssUtils.setStyles(n.value,i.styles)};;){var u=s();if("break"===u)break}}},{key:"remove",value:function(e,t){this.tracker.get(e)["delete"](t)}}]),e}();r["default"]=a,t.exports=r["default"]},{}],9:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r,i,o,a){var s=this;return n(this,e),this.options=t,this.domUtils=new r,this.prefix=(new i).getPrefix("transitionend"),this.cssUtils=new o,this.onTransitionEnd=this.transitionEnd.bind(this),this.totaltransitions=Array.isArray(t.properties)?t.properties.length:1,this.transitionendCount=0,this.tracker=a,new Promise(function(e,t){s.resolve=e,s.reject=t,s.animationFrame=requestAnimationFrame(s.transitionStart.bind(s))})}return i(e,[{key:"transitionStart",value:function(){var e=this.options;e.element.addEventListener(this.prefix,this.onTransitionEnd,!1),e.setStyles&&e.setStyles.before&&this.cssUtils.setStyles(e.element,e.setStyles.before),e.removeClass&&e.removeClass.before&&this.domUtils.setClass(e.element,e.removeClass.before,!1),e.addClass&&e.addClass.before&&this.domUtils.setClass(e.element,e.addClass.before,!0)}},{key:"transitionEnd",value:function(){var e=this.options;this.transitionendCount++,this.transitionendCount===this.totaltransitions&&(e.element.removeEventListener(this.prefix,this.onTransitionEnd,!1),cancelAnimationFrame(this.animationFrame),e.setStyles&&e.setStyles.after&&this.cssUtils.setStyles(e.element,e.setStyles.after),e.removeClass&&e.removeClass.after&&this.domUtils.setClass(e.element,e.removeClass.after,!1),e.addClass&&e.addClass.after&&this.domUtils.setClass(e.element,e.addClass.after,!0),this.tracker.remove("Transitions",e.element),this.resolve(e.element))}}]),e}();r["default"]=o,t.exports=r["default"]},{}]},{},[1]);